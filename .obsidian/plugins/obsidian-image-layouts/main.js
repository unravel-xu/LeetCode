"use strict";var L=Object.defineProperty;var T=(e,n,r)=>n in e?L(e,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[n]=r;var O=(e,n,r)=>(T(e,typeof n!="symbol"?n+"":n,r),r);const obsidian=require("obsidian"),require$$0=require("fs"),__uno="";function noop(){}function assign$1(e,n){for(const r in n)e[r]=n[r];return e}function run(e){return e()}function blank_object(){return Object.create(null)}function run_all(e){e.forEach(run)}function is_function(e){return typeof e=="function"}function safe_not_equal(e,n){return e!=e?n==n:e!==n||e&&typeof e=="object"||typeof e=="function"}let src_url_equal_anchor;function src_url_equal(e,n){return e===n?!0:(src_url_equal_anchor||(src_url_equal_anchor=document.createElement("a")),src_url_equal_anchor.href=n,e===src_url_equal_anchor.href)}function is_empty(e){return Object.keys(e).length===0}function create_slot(e,n,r,t){if(e){const o=get_slot_context(e,n,r,t);return e[0](o)}}function get_slot_context(e,n,r,t){return e[1]&&t?assign$1(r.ctx.slice(),e[1](t(n))):r.ctx}function get_slot_changes(e,n,r,t){if(e[2]&&t){const o=e[2](t(r));if(n.dirty===void 0)return o;if(typeof o=="object"){const a=[],l=Math.max(n.dirty.length,o.length);for(let c=0;c<l;c+=1)a[c]=n.dirty[c]|o[c];return a}return n.dirty|o}return n.dirty}function update_slot_base(e,n,r,t,o,a){if(o){const l=get_slot_context(n,r,t,a);e.p(l,o)}}function get_all_dirty_from_scope(e){if(e.ctx.length>32){const n=[],r=e.ctx.length/32;for(let t=0;t<r;t++)n[t]=-1;return n}return-1}function null_to_empty(e){return e??""}function append(e,n){e.appendChild(n)}function insert(e,n,r){e.insertBefore(n,r||null)}function detach(e){e.parentNode&&e.parentNode.removeChild(e)}function destroy_each(e,n){for(let r=0;r<e.length;r+=1)e[r]&&e[r].d(n)}function element(e){return document.createElement(e)}function svg_element(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function text(e){return document.createTextNode(e)}function space(){return text(" ")}function empty(){return text("")}function listen(e,n,r,t){return e.addEventListener(n,r,t),()=>e.removeEventListener(n,r,t)}function attr(e,n,r){r==null?e.removeAttribute(n):e.getAttribute(n)!==r&&e.setAttribute(n,r)}function children(e){return Array.from(e.childNodes)}function set_data(e,n){n=""+n,e.data!==n&&(e.data=n)}function toggle_class(e,n,r){e.classList.toggle(n,!!r)}function custom_event(e,n,{bubbles:r=!1,cancelable:t=!1}={}){return new CustomEvent(e,{detail:n,bubbles:r,cancelable:t})}let current_component;function set_current_component(e){current_component=e}function get_current_component(){if(!current_component)throw new Error("Function called outside component initialization");return current_component}function createEventDispatcher(){const e=get_current_component();return(n,r,{cancelable:t=!1}={})=>{const o=e.$$.callbacks[n];if(o){const a=custom_event(n,r,{cancelable:t});return o.slice().forEach(l=>{l.call(e,a)}),!a.defaultPrevented}return!0}}function bubble(e,n){const r=e.$$.callbacks[n.type];r&&r.slice().forEach(t=>t.call(this,n))}const dirty_components=[],binding_callbacks=[];let render_callbacks=[];const flush_callbacks=[],resolved_promise=Promise.resolve();let update_scheduled=!1;function schedule_update(){update_scheduled||(update_scheduled=!0,resolved_promise.then(flush))}function add_render_callback(e){render_callbacks.push(e)}const seen_callbacks=new Set;let flushidx=0;function flush(){if(flushidx!==0)return;const e=current_component;do{try{for(;flushidx<dirty_components.length;){const n=dirty_components[flushidx];flushidx++,set_current_component(n),update(n.$$)}}catch(n){throw dirty_components.length=0,flushidx=0,n}for(set_current_component(null),dirty_components.length=0,flushidx=0;binding_callbacks.length;)binding_callbacks.pop()();for(let n=0;n<render_callbacks.length;n+=1){const r=render_callbacks[n];seen_callbacks.has(r)||(seen_callbacks.add(r),r())}render_callbacks.length=0}while(dirty_components.length);for(;flush_callbacks.length;)flush_callbacks.pop()();update_scheduled=!1,seen_callbacks.clear(),set_current_component(e)}function update(e){if(e.fragment!==null){e.update(),run_all(e.before_update);const n=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,n),e.after_update.forEach(add_render_callback)}}function flush_render_callbacks(e){const n=[],r=[];render_callbacks.forEach(t=>e.indexOf(t)===-1?n.push(t):r.push(t)),r.forEach(t=>t()),render_callbacks=n}const outroing=new Set;let outros;function group_outros(){outros={r:0,c:[],p:outros}}function check_outros(){outros.r||run_all(outros.c),outros=outros.p}function transition_in(e,n){e&&e.i&&(outroing.delete(e),e.i(n))}function transition_out(e,n,r,t){if(e&&e.o){if(outroing.has(e))return;outroing.add(e),outros.c.push(()=>{outroing.delete(e),t&&(r&&e.d(1),t())}),e.o(n)}else t&&t()}function ensure_array_like(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function outro_and_destroy_block(e,n){transition_out(e,1,1,()=>{n.delete(e.key)})}function update_keyed_each(e,n,r,t,o,a,l,c,s,u,f,p){let d=e.length,m=a.length,_=d;const g={};for(;_--;)g[e[_].key]=_;const h=[],v=new Map,w=new Map,y=[];for(_=m;_--;){const E=p(o,a,_),A=r(E);let b=l.get(A);b?t&&y.push(()=>b.p(E,n)):(b=u(A,E),b.c()),v.set(A,h[_]=b),A in g&&w.set(A,Math.abs(_-g[A]))}const x=new Set,S=new Set;function k(E){transition_in(E,1),E.m(c,f),l.set(E.key,E),f=E.first,m--}for(;d&&m;){const E=h[m-1],A=e[d-1],b=E.key,C=A.key;E===A?(f=E.first,d--,m--):v.has(C)?!l.has(b)||x.has(b)?k(E):S.has(C)?d--:w.get(b)>w.get(C)?(S.add(b),k(E)):(x.add(C),d--):(s(A,l),d--)}for(;d--;){const E=e[d];v.has(E.key)||s(E,l)}for(;m;)k(h[m-1]);return run_all(y),h}function create_component(e){e&&e.c()}function mount_component(e,n,r){const{fragment:t,after_update:o}=e.$$;t&&t.m(n,r),add_render_callback(()=>{const a=e.$$.on_mount.map(run).filter(is_function);e.$$.on_destroy?e.$$.on_destroy.push(...a):run_all(a),e.$$.on_mount=[]}),o.forEach(add_render_callback)}function destroy_component(e,n){const r=e.$$;r.fragment!==null&&(flush_render_callbacks(r.after_update),run_all(r.on_destroy),r.fragment&&r.fragment.d(n),r.on_destroy=r.fragment=null,r.ctx=[])}function make_dirty(e,n){e.$$.dirty[0]===-1&&(dirty_components.push(e),schedule_update(),e.$$.dirty.fill(0)),e.$$.dirty[n/31|0]|=1<<n%31}function init(e,n,r,t,o,a,l=null,c=[-1]){const s=current_component;set_current_component(e);const u=e.$$={fragment:null,ctx:[],props:a,update:noop,not_equal:o,bound:blank_object(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(s?s.$$.context:[])),callbacks:blank_object(),dirty:c,skip_bound:!1,root:n.target||s.$$.root};l&&l(u.root);let f=!1;if(u.ctx=r?r(e,n.props||{},(p,d,...m)=>{const _=m.length?m[0]:d;return u.ctx&&o(u.ctx[p],u.ctx[p]=_)&&(!u.skip_bound&&u.bound[p]&&u.bound[p](_),f&&make_dirty(e,p)),d}):[],u.update(),f=!0,run_all(u.before_update),u.fragment=t?t(u.ctx):!1,n.target){if(n.hydrate){const p=children(n.target);u.fragment&&u.fragment.l(p),p.forEach(detach)}else u.fragment&&u.fragment.c();n.intro&&transition_in(e.$$.fragment),mount_component(e,n.target,n.anchor),flush()}set_current_component(s)}class SvelteComponent{constructor(){O(this,"$$");O(this,"$$set")}$destroy(){destroy_component(this,1),this.$destroy=noop}$on(n,r){if(!is_function(r))return noop;const t=this.$$.callbacks[n]||(this.$$.callbacks[n]=[]);return t.push(r),()=>{const o=t.indexOf(r);o!==-1&&t.splice(o,1)}}$set(n){this.$$set&&!is_empty(n)&&(this.$$.skip_bound=!0,this.$$set(n),this.$$.skip_bound=!1)}}const PUBLIC_VERSION="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(PUBLIC_VERSION);const LegacyGridImage_svelte_svelte_type_style_lang="";function create_if_block$4(e){let n,r,t;return{c(){n=element("div"),r=element("div"),t=text(e[1]),attr(r,"class","w-full rounded-md bg-white bg-opacity-75 px-4 py-2 text-center text-sm font-medium text-gray-900 backdrop-blur backdrop-filter"),attr(n,"class","absolute bottom-0 left-0 right-0 flex items-end p-4"),attr(n,"aria-hidden","true"),toggle_class(n,"opacity-0",!e[3]),toggle_class(n,"group-hover:opacity-100",!e[3])},m(o,a){insert(o,n,a),append(n,r),append(r,t)},p(o,a){a&2&&set_data(t,o[1]),a&8&&toggle_class(n,"opacity-0",!o[3]),a&8&&toggle_class(n,"group-hover:opacity-100",!o[3])},d(o){o&&detach(n)}}}function create_fragment$b(e){let n,r,t,o,a,l=e[1]&&create_if_block$4(e);return{c(){n=element("div"),r=element("img"),o=space(),l&&l.c(),attr(r,"class","w-full h-full object-cover object-center"),src_url_equal(r.src,t=e[0])||attr(r,"src",t),attr(r,"alt",e[1]),attr(n,"class",a=null_to_empty(`group relative image-layouts-image-${e[2]}`)+" svelte-1jhxzuo")},m(c,s){insert(c,n,s),append(n,r),append(n,o),l&&l.m(n,null)},p(c,[s]){s&1&&!src_url_equal(r.src,t=c[0])&&attr(r,"src",t),s&2&&attr(r,"alt",c[1]),c[1]?l?l.p(c,s):(l=create_if_block$4(c),l.c(),l.m(n,null)):l&&(l.d(1),l=null),s&4&&a!==(a=null_to_empty(`group relative image-layouts-image-${c[2]}`)+" svelte-1jhxzuo")&&attr(n,"class",a)},i:noop,o:noop,d(c){c&&detach(n),l&&l.d()}}}function instance$b(e,n,r){let{src:t}=n,{description:o}=n,{index:a}=n,{permanentOverlay:l=!1}=n;return e.$$set=c=>{"src"in c&&r(0,t=c.src),"description"in c&&r(1,o=c.description),"index"in c&&r(2,a=c.index),"permanentOverlay"in c&&r(3,l=c.permanentOverlay)},[t,o,a,l]}class LegacyGridImage extends SvelteComponent{constructor(n){super(),init(this,n,instance$b,create_fragment$b,safe_not_equal,{src:0,description:1,index:2,permanentOverlay:3})}}function create_if_block$3(e){let n,r;return{c(){n=element("div"),r=text(e[0]),attr(n,"class","text-center text-xs text-gray-800 my-2")},m(t,o){insert(t,n,o),append(n,r)},p(t,o){o&1&&set_data(r,t[0])},d(t){t&&detach(n)}}}function create_fragment$a(e){let n,r=e[0]&&e[0]!==""&&create_if_block$3(e);return{c(){r&&r.c(),n=empty()},m(t,o){r&&r.m(t,o),insert(t,n,o)},p(t,[o]){t[0]&&t[0]!==""?r?r.p(t,o):(r=create_if_block$3(t),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:noop,o:noop,d(t){t&&detach(n),r&&r.d(t)}}}function instance$a(e,n,r){let{caption:t=""}=n;return e.$$set=o=>{"caption"in o&&r(0,t=o.caption)},[t]}class Caption extends SvelteComponent{constructor(n){super(),init(this,n,instance$a,create_fragment$a,safe_not_equal,{caption:0})}}const LegacyImageLayout_svelte_svelte_type_style_lang="";function get_each_context$2(e,n,r){const t=e.slice();return t[7]=n[r],t[9]=r,t}function create_each_block$2(e,n){let r,t,o;return t=new LegacyGridImage({props:{index:n[9],src:n[7].link,description:n[2][n[9]]??n[7].alt??`Image ${n[9]+1}`,permanentOverlay:n[3]}}),{key:e,first:null,c(){r=empty(),create_component(t.$$.fragment),this.first=r},m(a,l){insert(a,r,l),mount_component(t,a,l),o=!0},p(a,l){n=a;const c={};l&16&&(c.index=n[9]),l&16&&(c.src=n[7].link),l&20&&(c.description=n[2][n[9]]??n[7].alt??`Image ${n[9]+1}`),l&8&&(c.permanentOverlay=n[3]),t.$set(c)},i(a){o||(transition_in(t.$$.fragment,a),o=!0)},o(a){transition_out(t.$$.fragment,a),o=!1},d(a){a&&detach(r),destroy_component(t,a)}}}function create_fragment$9(e){let n,r=[],t=new Map,o,a,l,c,s=ensure_array_like(e[4]);const u=f=>f[7].link;for(let f=0;f<s.length;f+=1){let p=get_each_context$2(e,s,f),d=u(p);t.set(d,r[f]=create_each_block$2(d,p))}return l=new Caption({props:{caption:e[1]}}),{c(){n=element("div");for(let f=0;f<r.length;f+=1)r[f].c();a=space(),create_component(l.$$.fragment),attr(n,"class",o=null_to_empty(`image-layouts image-layouts-grid image-layouts-layout-${e[0]} cursor-default`)+" svelte-270mav")},m(f,p){insert(f,n,p);for(let d=0;d<r.length;d+=1)r[d]&&r[d].m(n,null);insert(f,a,p),mount_component(l,f,p),c=!0},p(f,[p]){p&28&&(s=ensure_array_like(f[4]),group_outros(),r=update_keyed_each(r,p,u,1,f,s,t,n,outro_and_destroy_block,create_each_block$2,null,get_each_context$2),check_outros()),(!c||p&1&&o!==(o=null_to_empty(`image-layouts image-layouts-grid image-layouts-layout-${f[0]} cursor-default`)+" svelte-270mav"))&&attr(n,"class",o);const d={};p&2&&(d.caption=f[1]),l.$set(d)},i(f){if(!c){for(let p=0;p<s.length;p+=1)transition_in(r[p]);transition_in(l.$$.fragment,f),c=!0}},o(f){for(let p=0;p<r.length;p+=1)transition_out(r[p]);transition_out(l.$$.fragment,f),c=!1},d(f){f&&(detach(n),detach(a));for(let p=0;p<r.length;p+=1)r[p].d();destroy_component(l,f)}}}function instance$9(e,n,r){let{layout:t="a"}=n,{images:o=[]}=n,{requiredImages:a=0}=n,{caption:l=""}=n,{descriptions:c=[]}=n,{permanentOverlay:s=!1}=n,u=[];return o.length<a?u=[...o,...Array(a-o.length).fill({type:"external",link:"https://via.placeholder.com/640x480"})]:u=o.slice(0,a),e.$$set=f=>{"layout"in f&&r(0,t=f.layout),"images"in f&&r(5,o=f.images),"requiredImages"in f&&r(6,a=f.requiredImages),"caption"in f&&r(1,l=f.caption),"descriptions"in f&&r(2,c=f.descriptions),"permanentOverlay"in f&&r(3,s=f.permanentOverlay)},[t,l,c,s,u,o,a]}class LegacyImageLayout extends SvelteComponent{constructor(n){super(),init(this,n,instance$9,create_fragment$9,safe_not_equal,{layout:0,images:5,requiredImages:6,caption:1,descriptions:2,permanentOverlay:3})}}const layoutImages={a:2,b:2,c:2,d:3,e:3,f:4,g:4,h:3,i:4,single:1},regexWiki=/\[\[([^\]]+)\]\]/,regexParenthesis=/\((.*?)\)/,regexBrackets=/\[(.*?)\]/,regexWikiGlobal=/\[\[([^\]]*)\]\]/g,regexMdGlobal=/\[([^\]]*)\]\(([^\(]*)\)/g,getImageFromLine=e=>{var n,r,t;if(e.match(regexMdGlobal)){const o=(n=e.match(regexParenthesis))==null?void 0:n[1],a=(r=e.match(regexBrackets))==null?void 0:r[1];if(o)return o.toLowerCase().startsWith("http")?{type:"external",link:o,alt:a}:{type:"wiki",link:o,alt:a}}else if(e.match(regexWikiGlobal)){const o=(t=e.match(regexWiki))==null?void 0:t[1];if(o)return{type:"wiki",link:o}}return null},getImages=e=>e.split(`
`).filter(t=>t.startsWith("!")).map(t=>getImageFromLine(t)).filter(t=>t!==null);function resolveLocalImages(e,n,r){return e.map(t=>{if(t.type==="wiki"){const o=r.app.metadataCache.getFirstLinkpathDest(t.link,n.sourcePath);if(o)return{type:"resolved",link:r.app.vault.adapter.getResourcePath(o.path)}}return t})}function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var frontMatter={exports:{}},jsYaml$1={},loader$1={},common$6={};function isNothing(e){return typeof e>"u"||e===null}function isObject$1(e){return typeof e=="object"&&e!==null}function toArray(e){return Array.isArray(e)?e:isNothing(e)?[]:[e]}function extend$1(e,n){var r,t,o,a;if(n)for(a=Object.keys(n),r=0,t=a.length;r<t;r+=1)o=a[r],e[o]=n[o];return e}function repeat(e,n){var r="",t;for(t=0;t<n;t+=1)r+=e;return r}function isNegativeZero(e){return e===0&&Number.NEGATIVE_INFINITY===1/e}common$6.isNothing=isNothing;common$6.isObject=isObject$1;common$6.toArray=toArray;common$6.repeat=repeat;common$6.isNegativeZero=isNegativeZero;common$6.extend=extend$1;function YAMLException$4(e,n){Error.call(this),this.name="YAMLException",this.reason=e,this.mark=n,this.message=(this.reason||"(unknown reason)")+(this.mark?" "+this.mark.toString():""),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack||""}YAMLException$4.prototype=Object.create(Error.prototype);YAMLException$4.prototype.constructor=YAMLException$4;YAMLException$4.prototype.toString=function(n){var r=this.name+": ";return r+=this.reason||"(unknown reason)",!n&&this.mark&&(r+=" "+this.mark.toString()),r};var exception=YAMLException$4,common$5=common$6;function Mark$1(e,n,r,t,o){this.name=e,this.buffer=n,this.position=r,this.line=t,this.column=o}Mark$1.prototype.getSnippet=function(n,r){var t,o,a,l,c;if(!this.buffer)return null;for(n=n||4,r=r||75,t="",o=this.position;o>0&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(o-1))===-1;)if(o-=1,this.position-o>r/2-1){t=" ... ",o+=5;break}for(a="",l=this.position;l<this.buffer.length&&`\0\r
\u2028\u2029`.indexOf(this.buffer.charAt(l))===-1;)if(l+=1,l-this.position>r/2-1){a=" ... ",l-=5;break}return c=this.buffer.slice(o,l),common$5.repeat(" ",n)+t+c+a+`
`+common$5.repeat(" ",n+this.position-o+t.length)+"^"};Mark$1.prototype.toString=function(n){var r,t="";return this.name&&(t+='in "'+this.name+'" '),t+="at line "+(this.line+1)+", column "+(this.column+1),n||(r=this.getSnippet(),r&&(t+=`:
`+r)),t};var mark=Mark$1,YAMLException$3=exception,TYPE_CONSTRUCTOR_OPTIONS=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],YAML_NODE_KINDS=["scalar","sequence","mapping"];function compileStyleAliases(e){var n={};return e!==null&&Object.keys(e).forEach(function(r){e[r].forEach(function(t){n[String(t)]=r})}),n}function Type$h(e,n){if(n=n||{},Object.keys(n).forEach(function(r){if(TYPE_CONSTRUCTOR_OPTIONS.indexOf(r)===-1)throw new YAMLException$3('Unknown option "'+r+'" is met in definition of "'+e+'" YAML type.')}),this.tag=e,this.kind=n.kind||null,this.resolve=n.resolve||function(){return!0},this.construct=n.construct||function(r){return r},this.instanceOf=n.instanceOf||null,this.predicate=n.predicate||null,this.represent=n.represent||null,this.defaultStyle=n.defaultStyle||null,this.styleAliases=compileStyleAliases(n.styleAliases||null),YAML_NODE_KINDS.indexOf(this.kind)===-1)throw new YAMLException$3('Unknown kind "'+this.kind+'" is specified for "'+e+'" YAML type.')}var type=Type$h,common$4=common$6,YAMLException$2=exception,Type$g=type;function compileList(e,n,r){var t=[];return e.include.forEach(function(o){r=compileList(o,n,r)}),e[n].forEach(function(o){r.forEach(function(a,l){a.tag===o.tag&&a.kind===o.kind&&t.push(l)}),r.push(o)}),r.filter(function(o,a){return t.indexOf(a)===-1})}function compileMap(){var e={scalar:{},sequence:{},mapping:{},fallback:{}},n,r;function t(o){e[o.kind][o.tag]=e.fallback[o.tag]=o}for(n=0,r=arguments.length;n<r;n+=1)arguments[n].forEach(t);return e}function Schema$5(e){this.include=e.include||[],this.implicit=e.implicit||[],this.explicit=e.explicit||[],this.implicit.forEach(function(n){if(n.loadKind&&n.loadKind!=="scalar")throw new YAMLException$2("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=compileList(this,"implicit",[]),this.compiledExplicit=compileList(this,"explicit",[]),this.compiledTypeMap=compileMap(this.compiledImplicit,this.compiledExplicit)}Schema$5.DEFAULT=null;Schema$5.create=function(){var n,r;switch(arguments.length){case 1:n=Schema$5.DEFAULT,r=arguments[0];break;case 2:n=arguments[0],r=arguments[1];break;default:throw new YAMLException$2("Wrong number of arguments for Schema.create function")}if(n=common$4.toArray(n),r=common$4.toArray(r),!n.every(function(t){return t instanceof Schema$5}))throw new YAMLException$2("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!r.every(function(t){return t instanceof Type$g}))throw new YAMLException$2("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new Schema$5({include:n,explicit:r})};var schema=Schema$5,Type$f=type,str=new Type$f("tag:yaml.org,2002:str",{kind:"scalar",construct:function(e){return e!==null?e:""}}),Type$e=type,seq=new Type$e("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(e){return e!==null?e:[]}}),Type$d=type,map=new Type$d("tag:yaml.org,2002:map",{kind:"mapping",construct:function(e){return e!==null?e:{}}}),Schema$4=schema,failsafe=new Schema$4({explicit:[str,seq,map]}),Type$c=type;function resolveYamlNull(e){if(e===null)return!0;var n=e.length;return n===1&&e==="~"||n===4&&(e==="null"||e==="Null"||e==="NULL")}function constructYamlNull(){return null}function isNull(e){return e===null}var _null=new Type$c("tag:yaml.org,2002:null",{kind:"scalar",resolve:resolveYamlNull,construct:constructYamlNull,predicate:isNull,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"}),Type$b=type;function resolveYamlBoolean(e){if(e===null)return!1;var n=e.length;return n===4&&(e==="true"||e==="True"||e==="TRUE")||n===5&&(e==="false"||e==="False"||e==="FALSE")}function constructYamlBoolean(e){return e==="true"||e==="True"||e==="TRUE"}function isBoolean(e){return Object.prototype.toString.call(e)==="[object Boolean]"}var bool=new Type$b("tag:yaml.org,2002:bool",{kind:"scalar",resolve:resolveYamlBoolean,construct:constructYamlBoolean,predicate:isBoolean,represent:{lowercase:function(e){return e?"true":"false"},uppercase:function(e){return e?"TRUE":"FALSE"},camelcase:function(e){return e?"True":"False"}},defaultStyle:"lowercase"}),common$3=common$6,Type$a=type;function isHexCode(e){return 48<=e&&e<=57||65<=e&&e<=70||97<=e&&e<=102}function isOctCode(e){return 48<=e&&e<=55}function isDecCode(e){return 48<=e&&e<=57}function resolveYamlInteger(e){if(e===null)return!1;var n=e.length,r=0,t=!1,o;if(!n)return!1;if(o=e[r],(o==="-"||o==="+")&&(o=e[++r]),o==="0"){if(r+1===n)return!0;if(o=e[++r],o==="b"){for(r++;r<n;r++)if(o=e[r],o!=="_"){if(o!=="0"&&o!=="1")return!1;t=!0}return t&&o!=="_"}if(o==="x"){for(r++;r<n;r++)if(o=e[r],o!=="_"){if(!isHexCode(e.charCodeAt(r)))return!1;t=!0}return t&&o!=="_"}for(;r<n;r++)if(o=e[r],o!=="_"){if(!isOctCode(e.charCodeAt(r)))return!1;t=!0}return t&&o!=="_"}if(o==="_")return!1;for(;r<n;r++)if(o=e[r],o!=="_"){if(o===":")break;if(!isDecCode(e.charCodeAt(r)))return!1;t=!0}return!t||o==="_"?!1:o!==":"?!0:/^(:[0-5]?[0-9])+$/.test(e.slice(r))}function constructYamlInteger(e){var n=e,r=1,t,o,a=[];return n.indexOf("_")!==-1&&(n=n.replace(/_/g,"")),t=n[0],(t==="-"||t==="+")&&(t==="-"&&(r=-1),n=n.slice(1),t=n[0]),n==="0"?0:t==="0"?n[1]==="b"?r*parseInt(n.slice(2),2):n[1]==="x"?r*parseInt(n,16):r*parseInt(n,8):n.indexOf(":")!==-1?(n.split(":").forEach(function(l){a.unshift(parseInt(l,10))}),n=0,o=1,a.forEach(function(l){n+=l*o,o*=60}),r*n):r*parseInt(n,10)}function isInteger(e){return Object.prototype.toString.call(e)==="[object Number]"&&e%1===0&&!common$3.isNegativeZero(e)}var int=new Type$a("tag:yaml.org,2002:int",{kind:"scalar",resolve:resolveYamlInteger,construct:constructYamlInteger,predicate:isInteger,represent:{binary:function(e){return e>=0?"0b"+e.toString(2):"-0b"+e.toString(2).slice(1)},octal:function(e){return e>=0?"0"+e.toString(8):"-0"+e.toString(8).slice(1)},decimal:function(e){return e.toString(10)},hexadecimal:function(e){return e>=0?"0x"+e.toString(16).toUpperCase():"-0x"+e.toString(16).toUpperCase().slice(1)}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}}),common$2=common$6,Type$9=type,YAML_FLOAT_PATTERN=new RegExp("^(?:[-+]?(?:0|[1-9][0-9_]*)(?:\\.[0-9_]*)?(?:[eE][-+]?[0-9]+)?|\\.[0-9_]+(?:[eE][-+]?[0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");function resolveYamlFloat(e){return!(e===null||!YAML_FLOAT_PATTERN.test(e)||e[e.length-1]==="_")}function constructYamlFloat(e){var n,r,t,o;return n=e.replace(/_/g,"").toLowerCase(),r=n[0]==="-"?-1:1,o=[],"+-".indexOf(n[0])>=0&&(n=n.slice(1)),n===".inf"?r===1?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:n===".nan"?NaN:n.indexOf(":")>=0?(n.split(":").forEach(function(a){o.unshift(parseFloat(a,10))}),n=0,t=1,o.forEach(function(a){n+=a*t,t*=60}),r*n):r*parseFloat(n,10)}var SCIENTIFIC_WITHOUT_DOT=/^[-+]?[0-9]+e/;function representYamlFloat(e,n){var r;if(isNaN(e))switch(n){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===e)switch(n){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===e)switch(n){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(common$2.isNegativeZero(e))return"-0.0";return r=e.toString(10),SCIENTIFIC_WITHOUT_DOT.test(r)?r.replace("e",".e"):r}function isFloat(e){return Object.prototype.toString.call(e)==="[object Number]"&&(e%1!==0||common$2.isNegativeZero(e))}var float=new Type$9("tag:yaml.org,2002:float",{kind:"scalar",resolve:resolveYamlFloat,construct:constructYamlFloat,predicate:isFloat,represent:representYamlFloat,defaultStyle:"lowercase"}),Schema$3=schema,json=new Schema$3({include:[failsafe],implicit:[_null,bool,int,float]}),Schema$2=schema,core=new Schema$2({include:[json]}),Type$8=type,YAML_DATE_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9])-([0-9][0-9])$"),YAML_TIMESTAMP_REGEXP=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?$");function resolveYamlTimestamp(e){return e===null?!1:YAML_DATE_REGEXP.exec(e)!==null||YAML_TIMESTAMP_REGEXP.exec(e)!==null}function constructYamlTimestamp(e){var n,r,t,o,a,l,c,s=0,u=null,f,p,d;if(n=YAML_DATE_REGEXP.exec(e),n===null&&(n=YAML_TIMESTAMP_REGEXP.exec(e)),n===null)throw new Error("Date resolve error");if(r=+n[1],t=+n[2]-1,o=+n[3],!n[4])return new Date(Date.UTC(r,t,o));if(a=+n[4],l=+n[5],c=+n[6],n[7]){for(s=n[7].slice(0,3);s.length<3;)s+="0";s=+s}return n[9]&&(f=+n[10],p=+(n[11]||0),u=(f*60+p)*6e4,n[9]==="-"&&(u=-u)),d=new Date(Date.UTC(r,t,o,a,l,c,s)),u&&d.setTime(d.getTime()-u),d}function representYamlTimestamp(e){return e.toISOString()}var timestamp=new Type$8("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:resolveYamlTimestamp,construct:constructYamlTimestamp,instanceOf:Date,represent:representYamlTimestamp}),Type$7=type;function resolveYamlMerge(e){return e==="<<"||e===null}var merge=new Type$7("tag:yaml.org,2002:merge",{kind:"scalar",resolve:resolveYamlMerge});function commonjsRequire(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var NodeBuffer;try{var _require$1=commonjsRequire;NodeBuffer=_require$1("buffer").Buffer}catch{}var Type$6=type,BASE64_MAP=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=
\r`;function resolveYamlBinary(e){if(e===null)return!1;var n,r,t=0,o=e.length,a=BASE64_MAP;for(r=0;r<o;r++)if(n=a.indexOf(e.charAt(r)),!(n>64)){if(n<0)return!1;t+=6}return t%8===0}function constructYamlBinary(e){var n,r,t=e.replace(/[\r\n=]/g,""),o=t.length,a=BASE64_MAP,l=0,c=[];for(n=0;n<o;n++)n%4===0&&n&&(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)),l=l<<6|a.indexOf(t.charAt(n));return r=o%4*6,r===0?(c.push(l>>16&255),c.push(l>>8&255),c.push(l&255)):r===18?(c.push(l>>10&255),c.push(l>>2&255)):r===12&&c.push(l>>4&255),NodeBuffer?NodeBuffer.from?NodeBuffer.from(c):new NodeBuffer(c):c}function representYamlBinary(e){var n="",r=0,t,o,a=e.length,l=BASE64_MAP;for(t=0;t<a;t++)t%3===0&&t&&(n+=l[r>>18&63],n+=l[r>>12&63],n+=l[r>>6&63],n+=l[r&63]),r=(r<<8)+e[t];return o=a%3,o===0?(n+=l[r>>18&63],n+=l[r>>12&63],n+=l[r>>6&63],n+=l[r&63]):o===2?(n+=l[r>>10&63],n+=l[r>>4&63],n+=l[r<<2&63],n+=l[64]):o===1&&(n+=l[r>>2&63],n+=l[r<<4&63],n+=l[64],n+=l[64]),n}function isBinary(e){return NodeBuffer&&NodeBuffer.isBuffer(e)}var binary=new Type$6("tag:yaml.org,2002:binary",{kind:"scalar",resolve:resolveYamlBinary,construct:constructYamlBinary,predicate:isBinary,represent:representYamlBinary}),Type$5=type,_hasOwnProperty$3=Object.prototype.hasOwnProperty,_toString$2=Object.prototype.toString;function resolveYamlOmap(e){if(e===null)return!0;var n=[],r,t,o,a,l,c=e;for(r=0,t=c.length;r<t;r+=1){if(o=c[r],l=!1,_toString$2.call(o)!=="[object Object]")return!1;for(a in o)if(_hasOwnProperty$3.call(o,a))if(!l)l=!0;else return!1;if(!l)return!1;if(n.indexOf(a)===-1)n.push(a);else return!1}return!0}function constructYamlOmap(e){return e!==null?e:[]}var omap=new Type$5("tag:yaml.org,2002:omap",{kind:"sequence",resolve:resolveYamlOmap,construct:constructYamlOmap}),Type$4=type,_toString$1=Object.prototype.toString;function resolveYamlPairs(e){if(e===null)return!0;var n,r,t,o,a,l=e;for(a=new Array(l.length),n=0,r=l.length;n<r;n+=1){if(t=l[n],_toString$1.call(t)!=="[object Object]"||(o=Object.keys(t),o.length!==1))return!1;a[n]=[o[0],t[o[0]]]}return!0}function constructYamlPairs(e){if(e===null)return[];var n,r,t,o,a,l=e;for(a=new Array(l.length),n=0,r=l.length;n<r;n+=1)t=l[n],o=Object.keys(t),a[n]=[o[0],t[o[0]]];return a}var pairs=new Type$4("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:resolveYamlPairs,construct:constructYamlPairs}),Type$3=type,_hasOwnProperty$2=Object.prototype.hasOwnProperty;function resolveYamlSet(e){if(e===null)return!0;var n,r=e;for(n in r)if(_hasOwnProperty$2.call(r,n)&&r[n]!==null)return!1;return!0}function constructYamlSet(e){return e!==null?e:{}}var set=new Type$3("tag:yaml.org,2002:set",{kind:"mapping",resolve:resolveYamlSet,construct:constructYamlSet}),Schema$1=schema,default_safe=new Schema$1({include:[core],implicit:[timestamp,merge],explicit:[binary,omap,pairs,set]}),Type$2=type;function resolveJavascriptUndefined(){return!0}function constructJavascriptUndefined(){}function representJavascriptUndefined(){return""}function isUndefined(e){return typeof e>"u"}var _undefined=new Type$2("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:resolveJavascriptUndefined,construct:constructJavascriptUndefined,predicate:isUndefined,represent:representJavascriptUndefined}),Type$1=type;function resolveJavascriptRegExp(e){if(e===null||e.length===0)return!1;var n=e,r=/\/([gim]*)$/.exec(e),t="";return!(n[0]==="/"&&(r&&(t=r[1]),t.length>3||n[n.length-t.length-1]!=="/"))}function constructJavascriptRegExp(e){var n=e,r=/\/([gim]*)$/.exec(e),t="";return n[0]==="/"&&(r&&(t=r[1]),n=n.slice(1,n.length-t.length-1)),new RegExp(n,t)}function representJavascriptRegExp(e){var n="/"+e.source+"/";return e.global&&(n+="g"),e.multiline&&(n+="m"),e.ignoreCase&&(n+="i"),n}function isRegExp(e){return Object.prototype.toString.call(e)==="[object RegExp]"}var regexp=new Type$1("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:resolveJavascriptRegExp,construct:constructJavascriptRegExp,predicate:isRegExp,represent:representJavascriptRegExp}),esprima;try{var _require=commonjsRequire;esprima=_require("esprima")}catch{typeof window<"u"&&(esprima=window.esprima)}var Type=type;function resolveJavascriptFunction(e){if(e===null)return!1;try{var n="("+e+")",r=esprima.parse(n,{range:!0});return!(r.type!=="Program"||r.body.length!==1||r.body[0].type!=="ExpressionStatement"||r.body[0].expression.type!=="ArrowFunctionExpression"&&r.body[0].expression.type!=="FunctionExpression")}catch{return!1}}function constructJavascriptFunction(e){var n="("+e+")",r=esprima.parse(n,{range:!0}),t=[],o;if(r.type!=="Program"||r.body.length!==1||r.body[0].type!=="ExpressionStatement"||r.body[0].expression.type!=="ArrowFunctionExpression"&&r.body[0].expression.type!=="FunctionExpression")throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach(function(a){t.push(a.name)}),o=r.body[0].expression.body.range,r.body[0].expression.body.type==="BlockStatement"?new Function(t,n.slice(o[0]+1,o[1]-1)):new Function(t,"return "+n.slice(o[0],o[1]))}function representJavascriptFunction(e){return e.toString()}function isFunction(e){return Object.prototype.toString.call(e)==="[object Function]"}var _function=new Type("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:resolveJavascriptFunction,construct:constructJavascriptFunction,predicate:isFunction,represent:representJavascriptFunction}),Schema=schema,default_full=Schema.DEFAULT=new Schema({include:[default_safe],explicit:[_undefined,regexp,_function]}),common$1=common$6,YAMLException$1=exception,Mark=mark,DEFAULT_SAFE_SCHEMA$1=default_safe,DEFAULT_FULL_SCHEMA$1=default_full,_hasOwnProperty$1=Object.prototype.hasOwnProperty,CONTEXT_FLOW_IN=1,CONTEXT_FLOW_OUT=2,CONTEXT_BLOCK_IN=3,CONTEXT_BLOCK_OUT=4,CHOMPING_CLIP=1,CHOMPING_STRIP=2,CHOMPING_KEEP=3,PATTERN_NON_PRINTABLE=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,PATTERN_NON_ASCII_LINE_BREAKS=/[\x85\u2028\u2029]/,PATTERN_FLOW_INDICATORS=/[,\[\]\{\}]/,PATTERN_TAG_HANDLE=/^(?:!|!!|![a-z\-]+!)$/i,PATTERN_TAG_URI=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i;function _class(e){return Object.prototype.toString.call(e)}function is_EOL(e){return e===10||e===13}function is_WHITE_SPACE(e){return e===9||e===32}function is_WS_OR_EOL(e){return e===9||e===32||e===10||e===13}function is_FLOW_INDICATOR(e){return e===44||e===91||e===93||e===123||e===125}function fromHexCode(e){var n;return 48<=e&&e<=57?e-48:(n=e|32,97<=n&&n<=102?n-97+10:-1)}function escapedHexLen(e){return e===120?2:e===117?4:e===85?8:0}function fromDecimalCode(e){return 48<=e&&e<=57?e-48:-1}function simpleEscapeSequence(e){return e===48?"\0":e===97?"\x07":e===98?"\b":e===116||e===9?"	":e===110?`
`:e===118?"\v":e===102?"\f":e===114?"\r":e===101?"\x1B":e===32?" ":e===34?'"':e===47?"/":e===92?"\\":e===78?"":e===95?" ":e===76?"\u2028":e===80?"\u2029":""}function charFromCodepoint(e){return e<=65535?String.fromCharCode(e):String.fromCharCode((e-65536>>10)+55296,(e-65536&1023)+56320)}var simpleEscapeCheck=new Array(256),simpleEscapeMap=new Array(256);for(var i=0;i<256;i++)simpleEscapeCheck[i]=simpleEscapeSequence(i)?1:0,simpleEscapeMap[i]=simpleEscapeSequence(i);function State$1(e,n){this.input=e,this.filename=n.filename||null,this.schema=n.schema||DEFAULT_FULL_SCHEMA$1,this.onWarning=n.onWarning||null,this.legacy=n.legacy||!1,this.json=n.json||!1,this.listener=n.listener||null,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=e.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function generateError(e,n){return new YAMLException$1(n,new Mark(e.filename,e.input,e.position,e.line,e.position-e.lineStart))}function throwError(e,n){throw generateError(e,n)}function throwWarning(e,n){e.onWarning&&e.onWarning.call(null,generateError(e,n))}var directiveHandlers={YAML:function(n,r,t){var o,a,l;n.version!==null&&throwError(n,"duplication of %YAML directive"),t.length!==1&&throwError(n,"YAML directive accepts exactly one argument"),o=/^([0-9]+)\.([0-9]+)$/.exec(t[0]),o===null&&throwError(n,"ill-formed argument of the YAML directive"),a=parseInt(o[1],10),l=parseInt(o[2],10),a!==1&&throwError(n,"unacceptable YAML version of the document"),n.version=t[0],n.checkLineBreaks=l<2,l!==1&&l!==2&&throwWarning(n,"unsupported YAML version of the document")},TAG:function(n,r,t){var o,a;t.length!==2&&throwError(n,"TAG directive accepts exactly two arguments"),o=t[0],a=t[1],PATTERN_TAG_HANDLE.test(o)||throwError(n,"ill-formed tag handle (first argument) of the TAG directive"),_hasOwnProperty$1.call(n.tagMap,o)&&throwError(n,'there is a previously declared suffix for "'+o+'" tag handle'),PATTERN_TAG_URI.test(a)||throwError(n,"ill-formed tag prefix (second argument) of the TAG directive"),n.tagMap[o]=a}};function captureSegment(e,n,r,t){var o,a,l,c;if(n<r){if(c=e.input.slice(n,r),t)for(o=0,a=c.length;o<a;o+=1)l=c.charCodeAt(o),l===9||32<=l&&l<=1114111||throwError(e,"expected valid JSON character");else PATTERN_NON_PRINTABLE.test(c)&&throwError(e,"the stream contains non-printable characters");e.result+=c}}function mergeMappings(e,n,r,t){var o,a,l,c;for(common$1.isObject(r)||throwError(e,"cannot merge mappings; the provided source object is unacceptable"),o=Object.keys(r),l=0,c=o.length;l<c;l+=1)a=o[l],_hasOwnProperty$1.call(n,a)||(n[a]=r[a],t[a]=!0)}function storeMappingPair(e,n,r,t,o,a,l,c){var s,u;if(Array.isArray(o))for(o=Array.prototype.slice.call(o),s=0,u=o.length;s<u;s+=1)Array.isArray(o[s])&&throwError(e,"nested arrays are not supported inside keys"),typeof o=="object"&&_class(o[s])==="[object Object]"&&(o[s]="[object Object]");if(typeof o=="object"&&_class(o)==="[object Object]"&&(o="[object Object]"),o=String(o),n===null&&(n={}),t==="tag:yaml.org,2002:merge")if(Array.isArray(a))for(s=0,u=a.length;s<u;s+=1)mergeMappings(e,n,a[s],r);else mergeMappings(e,n,a,r);else!e.json&&!_hasOwnProperty$1.call(r,o)&&_hasOwnProperty$1.call(n,o)&&(e.line=l||e.line,e.position=c||e.position,throwError(e,"duplicated mapping key")),n[o]=a,delete r[o];return n}function readLineBreak(e){var n;n=e.input.charCodeAt(e.position),n===10?e.position++:n===13?(e.position++,e.input.charCodeAt(e.position)===10&&e.position++):throwError(e,"a line break is expected"),e.line+=1,e.lineStart=e.position}function skipSeparationSpace(e,n,r){for(var t=0,o=e.input.charCodeAt(e.position);o!==0;){for(;is_WHITE_SPACE(o);)o=e.input.charCodeAt(++e.position);if(n&&o===35)do o=e.input.charCodeAt(++e.position);while(o!==10&&o!==13&&o!==0);if(is_EOL(o))for(readLineBreak(e),o=e.input.charCodeAt(e.position),t++,e.lineIndent=0;o===32;)e.lineIndent++,o=e.input.charCodeAt(++e.position);else break}return r!==-1&&t!==0&&e.lineIndent<r&&throwWarning(e,"deficient indentation"),t}function testDocumentSeparator(e){var n=e.position,r;return r=e.input.charCodeAt(n),!!((r===45||r===46)&&r===e.input.charCodeAt(n+1)&&r===e.input.charCodeAt(n+2)&&(n+=3,r=e.input.charCodeAt(n),r===0||is_WS_OR_EOL(r)))}function writeFoldedLines(e,n){n===1?e.result+=" ":n>1&&(e.result+=common$1.repeat(`
`,n-1))}function readPlainScalar(e,n,r){var t,o,a,l,c,s,u,f,p=e.kind,d=e.result,m;if(m=e.input.charCodeAt(e.position),is_WS_OR_EOL(m)||is_FLOW_INDICATOR(m)||m===35||m===38||m===42||m===33||m===124||m===62||m===39||m===34||m===37||m===64||m===96||(m===63||m===45)&&(o=e.input.charCodeAt(e.position+1),is_WS_OR_EOL(o)||r&&is_FLOW_INDICATOR(o)))return!1;for(e.kind="scalar",e.result="",a=l=e.position,c=!1;m!==0;){if(m===58){if(o=e.input.charCodeAt(e.position+1),is_WS_OR_EOL(o)||r&&is_FLOW_INDICATOR(o))break}else if(m===35){if(t=e.input.charCodeAt(e.position-1),is_WS_OR_EOL(t))break}else{if(e.position===e.lineStart&&testDocumentSeparator(e)||r&&is_FLOW_INDICATOR(m))break;if(is_EOL(m))if(s=e.line,u=e.lineStart,f=e.lineIndent,skipSeparationSpace(e,!1,-1),e.lineIndent>=n){c=!0,m=e.input.charCodeAt(e.position);continue}else{e.position=l,e.line=s,e.lineStart=u,e.lineIndent=f;break}}c&&(captureSegment(e,a,l,!1),writeFoldedLines(e,e.line-s),a=l=e.position,c=!1),is_WHITE_SPACE(m)||(l=e.position+1),m=e.input.charCodeAt(++e.position)}return captureSegment(e,a,l,!1),e.result?!0:(e.kind=p,e.result=d,!1)}function readSingleQuotedScalar(e,n){var r,t,o;if(r=e.input.charCodeAt(e.position),r!==39)return!1;for(e.kind="scalar",e.result="",e.position++,t=o=e.position;(r=e.input.charCodeAt(e.position))!==0;)if(r===39)if(captureSegment(e,t,e.position,!0),r=e.input.charCodeAt(++e.position),r===39)t=e.position,e.position++,o=e.position;else return!0;else is_EOL(r)?(captureSegment(e,t,o,!0),writeFoldedLines(e,skipSeparationSpace(e,!1,n)),t=o=e.position):e.position===e.lineStart&&testDocumentSeparator(e)?throwError(e,"unexpected end of the document within a single quoted scalar"):(e.position++,o=e.position);throwError(e,"unexpected end of the stream within a single quoted scalar")}function readDoubleQuotedScalar(e,n){var r,t,o,a,l,c;if(c=e.input.charCodeAt(e.position),c!==34)return!1;for(e.kind="scalar",e.result="",e.position++,r=t=e.position;(c=e.input.charCodeAt(e.position))!==0;){if(c===34)return captureSegment(e,r,e.position,!0),e.position++,!0;if(c===92){if(captureSegment(e,r,e.position,!0),c=e.input.charCodeAt(++e.position),is_EOL(c))skipSeparationSpace(e,!1,n);else if(c<256&&simpleEscapeCheck[c])e.result+=simpleEscapeMap[c],e.position++;else if((l=escapedHexLen(c))>0){for(o=l,a=0;o>0;o--)c=e.input.charCodeAt(++e.position),(l=fromHexCode(c))>=0?a=(a<<4)+l:throwError(e,"expected hexadecimal character");e.result+=charFromCodepoint(a),e.position++}else throwError(e,"unknown escape sequence");r=t=e.position}else is_EOL(c)?(captureSegment(e,r,t,!0),writeFoldedLines(e,skipSeparationSpace(e,!1,n)),r=t=e.position):e.position===e.lineStart&&testDocumentSeparator(e)?throwError(e,"unexpected end of the document within a double quoted scalar"):(e.position++,t=e.position)}throwError(e,"unexpected end of the stream within a double quoted scalar")}function readFlowCollection(e,n){var r=!0,t,o=e.tag,a,l=e.anchor,c,s,u,f,p,d={},m,_,g,h;if(h=e.input.charCodeAt(e.position),h===91)s=93,p=!1,a=[];else if(h===123)s=125,p=!0,a={};else return!1;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),h=e.input.charCodeAt(++e.position);h!==0;){if(skipSeparationSpace(e,!0,n),h=e.input.charCodeAt(e.position),h===s)return e.position++,e.tag=o,e.anchor=l,e.kind=p?"mapping":"sequence",e.result=a,!0;r||throwError(e,"missed comma between flow collection entries"),_=m=g=null,u=f=!1,h===63&&(c=e.input.charCodeAt(e.position+1),is_WS_OR_EOL(c)&&(u=f=!0,e.position++,skipSeparationSpace(e,!0,n))),t=e.line,composeNode(e,n,CONTEXT_FLOW_IN,!1,!0),_=e.tag,m=e.result,skipSeparationSpace(e,!0,n),h=e.input.charCodeAt(e.position),(f||e.line===t)&&h===58&&(u=!0,h=e.input.charCodeAt(++e.position),skipSeparationSpace(e,!0,n),composeNode(e,n,CONTEXT_FLOW_IN,!1,!0),g=e.result),p?storeMappingPair(e,a,d,_,m,g):u?a.push(storeMappingPair(e,null,d,_,m,g)):a.push(m),skipSeparationSpace(e,!0,n),h=e.input.charCodeAt(e.position),h===44?(r=!0,h=e.input.charCodeAt(++e.position)):r=!1}throwError(e,"unexpected end of the stream within a flow collection")}function readBlockScalar(e,n){var r,t,o=CHOMPING_CLIP,a=!1,l=!1,c=n,s=0,u=!1,f,p;if(p=e.input.charCodeAt(e.position),p===124)t=!1;else if(p===62)t=!0;else return!1;for(e.kind="scalar",e.result="";p!==0;)if(p=e.input.charCodeAt(++e.position),p===43||p===45)CHOMPING_CLIP===o?o=p===43?CHOMPING_KEEP:CHOMPING_STRIP:throwError(e,"repeat of a chomping mode identifier");else if((f=fromDecimalCode(p))>=0)f===0?throwError(e,"bad explicit indentation width of a block scalar; it cannot be less than one"):l?throwError(e,"repeat of an indentation width identifier"):(c=n+f-1,l=!0);else break;if(is_WHITE_SPACE(p)){do p=e.input.charCodeAt(++e.position);while(is_WHITE_SPACE(p));if(p===35)do p=e.input.charCodeAt(++e.position);while(!is_EOL(p)&&p!==0)}for(;p!==0;){for(readLineBreak(e),e.lineIndent=0,p=e.input.charCodeAt(e.position);(!l||e.lineIndent<c)&&p===32;)e.lineIndent++,p=e.input.charCodeAt(++e.position);if(!l&&e.lineIndent>c&&(c=e.lineIndent),is_EOL(p)){s++;continue}if(e.lineIndent<c){o===CHOMPING_KEEP?e.result+=common$1.repeat(`
`,a?1+s:s):o===CHOMPING_CLIP&&a&&(e.result+=`
`);break}for(t?is_WHITE_SPACE(p)?(u=!0,e.result+=common$1.repeat(`
`,a?1+s:s)):u?(u=!1,e.result+=common$1.repeat(`
`,s+1)):s===0?a&&(e.result+=" "):e.result+=common$1.repeat(`
`,s):e.result+=common$1.repeat(`
`,a?1+s:s),a=!0,l=!0,s=0,r=e.position;!is_EOL(p)&&p!==0;)p=e.input.charCodeAt(++e.position);captureSegment(e,r,e.position,!1)}return!0}function readBlockSequence(e,n){var r,t=e.tag,o=e.anchor,a=[],l,c=!1,s;for(e.anchor!==null&&(e.anchorMap[e.anchor]=a),s=e.input.charCodeAt(e.position);s!==0&&!(s!==45||(l=e.input.charCodeAt(e.position+1),!is_WS_OR_EOL(l)));){if(c=!0,e.position++,skipSeparationSpace(e,!0,-1)&&e.lineIndent<=n){a.push(null),s=e.input.charCodeAt(e.position);continue}if(r=e.line,composeNode(e,n,CONTEXT_BLOCK_IN,!1,!0),a.push(e.result),skipSeparationSpace(e,!0,-1),s=e.input.charCodeAt(e.position),(e.line===r||e.lineIndent>n)&&s!==0)throwError(e,"bad indentation of a sequence entry");else if(e.lineIndent<n)break}return c?(e.tag=t,e.anchor=o,e.kind="sequence",e.result=a,!0):!1}function readBlockMapping(e,n,r){var t,o,a,l,c=e.tag,s=e.anchor,u={},f={},p=null,d=null,m=null,_=!1,g=!1,h;for(e.anchor!==null&&(e.anchorMap[e.anchor]=u),h=e.input.charCodeAt(e.position);h!==0;){if(t=e.input.charCodeAt(e.position+1),a=e.line,l=e.position,(h===63||h===58)&&is_WS_OR_EOL(t))h===63?(_&&(storeMappingPair(e,u,f,p,d,null),p=d=m=null),g=!0,_=!0,o=!0):_?(_=!1,o=!0):throwError(e,"incomplete explicit mapping pair; a key node is missed; or followed by a non-tabulated empty line"),e.position+=1,h=t;else if(composeNode(e,r,CONTEXT_FLOW_OUT,!1,!0))if(e.line===a){for(h=e.input.charCodeAt(e.position);is_WHITE_SPACE(h);)h=e.input.charCodeAt(++e.position);if(h===58)h=e.input.charCodeAt(++e.position),is_WS_OR_EOL(h)||throwError(e,"a whitespace character is expected after the key-value separator within a block mapping"),_&&(storeMappingPair(e,u,f,p,d,null),p=d=m=null),g=!0,_=!1,o=!1,p=e.tag,d=e.result;else if(g)throwError(e,"can not read an implicit mapping pair; a colon is missed");else return e.tag=c,e.anchor=s,!0}else if(g)throwError(e,"can not read a block mapping entry; a multiline key may not be an implicit key");else return e.tag=c,e.anchor=s,!0;else break;if((e.line===a||e.lineIndent>n)&&(composeNode(e,n,CONTEXT_BLOCK_OUT,!0,o)&&(_?d=e.result:m=e.result),_||(storeMappingPair(e,u,f,p,d,m,a,l),p=d=m=null),skipSeparationSpace(e,!0,-1),h=e.input.charCodeAt(e.position)),e.lineIndent>n&&h!==0)throwError(e,"bad indentation of a mapping entry");else if(e.lineIndent<n)break}return _&&storeMappingPair(e,u,f,p,d,null),g&&(e.tag=c,e.anchor=s,e.kind="mapping",e.result=u),g}function readTagProperty(e){var n,r=!1,t=!1,o,a,l;if(l=e.input.charCodeAt(e.position),l!==33)return!1;if(e.tag!==null&&throwError(e,"duplication of a tag property"),l=e.input.charCodeAt(++e.position),l===60?(r=!0,l=e.input.charCodeAt(++e.position)):l===33?(t=!0,o="!!",l=e.input.charCodeAt(++e.position)):o="!",n=e.position,r){do l=e.input.charCodeAt(++e.position);while(l!==0&&l!==62);e.position<e.length?(a=e.input.slice(n,e.position),l=e.input.charCodeAt(++e.position)):throwError(e,"unexpected end of the stream within a verbatim tag")}else{for(;l!==0&&!is_WS_OR_EOL(l);)l===33&&(t?throwError(e,"tag suffix cannot contain exclamation marks"):(o=e.input.slice(n-1,e.position+1),PATTERN_TAG_HANDLE.test(o)||throwError(e,"named tag handle cannot contain such characters"),t=!0,n=e.position+1)),l=e.input.charCodeAt(++e.position);a=e.input.slice(n,e.position),PATTERN_FLOW_INDICATORS.test(a)&&throwError(e,"tag suffix cannot contain flow indicator characters")}return a&&!PATTERN_TAG_URI.test(a)&&throwError(e,"tag name cannot contain such characters: "+a),r?e.tag=a:_hasOwnProperty$1.call(e.tagMap,o)?e.tag=e.tagMap[o]+a:o==="!"?e.tag="!"+a:o==="!!"?e.tag="tag:yaml.org,2002:"+a:throwError(e,'undeclared tag handle "'+o+'"'),!0}function readAnchorProperty(e){var n,r;if(r=e.input.charCodeAt(e.position),r!==38)return!1;for(e.anchor!==null&&throwError(e,"duplication of an anchor property"),r=e.input.charCodeAt(++e.position),n=e.position;r!==0&&!is_WS_OR_EOL(r)&&!is_FLOW_INDICATOR(r);)r=e.input.charCodeAt(++e.position);return e.position===n&&throwError(e,"name of an anchor node must contain at least one character"),e.anchor=e.input.slice(n,e.position),!0}function readAlias(e){var n,r,t;if(t=e.input.charCodeAt(e.position),t!==42)return!1;for(t=e.input.charCodeAt(++e.position),n=e.position;t!==0&&!is_WS_OR_EOL(t)&&!is_FLOW_INDICATOR(t);)t=e.input.charCodeAt(++e.position);return e.position===n&&throwError(e,"name of an alias node must contain at least one character"),r=e.input.slice(n,e.position),_hasOwnProperty$1.call(e.anchorMap,r)||throwError(e,'unidentified alias "'+r+'"'),e.result=e.anchorMap[r],skipSeparationSpace(e,!0,-1),!0}function composeNode(e,n,r,t,o){var a,l,c,s=1,u=!1,f=!1,p,d,m,_,g;if(e.listener!==null&&e.listener("open",e),e.tag=null,e.anchor=null,e.kind=null,e.result=null,a=l=c=CONTEXT_BLOCK_OUT===r||CONTEXT_BLOCK_IN===r,t&&skipSeparationSpace(e,!0,-1)&&(u=!0,e.lineIndent>n?s=1:e.lineIndent===n?s=0:e.lineIndent<n&&(s=-1)),s===1)for(;readTagProperty(e)||readAnchorProperty(e);)skipSeparationSpace(e,!0,-1)?(u=!0,c=a,e.lineIndent>n?s=1:e.lineIndent===n?s=0:e.lineIndent<n&&(s=-1)):c=!1;if(c&&(c=u||o),(s===1||CONTEXT_BLOCK_OUT===r)&&(CONTEXT_FLOW_IN===r||CONTEXT_FLOW_OUT===r?_=n:_=n+1,g=e.position-e.lineStart,s===1?c&&(readBlockSequence(e,g)||readBlockMapping(e,g,_))||readFlowCollection(e,_)?f=!0:(l&&readBlockScalar(e,_)||readSingleQuotedScalar(e,_)||readDoubleQuotedScalar(e,_)?f=!0:readAlias(e)?(f=!0,(e.tag!==null||e.anchor!==null)&&throwError(e,"alias node should not have any properties")):readPlainScalar(e,_,CONTEXT_FLOW_IN===r)&&(f=!0,e.tag===null&&(e.tag="?")),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):s===0&&(f=c&&readBlockSequence(e,g))),e.tag!==null&&e.tag!=="!")if(e.tag==="?"){for(e.result!==null&&e.kind!=="scalar"&&throwError(e,'unacceptable node kind for !<?> tag; it should be "scalar", not "'+e.kind+'"'),p=0,d=e.implicitTypes.length;p<d;p+=1)if(m=e.implicitTypes[p],m.resolve(e.result)){e.result=m.construct(e.result),e.tag=m.tag,e.anchor!==null&&(e.anchorMap[e.anchor]=e.result);break}}else _hasOwnProperty$1.call(e.typeMap[e.kind||"fallback"],e.tag)?(m=e.typeMap[e.kind||"fallback"][e.tag],e.result!==null&&m.kind!==e.kind&&throwError(e,"unacceptable node kind for !<"+e.tag+'> tag; it should be "'+m.kind+'", not "'+e.kind+'"'),m.resolve(e.result)?(e.result=m.construct(e.result),e.anchor!==null&&(e.anchorMap[e.anchor]=e.result)):throwError(e,"cannot resolve a node with !<"+e.tag+"> explicit tag")):throwError(e,"unknown tag !<"+e.tag+">");return e.listener!==null&&e.listener("close",e),e.tag!==null||e.anchor!==null||f}function readDocument(e){var n=e.position,r,t,o,a=!1,l;for(e.version=null,e.checkLineBreaks=e.legacy,e.tagMap={},e.anchorMap={};(l=e.input.charCodeAt(e.position))!==0&&(skipSeparationSpace(e,!0,-1),l=e.input.charCodeAt(e.position),!(e.lineIndent>0||l!==37));){for(a=!0,l=e.input.charCodeAt(++e.position),r=e.position;l!==0&&!is_WS_OR_EOL(l);)l=e.input.charCodeAt(++e.position);for(t=e.input.slice(r,e.position),o=[],t.length<1&&throwError(e,"directive name must not be less than one character in length");l!==0;){for(;is_WHITE_SPACE(l);)l=e.input.charCodeAt(++e.position);if(l===35){do l=e.input.charCodeAt(++e.position);while(l!==0&&!is_EOL(l));break}if(is_EOL(l))break;for(r=e.position;l!==0&&!is_WS_OR_EOL(l);)l=e.input.charCodeAt(++e.position);o.push(e.input.slice(r,e.position))}l!==0&&readLineBreak(e),_hasOwnProperty$1.call(directiveHandlers,t)?directiveHandlers[t](e,t,o):throwWarning(e,'unknown document directive "'+t+'"')}if(skipSeparationSpace(e,!0,-1),e.lineIndent===0&&e.input.charCodeAt(e.position)===45&&e.input.charCodeAt(e.position+1)===45&&e.input.charCodeAt(e.position+2)===45?(e.position+=3,skipSeparationSpace(e,!0,-1)):a&&throwError(e,"directives end mark is expected"),composeNode(e,e.lineIndent-1,CONTEXT_BLOCK_OUT,!1,!0),skipSeparationSpace(e,!0,-1),e.checkLineBreaks&&PATTERN_NON_ASCII_LINE_BREAKS.test(e.input.slice(n,e.position))&&throwWarning(e,"non-ASCII line breaks are interpreted as content"),e.documents.push(e.result),e.position===e.lineStart&&testDocumentSeparator(e)){e.input.charCodeAt(e.position)===46&&(e.position+=3,skipSeparationSpace(e,!0,-1));return}if(e.position<e.length-1)throwError(e,"end of the stream or a document separator is expected");else return}function loadDocuments(e,n){e=String(e),n=n||{},e.length!==0&&(e.charCodeAt(e.length-1)!==10&&e.charCodeAt(e.length-1)!==13&&(e+=`
`),e.charCodeAt(0)===65279&&(e=e.slice(1)));var r=new State$1(e,n),t=e.indexOf("\0");for(t!==-1&&(r.position=t,throwError(r,"null byte is not allowed in input")),r.input+="\0";r.input.charCodeAt(r.position)===32;)r.lineIndent+=1,r.position+=1;for(;r.position<r.length-1;)readDocument(r);return r.documents}function loadAll(e,n,r){n!==null&&typeof n=="object"&&typeof r>"u"&&(r=n,n=null);var t=loadDocuments(e,r);if(typeof n!="function")return t;for(var o=0,a=t.length;o<a;o+=1)n(t[o])}function load(e,n){var r=loadDocuments(e,n);if(r.length!==0){if(r.length===1)return r[0];throw new YAMLException$1("expected a single document in the stream, but found more")}}function safeLoadAll(e,n,r){return typeof n=="object"&&n!==null&&typeof r>"u"&&(r=n,n=null),loadAll(e,n,common$1.extend({schema:DEFAULT_SAFE_SCHEMA$1},r))}function safeLoad(e,n){return load(e,common$1.extend({schema:DEFAULT_SAFE_SCHEMA$1},n))}loader$1.loadAll=loadAll;loader$1.load=load;loader$1.safeLoadAll=safeLoadAll;loader$1.safeLoad=safeLoad;var dumper$1={},common=common$6,YAMLException=exception,DEFAULT_FULL_SCHEMA=default_full,DEFAULT_SAFE_SCHEMA=default_safe,_toString=Object.prototype.toString,_hasOwnProperty=Object.prototype.hasOwnProperty,CHAR_TAB=9,CHAR_LINE_FEED=10,CHAR_CARRIAGE_RETURN=13,CHAR_SPACE=32,CHAR_EXCLAMATION=33,CHAR_DOUBLE_QUOTE=34,CHAR_SHARP=35,CHAR_PERCENT=37,CHAR_AMPERSAND=38,CHAR_SINGLE_QUOTE=39,CHAR_ASTERISK=42,CHAR_COMMA=44,CHAR_MINUS=45,CHAR_COLON=58,CHAR_EQUALS=61,CHAR_GREATER_THAN=62,CHAR_QUESTION=63,CHAR_COMMERCIAL_AT=64,CHAR_LEFT_SQUARE_BRACKET=91,CHAR_RIGHT_SQUARE_BRACKET=93,CHAR_GRAVE_ACCENT=96,CHAR_LEFT_CURLY_BRACKET=123,CHAR_VERTICAL_LINE=124,CHAR_RIGHT_CURLY_BRACKET=125,ESCAPE_SEQUENCES={};ESCAPE_SEQUENCES[0]="\\0";ESCAPE_SEQUENCES[7]="\\a";ESCAPE_SEQUENCES[8]="\\b";ESCAPE_SEQUENCES[9]="\\t";ESCAPE_SEQUENCES[10]="\\n";ESCAPE_SEQUENCES[11]="\\v";ESCAPE_SEQUENCES[12]="\\f";ESCAPE_SEQUENCES[13]="\\r";ESCAPE_SEQUENCES[27]="\\e";ESCAPE_SEQUENCES[34]='\\"';ESCAPE_SEQUENCES[92]="\\\\";ESCAPE_SEQUENCES[133]="\\N";ESCAPE_SEQUENCES[160]="\\_";ESCAPE_SEQUENCES[8232]="\\L";ESCAPE_SEQUENCES[8233]="\\P";var DEPRECATED_BOOLEANS_SYNTAX=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];function compileStyleMap(e,n){var r,t,o,a,l,c,s;if(n===null)return{};for(r={},t=Object.keys(n),o=0,a=t.length;o<a;o+=1)l=t[o],c=String(n[l]),l.slice(0,2)==="!!"&&(l="tag:yaml.org,2002:"+l.slice(2)),s=e.compiledTypeMap.fallback[l],s&&_hasOwnProperty.call(s.styleAliases,c)&&(c=s.styleAliases[c]),r[l]=c;return r}function encodeHex(e){var n,r,t;if(n=e.toString(16).toUpperCase(),e<=255)r="x",t=2;else if(e<=65535)r="u",t=4;else if(e<=4294967295)r="U",t=8;else throw new YAMLException("code point within a string may not be greater than 0xFFFFFFFF");return"\\"+r+common.repeat("0",t-n.length)+n}function State(e){this.schema=e.schema||DEFAULT_FULL_SCHEMA,this.indent=Math.max(1,e.indent||2),this.noArrayIndent=e.noArrayIndent||!1,this.skipInvalid=e.skipInvalid||!1,this.flowLevel=common.isNothing(e.flowLevel)?-1:e.flowLevel,this.styleMap=compileStyleMap(this.schema,e.styles||null),this.sortKeys=e.sortKeys||!1,this.lineWidth=e.lineWidth||80,this.noRefs=e.noRefs||!1,this.noCompatMode=e.noCompatMode||!1,this.condenseFlow=e.condenseFlow||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function indentString(e,n){for(var r=common.repeat(" ",n),t=0,o=-1,a="",l,c=e.length;t<c;)o=e.indexOf(`
`,t),o===-1?(l=e.slice(t),t=c):(l=e.slice(t,o+1),t=o+1),l.length&&l!==`
`&&(a+=r),a+=l;return a}function generateNextLine(e,n){return`
`+common.repeat(" ",e.indent*n)}function testImplicitResolving(e,n){var r,t,o;for(r=0,t=e.implicitTypes.length;r<t;r+=1)if(o=e.implicitTypes[r],o.resolve(n))return!0;return!1}function isWhitespace(e){return e===CHAR_SPACE||e===CHAR_TAB}function isPrintable(e){return 32<=e&&e<=126||161<=e&&e<=55295&&e!==8232&&e!==8233||57344<=e&&e<=65533&&e!==65279||65536<=e&&e<=1114111}function isNsChar(e){return isPrintable(e)&&!isWhitespace(e)&&e!==65279&&e!==CHAR_CARRIAGE_RETURN&&e!==CHAR_LINE_FEED}function isPlainSafe(e,n){return isPrintable(e)&&e!==65279&&e!==CHAR_COMMA&&e!==CHAR_LEFT_SQUARE_BRACKET&&e!==CHAR_RIGHT_SQUARE_BRACKET&&e!==CHAR_LEFT_CURLY_BRACKET&&e!==CHAR_RIGHT_CURLY_BRACKET&&e!==CHAR_COLON&&(e!==CHAR_SHARP||n&&isNsChar(n))}function isPlainSafeFirst(e){return isPrintable(e)&&e!==65279&&!isWhitespace(e)&&e!==CHAR_MINUS&&e!==CHAR_QUESTION&&e!==CHAR_COLON&&e!==CHAR_COMMA&&e!==CHAR_LEFT_SQUARE_BRACKET&&e!==CHAR_RIGHT_SQUARE_BRACKET&&e!==CHAR_LEFT_CURLY_BRACKET&&e!==CHAR_RIGHT_CURLY_BRACKET&&e!==CHAR_SHARP&&e!==CHAR_AMPERSAND&&e!==CHAR_ASTERISK&&e!==CHAR_EXCLAMATION&&e!==CHAR_VERTICAL_LINE&&e!==CHAR_EQUALS&&e!==CHAR_GREATER_THAN&&e!==CHAR_SINGLE_QUOTE&&e!==CHAR_DOUBLE_QUOTE&&e!==CHAR_PERCENT&&e!==CHAR_COMMERCIAL_AT&&e!==CHAR_GRAVE_ACCENT}function needIndentIndicator(e){var n=/^\n* /;return n.test(e)}var STYLE_PLAIN=1,STYLE_SINGLE=2,STYLE_LITERAL=3,STYLE_FOLDED=4,STYLE_DOUBLE=5;function chooseScalarStyle(e,n,r,t,o){var a,l,c,s=!1,u=!1,f=t!==-1,p=-1,d=isPlainSafeFirst(e.charCodeAt(0))&&!isWhitespace(e.charCodeAt(e.length-1));if(n)for(a=0;a<e.length;a++){if(l=e.charCodeAt(a),!isPrintable(l))return STYLE_DOUBLE;c=a>0?e.charCodeAt(a-1):null,d=d&&isPlainSafe(l,c)}else{for(a=0;a<e.length;a++){if(l=e.charCodeAt(a),l===CHAR_LINE_FEED)s=!0,f&&(u=u||a-p-1>t&&e[p+1]!==" ",p=a);else if(!isPrintable(l))return STYLE_DOUBLE;c=a>0?e.charCodeAt(a-1):null,d=d&&isPlainSafe(l,c)}u=u||f&&a-p-1>t&&e[p+1]!==" "}return!s&&!u?d&&!o(e)?STYLE_PLAIN:STYLE_SINGLE:r>9&&needIndentIndicator(e)?STYLE_DOUBLE:u?STYLE_FOLDED:STYLE_LITERAL}function writeScalar(e,n,r,t){e.dump=function(){if(n.length===0)return"''";if(!e.noCompatMode&&DEPRECATED_BOOLEANS_SYNTAX.indexOf(n)!==-1)return"'"+n+"'";var o=e.indent*Math.max(1,r),a=e.lineWidth===-1?-1:Math.max(Math.min(e.lineWidth,40),e.lineWidth-o),l=t||e.flowLevel>-1&&r>=e.flowLevel;function c(s){return testImplicitResolving(e,s)}switch(chooseScalarStyle(n,l,e.indent,a,c)){case STYLE_PLAIN:return n;case STYLE_SINGLE:return"'"+n.replace(/'/g,"''")+"'";case STYLE_LITERAL:return"|"+blockHeader(n,e.indent)+dropEndingNewline(indentString(n,o));case STYLE_FOLDED:return">"+blockHeader(n,e.indent)+dropEndingNewline(indentString(foldString(n,a),o));case STYLE_DOUBLE:return'"'+escapeString(n)+'"';default:throw new YAMLException("impossible error: invalid scalar style")}}()}function blockHeader(e,n){var r=needIndentIndicator(e)?String(n):"",t=e[e.length-1]===`
`,o=t&&(e[e.length-2]===`
`||e===`
`),a=o?"+":t?"":"-";return r+a+`
`}function dropEndingNewline(e){return e[e.length-1]===`
`?e.slice(0,-1):e}function foldString(e,n){for(var r=/(\n+)([^\n]*)/g,t=function(){var u=e.indexOf(`
`);return u=u!==-1?u:e.length,r.lastIndex=u,foldLine(e.slice(0,u),n)}(),o=e[0]===`
`||e[0]===" ",a,l;l=r.exec(e);){var c=l[1],s=l[2];a=s[0]===" ",t+=c+(!o&&!a&&s!==""?`
`:"")+foldLine(s,n),o=a}return t}function foldLine(e,n){if(e===""||e[0]===" ")return e;for(var r=/ [^ ]/g,t,o=0,a,l=0,c=0,s="";t=r.exec(e);)c=t.index,c-o>n&&(a=l>o?l:c,s+=`
`+e.slice(o,a),o=a+1),l=c;return s+=`
`,e.length-o>n&&l>o?s+=e.slice(o,l)+`
`+e.slice(l+1):s+=e.slice(o),s.slice(1)}function escapeString(e){for(var n="",r,t,o,a=0;a<e.length;a++){if(r=e.charCodeAt(a),r>=55296&&r<=56319&&(t=e.charCodeAt(a+1),t>=56320&&t<=57343)){n+=encodeHex((r-55296)*1024+t-56320+65536),a++;continue}o=ESCAPE_SEQUENCES[r],n+=!o&&isPrintable(r)?e[a]:o||encodeHex(r)}return n}function writeFlowSequence(e,n,r){var t="",o=e.tag,a,l;for(a=0,l=r.length;a<l;a+=1)writeNode(e,n,r[a],!1,!1)&&(a!==0&&(t+=","+(e.condenseFlow?"":" ")),t+=e.dump);e.tag=o,e.dump="["+t+"]"}function writeBlockSequence(e,n,r,t){var o="",a=e.tag,l,c;for(l=0,c=r.length;l<c;l+=1)writeNode(e,n+1,r[l],!0,!0)&&((!t||l!==0)&&(o+=generateNextLine(e,n)),e.dump&&CHAR_LINE_FEED===e.dump.charCodeAt(0)?o+="-":o+="- ",o+=e.dump);e.tag=a,e.dump=o||"[]"}function writeFlowMapping(e,n,r){var t="",o=e.tag,a=Object.keys(r),l,c,s,u,f;for(l=0,c=a.length;l<c;l+=1)f="",l!==0&&(f+=", "),e.condenseFlow&&(f+='"'),s=a[l],u=r[s],writeNode(e,n,s,!1,!1)&&(e.dump.length>1024&&(f+="? "),f+=e.dump+(e.condenseFlow?'"':"")+":"+(e.condenseFlow?"":" "),writeNode(e,n,u,!1,!1)&&(f+=e.dump,t+=f));e.tag=o,e.dump="{"+t+"}"}function writeBlockMapping(e,n,r,t){var o="",a=e.tag,l=Object.keys(r),c,s,u,f,p,d;if(e.sortKeys===!0)l.sort();else if(typeof e.sortKeys=="function")l.sort(e.sortKeys);else if(e.sortKeys)throw new YAMLException("sortKeys must be a boolean or a function");for(c=0,s=l.length;c<s;c+=1)d="",(!t||c!==0)&&(d+=generateNextLine(e,n)),u=l[c],f=r[u],writeNode(e,n+1,u,!0,!0,!0)&&(p=e.tag!==null&&e.tag!=="?"||e.dump&&e.dump.length>1024,p&&(e.dump&&CHAR_LINE_FEED===e.dump.charCodeAt(0)?d+="?":d+="? "),d+=e.dump,p&&(d+=generateNextLine(e,n)),writeNode(e,n+1,f,!0,p)&&(e.dump&&CHAR_LINE_FEED===e.dump.charCodeAt(0)?d+=":":d+=": ",d+=e.dump,o+=d));e.tag=a,e.dump=o||"{}"}function detectType(e,n,r){var t,o,a,l,c,s;for(o=r?e.explicitTypes:e.implicitTypes,a=0,l=o.length;a<l;a+=1)if(c=o[a],(c.instanceOf||c.predicate)&&(!c.instanceOf||typeof n=="object"&&n instanceof c.instanceOf)&&(!c.predicate||c.predicate(n))){if(e.tag=r?c.tag:"?",c.represent){if(s=e.styleMap[c.tag]||c.defaultStyle,_toString.call(c.represent)==="[object Function]")t=c.represent(n,s);else if(_hasOwnProperty.call(c.represent,s))t=c.represent[s](n,s);else throw new YAMLException("!<"+c.tag+'> tag resolver accepts not "'+s+'" style');e.dump=t}return!0}return!1}function writeNode(e,n,r,t,o,a){e.tag=null,e.dump=r,detectType(e,r,!1)||detectType(e,r,!0);var l=_toString.call(e.dump);t&&(t=e.flowLevel<0||e.flowLevel>n);var c=l==="[object Object]"||l==="[object Array]",s,u;if(c&&(s=e.duplicates.indexOf(r),u=s!==-1),(e.tag!==null&&e.tag!=="?"||u||e.indent!==2&&n>0)&&(o=!1),u&&e.usedDuplicates[s])e.dump="*ref_"+s;else{if(c&&u&&!e.usedDuplicates[s]&&(e.usedDuplicates[s]=!0),l==="[object Object]")t&&Object.keys(e.dump).length!==0?(writeBlockMapping(e,n,e.dump,o),u&&(e.dump="&ref_"+s+e.dump)):(writeFlowMapping(e,n,e.dump),u&&(e.dump="&ref_"+s+" "+e.dump));else if(l==="[object Array]"){var f=e.noArrayIndent&&n>0?n-1:n;t&&e.dump.length!==0?(writeBlockSequence(e,f,e.dump,o),u&&(e.dump="&ref_"+s+e.dump)):(writeFlowSequence(e,f,e.dump),u&&(e.dump="&ref_"+s+" "+e.dump))}else if(l==="[object String]")e.tag!=="?"&&writeScalar(e,e.dump,n,a);else{if(e.skipInvalid)return!1;throw new YAMLException("unacceptable kind of an object to dump "+l)}e.tag!==null&&e.tag!=="?"&&(e.dump="!<"+e.tag+"> "+e.dump)}return!0}function getDuplicateReferences(e,n){var r=[],t=[],o,a;for(inspectNode(e,r,t),o=0,a=t.length;o<a;o+=1)n.duplicates.push(r[t[o]]);n.usedDuplicates=new Array(a)}function inspectNode(e,n,r){var t,o,a;if(e!==null&&typeof e=="object")if(o=n.indexOf(e),o!==-1)r.indexOf(o)===-1&&r.push(o);else if(n.push(e),Array.isArray(e))for(o=0,a=e.length;o<a;o+=1)inspectNode(e[o],n,r);else for(t=Object.keys(e),o=0,a=t.length;o<a;o+=1)inspectNode(e[t[o]],n,r)}function dump(e,n){n=n||{};var r=new State(n);return r.noRefs||getDuplicateReferences(e,r),writeNode(r,0,e,!0,!0)?r.dump+`
`:""}function safeDump(e,n){return dump(e,common.extend({schema:DEFAULT_SAFE_SCHEMA},n))}dumper$1.dump=dump;dumper$1.safeDump=safeDump;var loader=loader$1,dumper=dumper$1;function deprecated(e){return function(){throw new Error("Function "+e+" is deprecated and cannot be used.")}}jsYaml$1.Type=type;jsYaml$1.Schema=schema;jsYaml$1.FAILSAFE_SCHEMA=failsafe;jsYaml$1.JSON_SCHEMA=json;jsYaml$1.CORE_SCHEMA=core;jsYaml$1.DEFAULT_SAFE_SCHEMA=default_safe;jsYaml$1.DEFAULT_FULL_SCHEMA=default_full;jsYaml$1.load=loader.load;jsYaml$1.loadAll=loader.loadAll;jsYaml$1.safeLoad=loader.safeLoad;jsYaml$1.safeLoadAll=loader.safeLoadAll;jsYaml$1.dump=dumper.dump;jsYaml$1.safeDump=dumper.safeDump;jsYaml$1.YAMLException=exception;jsYaml$1.MINIMAL_SCHEMA=failsafe;jsYaml$1.SAFE_SCHEMA=default_safe;jsYaml$1.DEFAULT_SCHEMA=default_full;jsYaml$1.scan=deprecated("scan");jsYaml$1.parse=deprecated("parse");jsYaml$1.compose=deprecated("compose");jsYaml$1.addConstructor=deprecated("addConstructor");var yaml=jsYaml$1,jsYaml=yaml,parser=jsYaml,optionalByteOrderMark="\\ufeff?",platform=typeof process<"u"?process.platform:"",pattern="^("+optionalByteOrderMark+"(= yaml =|---)$([\\s\\S]*?)^(?:\\2|\\.\\.\\.)\\s*$"+(platform==="win32"?"\\r?":"")+"(?:\\n)?)",regex=new RegExp(pattern,"m");frontMatter.exports=extractor;frontMatter.exports.test=test;function extractor(e,n){e=e||"";var r={allowUnsafe:!1};n=n instanceof Object?{...r,...n}:r,n.allowUnsafe=!!n.allowUnsafe;var t=e.split(/(\r?\n)/);return t[0]&&/= yaml =|---/.test(t[0])?parse$2(e,n.allowUnsafe):{attributes:{},body:e,bodyBegin:1}}function computeLocation(e,n){for(var r=1,t=n.indexOf(`
`),o=e.index+e[0].length;t!==-1;){if(t>=o)return r;r++,t=n.indexOf(`
`,t+1)}return r}function parse$2(e,n){var r=regex.exec(e);if(!r)return{attributes:{},body:e,bodyBegin:1};var t=n?parser.load:parser.safeLoad,o=r[r.length-1].replace(/^\s+|\s+$/g,""),a=t(o)||{},l=e.replace(r[0],""),c=computeLocation(r,e);return{attributes:a,body:l,bodyBegin:c,frontmatter:o}}function test(e){return e=e||"",regex.test(e)}var frontMatterExports=frontMatter.exports;const fm=getDefaultExportFromCjs(frontMatterExports),parseFrontMatterBlock=e=>{try{const{attributes:n,body:r}=fm(e);return{data:n,body:r}}catch(n){return{data:null,body:"",error:n}}};function addLegacyImageLayoutMarkdownProcessors(e){for(const n in layoutImages)e.registerMarkdownCodeBlockProcessor(`image-layout-${n}`,(r,t,o)=>{renderLegacyLayoutComponent(r,t,o,e,n)})}function renderLegacyLayoutComponent(e,n,r,t,o){var s,u,f;const a=parseFrontMatterBlock(e),l=getImages(a.body),c=resolveLocalImages(l,r,t);new LegacyImageLayout({target:n,props:{caption:((s=a.data)==null?void 0:s.caption)??"",descriptions:(u=a.data)==null?void 0:u.descriptions,layout:o,requiredImages:layoutImages[o],images:c,permanentOverlay:((f=a.data)==null?void 0:f.permanentOverlay)??t.settings.shouldOverlayPermanently}})}function create_if_block$2(e){let n,r,t;return{c(){n=element("div"),r=element("div"),t=text(e[1]),attr(r,"class","w-full rounded-md bg-white bg-opacity-75 px-4 py-2 text-center text-sm font-medium text-gray-900 backdrop-blur backdrop-filter"),attr(n,"class","absolute bottom-0 left-0 right-0 flex items-end p-4"),attr(n,"aria-hidden","true"),toggle_class(n,"opacity-0",!e[3]),toggle_class(n,"group-hover:opacity-100",!e[3])},m(o,a){insert(o,n,a),append(n,r),append(r,t)},p(o,a){a&2&&set_data(t,o[1]),a&8&&toggle_class(n,"opacity-0",!o[3]),a&8&&toggle_class(n,"group-hover:opacity-100",!o[3])},d(o){o&&detach(n)}}}function create_fragment$8(e){let n,r,t,o,a,l,c=e[1]&&create_if_block$2(e);return{c(){n=element("div"),r=element("img"),a=space(),c&&c.c(),attr(r,"class","w-full h-full object-cover object-center"),src_url_equal(r.src,t=e[0])||attr(r,"src",t),attr(r,"alt",o=`Image ${e[2]+1}`),attr(n,"class",l=`group relative image-layouts-masonry-image-${e[2]}`)},m(s,u){insert(s,n,u),append(n,r),append(n,a),c&&c.m(n,null)},p(s,[u]){u&1&&!src_url_equal(r.src,t=s[0])&&attr(r,"src",t),u&4&&o!==(o=`Image ${s[2]+1}`)&&attr(r,"alt",o),s[1]?c?c.p(s,u):(c=create_if_block$2(s),c.c(),c.m(n,null)):c&&(c.d(1),c=null),u&4&&l!==(l=`group relative image-layouts-masonry-image-${s[2]}`)&&attr(n,"class",l)},i:noop,o:noop,d(s){s&&detach(n),c&&c.d()}}}function instance$8(e,n,r){let{src:t}=n,{description:o}=n,{index:a}=n,{permanentOverlay:l=!1}=n;return e.$$set=c=>{"src"in c&&r(0,t=c.src),"description"in c&&r(1,o=c.description),"index"in c&&r(2,a=c.index),"permanentOverlay"in c&&r(3,l=c.permanentOverlay)},[t,o,a,l]}class LegacyMasonryImage extends SvelteComponent{constructor(n){super(),init(this,n,instance$8,create_fragment$8,safe_not_equal,{src:0,description:1,index:2,permanentOverlay:3})}}const LegacyMasonryLayout_svelte_svelte_type_style_lang="";function get_each_context$1(e,n,r){const t=e.slice();return t[5]=n[r],t[7]=r,t}function get_each_context_1$1(e,n,r){const t=e.slice();return t[8]=n[r],t[10]=r,t}function create_if_block$1(e){let n,r;return n=new LegacyMasonryImage({props:{src:e[8].link,description:e[3][e[10]]??e[8].alt,index:e[10],permanentOverlay:e[4]}}),{c(){create_component(n.$$.fragment)},m(t,o){mount_component(n,t,o),r=!0},p(t,o){const a={};o&2&&(a.src=t[8].link),o&10&&(a.description=t[3][t[10]]??t[8].alt),o&2&&(a.index=t[10]),o&16&&(a.permanentOverlay=t[4]),n.$set(a)},i(t){r||(transition_in(n.$$.fragment,t),r=!0)},o(t){transition_out(n.$$.fragment,t),r=!1},d(t){destroy_component(n,t)}}}function create_each_block_1$1(e,n){let r,t,o,a=n[10]%n[0]===n[7]&&create_if_block$1(n);return{key:e,first:null,c(){r=empty(),a&&a.c(),t=empty(),this.first=r},m(l,c){insert(l,r,c),a&&a.m(l,c),insert(l,t,c),o=!0},p(l,c){n=l,n[10]%n[0]===n[7]?a?(a.p(n,c),c&3&&transition_in(a,1)):(a=create_if_block$1(n),a.c(),transition_in(a,1),a.m(t.parentNode,t)):a&&(group_outros(),transition_out(a,1,1,()=>{a=null}),check_outros())},i(l){o||(transition_in(a),o=!0)},o(l){transition_out(a),o=!1},d(l){l&&(detach(r),detach(t)),a&&a.d(l)}}}function create_each_block$1(e){let n,r=[],t=new Map,o,a,l=ensure_array_like(e[1]);const c=s=>s[8].link;for(let s=0;s<l.length;s+=1){let u=get_each_context_1$1(e,l,s),f=c(u);t.set(f,r[s]=create_each_block_1$1(f,u))}return{c(){n=element("div");for(let s=0;s<r.length;s+=1)r[s].c();o=space(),attr(n,"class",null_to_empty("image-layouts-masonry-column")+" svelte-1ewls1i")},m(s,u){insert(s,n,u);for(let f=0;f<r.length;f+=1)r[f]&&r[f].m(n,null);append(n,o),a=!0},p(s,u){u&27&&(l=ensure_array_like(s[1]),group_outros(),r=update_keyed_each(r,u,c,1,s,l,t,n,outro_and_destroy_block,create_each_block_1$1,o,get_each_context_1$1),check_outros())},i(s){if(!a){for(let u=0;u<l.length;u+=1)transition_in(r[u]);a=!0}},o(s){for(let u=0;u<r.length;u+=1)transition_out(r[u]);a=!1},d(s){s&&detach(n);for(let u=0;u<r.length;u+=1)r[u].d()}}}function create_fragment$7(e){let n,r,t,o,a,l=ensure_array_like(Array(e[0])),c=[];for(let u=0;u<l.length;u+=1)c[u]=create_each_block$1(get_each_context$1(e,l,u));const s=u=>transition_out(c[u],1,1,()=>{c[u]=null});return o=new Caption({props:{caption:e[2]}}),{c(){n=element("div");for(let u=0;u<c.length;u+=1)c[u].c();t=space(),create_component(o.$$.fragment),attr(n,"class",r=null_to_empty(`image-layouts-masonry-grid-${e[0]}`)+" svelte-1ewls1i")},m(u,f){insert(u,n,f);for(let p=0;p<c.length;p+=1)c[p]&&c[p].m(n,null);insert(u,t,f),mount_component(o,u,f),a=!0},p(u,[f]){if(f&27){l=ensure_array_like(Array(u[0]));let d;for(d=0;d<l.length;d+=1){const m=get_each_context$1(u,l,d);c[d]?(c[d].p(m,f),transition_in(c[d],1)):(c[d]=create_each_block$1(m),c[d].c(),transition_in(c[d],1),c[d].m(n,null))}for(group_outros(),d=l.length;d<c.length;d+=1)s(d);check_outros()}(!a||f&1&&r!==(r=null_to_empty(`image-layouts-masonry-grid-${u[0]}`)+" svelte-1ewls1i"))&&attr(n,"class",r);const p={};f&4&&(p.caption=u[2]),o.$set(p)},i(u){if(!a){for(let f=0;f<l.length;f+=1)transition_in(c[f]);transition_in(o.$$.fragment,u),a=!0}},o(u){c=c.filter(Boolean);for(let f=0;f<c.length;f+=1)transition_out(c[f]);transition_out(o.$$.fragment,u),a=!1},d(u){u&&(detach(n),detach(t)),destroy_each(c,u),destroy_component(o,u)}}}function instance$7(e,n,r){let{columns:t}=n,{images:o=[]}=n,{caption:a=""}=n,{descriptions:l=[]}=n,{permanentOverlay:c=!1}=n;return e.$$set=s=>{"columns"in s&&r(0,t=s.columns),"images"in s&&r(1,o=s.images),"caption"in s&&r(2,a=s.caption),"descriptions"in s&&r(3,l=s.descriptions),"permanentOverlay"in s&&r(4,c=s.permanentOverlay)},[t,o,a,l,c]}class LegacyMasonryLayout extends SvelteComponent{constructor(n){super(),init(this,n,instance$7,create_fragment$7,safe_not_equal,{columns:0,images:1,caption:2,descriptions:3,permanentOverlay:4})}}function addLegacyMasonryMarkdownProcessors(e){for(let n=2;n<=6;n++)e.registerMarkdownCodeBlockProcessor(`image-layout-masonry-${n}`,(r,t,o)=>{renderLegacyMasonryLayoutComponent(r,t,o,e,n)})}function renderLegacyMasonryLayoutComponent(e,n,r,t,o){var s,u,f;const a=parseFrontMatterBlock(e),l=getImages(a.body),c=resolveLocalImages(l,r,t);new LegacyMasonryLayout({target:n,props:{caption:((s=a.data)==null?void 0:s.caption)??"",descriptions:(u=a.data)==null?void 0:u.descriptions,columns:o,images:c,permanentOverlay:((f=a.data)==null?void 0:f.permanentOverlay)??t.settings.shouldOverlayPermanently}})}const ImageLayouts_svelte_svelte_type_style_lang="";function create_fragment$6(e){let n,r;const t=e[1].default,o=create_slot(t,e,e[0],null);return{c(){n=element("div"),o&&o.c(),attr(n,"class","image-layouts")},m(a,l){insert(a,n,l),o&&o.m(n,null),r=!0},p(a,[l]){o&&o.p&&(!r||l&1)&&update_slot_base(o,t,a,a[0],r?get_slot_changes(t,a[0],l,null):get_all_dirty_from_scope(a[0]),null)},i(a){r||(transition_in(o,a),r=!0)},o(a){transition_out(o,a),r=!1},d(a){a&&detach(n),o&&o.d(a)}}}function instance$6(e,n,r){let{$$slots:t={},$$scope:o}=n;return e.$$set=a=>{"$$scope"in a&&r(0,o=a.$$scope)},[o,t]}class ImageLayouts extends SvelteComponent{constructor(n){super(),init(this,n,instance$6,create_fragment$6,safe_not_equal,{})}}const CarouselButton_svelte_svelte_type_style_lang="";function create_fragment$5(e){let n,r,t,o;const a=e[1].default,l=create_slot(a,e,e[0],null);return{c(){n=element("button"),l&&l.c(),attr(n,"class","rounded-full bg-gray-600 p-2 text-white shadow-sm hover:bg-gray-700 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-bg-gray-600 w-10 h-10 svelte-z9o5q9")},m(c,s){insert(c,n,s),l&&l.m(n,null),r=!0,t||(o=listen(n,"click",e[2]),t=!0)},p(c,[s]){l&&l.p&&(!r||s&1)&&update_slot_base(l,a,c,c[0],r?get_slot_changes(a,c[0],s,null):get_all_dirty_from_scope(c[0]),null)},i(c){r||(transition_in(l,c),r=!0)},o(c){transition_out(l,c),r=!1},d(c){c&&detach(n),l&&l.d(c),t=!1,o()}}}function instance$5(e,n,r){let{$$slots:t={},$$scope:o}=n;function a(l){bubble.call(this,e,l)}return e.$$set=l=>{"$$scope"in l&&r(0,o=l.$$scope)},[o,t,a]}class CarouselButton extends SvelteComponent{constructor(n){super(),init(this,n,instance$5,create_fragment$5,safe_not_equal,{})}}function create_default_slot$2(e){let n,r;return{c(){n=svg_element("svg"),r=svg_element("path"),attr(r,"stroke-linecap","round"),attr(r,"stroke-linejoin","round"),attr(r,"d","M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"),attr(n,"xmlns","http://www.w3.org/2000/svg"),attr(n,"fill","none"),attr(n,"viewBox","0 0 24 24"),attr(n,"stroke-width","1.5"),attr(n,"stroke","currentColor"),attr(n,"class","w-6 h-6")},m(t,o){insert(t,n,o),append(n,r)},p:noop,d(t){t&&detach(n)}}}function create_fragment$4(e){let n,r;return n=new CarouselButton({props:{$$slots:{default:[create_default_slot$2]},$$scope:{ctx:e}}}),n.$on("click",e[0]),{c(){create_component(n.$$.fragment)},m(t,o){mount_component(n,t,o),r=!0},p(t,[o]){const a={};o&2&&(a.$$scope={dirty:o,ctx:t}),n.$set(a)},i(t){r||(transition_in(n.$$.fragment,t),r=!0)},o(t){transition_out(n.$$.fragment,t),r=!1},d(t){destroy_component(n,t)}}}function instance$4(e){function n(r){bubble.call(this,e,r)}return[n]}class NextButton extends SvelteComponent{constructor(n){super(),init(this,n,instance$4,create_fragment$4,safe_not_equal,{})}}const PillButton_svelte_svelte_type_style_lang="";function create_fragment$3(e){let n,r,t;return{c(){n=element("button"),attr(n,"type","button"),attr(n,"class",r=null_to_empty(`w-3 h-3 rounded-full ${e[0]&&"current"}`)+" svelte-3h3ad5"),attr(n,"aria-current",t=e[0]?"true":"false")},m(o,a){insert(o,n,a)},p(o,[a]){a&1&&r!==(r=null_to_empty(`w-3 h-3 rounded-full ${o[0]&&"current"}`)+" svelte-3h3ad5")&&attr(n,"class",r),a&1&&t!==(t=o[0]?"true":"false")&&attr(n,"aria-current",t)},i:noop,o:noop,d(o){o&&detach(n)}}}function instance$3(e,n,r){let{current:t=!1}=n;return e.$$set=o=>{"current"in o&&r(0,t=o.current)},[t]}class PillButton extends SvelteComponent{constructor(n){super(),init(this,n,instance$3,create_fragment$3,safe_not_equal,{current:0})}}function create_default_slot$1(e){let n,r;return{c(){n=svg_element("svg"),r=svg_element("path"),attr(r,"stroke-linecap","round"),attr(r,"stroke-linejoin","round"),attr(r,"d","M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"),attr(n,"xmlns","http://www.w3.org/2000/svg"),attr(n,"fill","none"),attr(n,"viewBox","0 0 24 24"),attr(n,"stroke-width","1.5"),attr(n,"stroke","currentColor"),attr(n,"class","w-6 h-6")},m(t,o){insert(t,n,o),append(n,r)},p:noop,d(t){t&&detach(n)}}}function create_fragment$2(e){let n,r;return n=new CarouselButton({props:{$$slots:{default:[create_default_slot$1]},$$scope:{ctx:e}}}),n.$on("click",e[0]),{c(){create_component(n.$$.fragment)},m(t,o){mount_component(n,t,o),r=!0},p(t,[o]){const a={};o&2&&(a.$$scope={dirty:o,ctx:t}),n.$set(a)},i(t){r||(transition_in(n.$$.fragment,t),r=!0)},o(t){transition_out(n.$$.fragment,t),r=!1},d(t){destroy_component(n,t)}}}function instance$2(e){function n(r){bubble.call(this,e,r)}return[n]}class PrevButton extends SvelteComponent{constructor(n){super(),init(this,n,instance$2,create_fragment$2,safe_not_equal,{})}}function get_each_context_1(e,n,r){const t=e.slice();return t[10]=n[r],t[9]=r,t}function get_each_context(e,n,r){const t=e.slice();return t[7]=n[r],t[9]=r,t}function create_else_block(e){let n,r,t=ensure_array_like(e[0]),o=[];for(let l=0;l<t.length;l+=1)o[l]=create_each_block_1(get_each_context_1(e,t,l));const a=l=>transition_out(o[l],1,1,()=>{o[l]=null});return{c(){n=element("div");for(let l=0;l<o.length;l+=1)o[l].c();attr(n,"class","flex items-center justify-center space-x-3 rtl:space-x-reverse")},m(l,c){insert(l,n,c);for(let s=0;s<o.length;s+=1)o[s]&&o[s].m(n,null);r=!0},p(l,c){if(c&5){t=ensure_array_like(l[0]);let s;for(s=0;s<t.length;s+=1){const u=get_each_context_1(l,t,s);o[s]?(o[s].p(u,c),transition_in(o[s],1)):(o[s]=create_each_block_1(u),o[s].c(),transition_in(o[s],1),o[s].m(n,null))}for(group_outros(),s=t.length;s<o.length;s+=1)a(s);check_outros()}},i(l){if(!r){for(let c=0;c<t.length;c+=1)transition_in(o[c]);r=!0}},o(l){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)transition_out(o[c]);r=!1},d(l){l&&detach(n),destroy_each(o,l)}}}function create_if_block(e){let n,r,t,o=ensure_array_like(e[0]),a=[];for(let l=0;l<o.length;l+=1)a[l]=create_each_block(get_each_context(e,o,l));return{c(){n=element("div");for(let l=0;l<a.length;l+=1)a[l].c();attr(n,"class","overflow-x-auto overflow-y-hidden whitespace-nowrap touch-pan-x scroll-snap-x scrollbar-hide")},m(l,c){insert(l,n,c);for(let s=0;s<a.length;s+=1)a[s]&&a[s].m(n,null);r||(t=listen(n,"touchmove",touchmove_handler),r=!0)},p(l,c){if(c&5){o=ensure_array_like(l[0]);let s;for(s=0;s<o.length;s+=1){const u=get_each_context(l,o,s);a[s]?a[s].p(u,c):(a[s]=create_each_block(u),a[s].c(),a[s].m(n,null))}for(;s<a.length;s+=1)a[s].d(1);a.length=o.length}},i:noop,o:noop,d(l){l&&detach(n),destroy_each(a,l),r=!1,t()}}}function create_each_block_1(e){let n,r;function t(){return e[6](e[9])}return n=new PillButton({props:{current:e[2]===e[9]}}),n.$on("click",t),{c(){create_component(n.$$.fragment)},m(o,a){mount_component(n,o,a),r=!0},p(o,a){e=o;const l={};a&4&&(l.current=e[2]===e[9]),n.$set(l)},i(o){r||(transition_in(n.$$.fragment,o),r=!0)},o(o){transition_out(n.$$.fragment,o),r=!1},d(o){destroy_component(n,o)}}}function create_each_block(e){let n,r,t,o,a,l;function c(){return e[5](e[9])}return{c(){n=element("div"),r=element("img"),o=space(),src_url_equal(r.src,t=e[7])||attr(r,"src",t),attr(r,"class","w-full h-full object-cover rounded-md"),attr(r,"alt",`Thumbnail ${e[9]+1}`),attr(n,"class","inline-block w-24 h-16 scroll-snap-align-start mr-2 mb-2")},m(s,u){insert(s,n,u),append(n,r),append(n,o),a||(l=listen(r,"click",c),a=!0)},p(s,u){e=s,u&1&&!src_url_equal(r.src,t=e[7])&&attr(r,"src",t)},d(s){s&&detach(n),a=!1,l()}}}function create_default_slot(e){let n,r,t,o,a,l,c,s,u,f,p,d,m,_,g;s=new PrevButton({}),s.$on("click",e[4]),f=new NextButton({}),f.$on("click",e[3]);const h=[create_if_block,create_else_block],v=[];function w(y,x){return y[1]?0:1}return m=w(e),_=v[m]=h[m](e),{c(){n=element("div"),r=element("div"),t=element("img"),l=space(),c=element("div"),create_component(s.$$.fragment),u=space(),create_component(f.$$.fragment),p=space(),d=element("div"),_.c(),src_url_equal(t.src,o=e[0][e[2]])||attr(t,"src",o),attr(t,"class","object-center object-contain h-full"),attr(t,"alt",a=`Image ${e[2]+1}`),attr(c,"class","absolute mx-8 flex h-full w-full justify-between items-center z-30"),attr(r,"class","relative py-2 flex w-full overflow-hidden rounded-lg h-56 md:h-96 items-center justify-center"),attr(d,"class","w-full mb-2"),attr(n,"class","px-2 md:px-8 bg-black flex flex-col gap-y-2 cursor-default")},m(y,x){insert(y,n,x),append(n,r),append(r,t),append(r,l),append(r,c),mount_component(s,c,null),append(c,u),mount_component(f,c,null),append(n,p),append(n,d),v[m].m(d,null),g=!0},p(y,x){(!g||x&5&&!src_url_equal(t.src,o=y[0][y[2]]))&&attr(t,"src",o),(!g||x&4&&a!==(a=`Image ${y[2]+1}`))&&attr(t,"alt",a);let S=m;m=w(y),m===S?v[m].p(y,x):(group_outros(),transition_out(v[S],1,1,()=>{v[S]=null}),check_outros(),_=v[m],_?_.p(y,x):(_=v[m]=h[m](y),_.c()),transition_in(_,1),_.m(d,null))},i(y){g||(transition_in(s.$$.fragment,y),transition_in(f.$$.fragment,y),transition_in(_),g=!0)},o(y){transition_out(s.$$.fragment,y),transition_out(f.$$.fragment,y),transition_out(_),g=!1},d(y){y&&detach(n),destroy_component(s),destroy_component(f),v[m].d()}}}function create_fragment$1(e){let n,r;return n=new ImageLayouts({props:{$$slots:{default:[create_default_slot]},$$scope:{ctx:e}}}),{c(){create_component(n.$$.fragment)},m(t,o){mount_component(n,t,o),r=!0},p(t,[o]){const a={};o&4103&&(a.$$scope={dirty:o,ctx:t}),n.$set(a)},i(t){r||(transition_in(n.$$.fragment,t),r=!0)},o(t){transition_out(n.$$.fragment,t),r=!1},d(t){destroy_component(n,t)}}}const touchmove_handler=e=>{var r;e.preventDefault();const n=e.targetTouches[0].clientX;(r=e==null?void 0:e.target)!=null&&r.scrollLeft&&(e.target.scrollLeft+=n)};function instance$1(e,n,r){let t=0,{imageUrls:o}=n,{showThumbnails:a=!1}=n;function l(){t<o.length-1?r(2,t+=1):r(2,t=0)}function c(){t>0?r(2,t-=1):r(2,t=o.length-1)}const s=f=>r(2,t=f),u=f=>r(2,t=f);return e.$$set=f=>{"imageUrls"in f&&r(0,o=f.imageUrls),"showThumbnails"in f&&r(1,a=f.showThumbnails)},[o,a,t,l,c,s,u]}class Carousel extends SvelteComponent{constructor(n){super(),init(this,n,instance$1,create_fragment$1,safe_not_equal,{imageUrls:0,showThumbnails:1})}}function create_fragment(e){let n,r,t,o,a,l,c,s,u,f,p;return{c(){n=element("div"),r=element("div"),r.textContent="Select an image layout",t=space(),o=element("div"),o.textContent="More layouts coming soon",a=space(),l=element("div"),c=element("label"),c.innerHTML='<input type="radio" name="project-type" value="Carousel" class="sr-only" aria-labelledby="project-type-0-label" aria-describedby="project-type-0-description-0 project-type-0-description-1"/> <span class="flex flex-1"><span class="flex flex-col"><span id="project-type-0-label" class="block text-sm font-medium text-gray-900">Carousel</span> <span id="project-type-0-description-0" class="mt-1 flex items-center text-sm text-gray-500">Without thumbnails. Simple pills and slider</span></span></span> <svg class="h-5 w-5 text-indigo-600" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd"></path></svg> <span class="pointer-events-none absolute -inset-px rounded-lg border-2" aria-hidden="true"></span>',s=space(),u=element("label"),u.innerHTML='<input type="radio" name="project-type" value="carousel-thumbnails" class="sr-only" aria-labelledby="project-type-1-label" aria-describedby="project-type-1-description-0 project-type-1-description-1"/> <span class="flex flex-1"><span class="flex flex-col"><span id="project-type-1-label" class="block text-sm font-medium text-gray-900">Carousel</span> <span id="project-type-1-description-0" class="mt-1 flex items-center text-sm text-gray-500">With thumbnails</span></span></span> <svg class="h-5 w-5 text-indigo-600" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z" clip-rule="evenodd"></path></svg> <span class="pointer-events-none absolute -inset-px rounded-lg border-2" aria-hidden="true"></span>',attr(r,"class","text-base font-semibold leading-6 text-gray-900"),attr(o,"class","text-xs font-normal leading-6 text-gray-900"),attr(c,"class","relative flex cursor-pointer rounded-lg border bg-white p-4 shadow-sm focus:outline-none"),attr(u,"class","relative flex cursor-pointer rounded-lg border bg-white p-4 shadow-sm focus:outline-none"),attr(l,"class","mt-4 grid grid-cols-1 gap-y-6 sm:grid-cols-3 sm:gap-x-4"),attr(n,"class","p-4 bg-gray-50")},m(d,m){insert(d,n,m),append(n,r),append(n,t),append(n,o),append(n,a),append(n,l),append(l,c),append(l,s),append(l,u),f||(p=[listen(c,"click",e[1]),listen(c,"keydown",e[2]),listen(u,"click",e[3]),listen(u,"keydown",e[4])],f=!0)},p:noop,i:noop,o:noop,d(d){d&&detach(n),f=!1,run_all(p)}}}function instance(e){const n=createEventDispatcher();async function r(c,s,u){c.preventDefault(),await n("layout-selected",{type:s,params:u})}return[r,c=>r(c,"carousel"),c=>r(c,"carousel"),c=>r(c,"carousel",{showThumbnails:!0}),c=>r(c,"carousel",{showThumbnails:!0})]}class LayoutPicker extends SvelteComponent{constructor(n){super(),init(this,n,instance,create_fragment,safe_not_equal,{})}}var toString=Object.prototype.toString,kindOf=function(n){if(n===void 0)return"undefined";if(n===null)return"null";var r=typeof n;if(r==="boolean")return"boolean";if(r==="string")return"string";if(r==="number")return"number";if(r==="symbol")return"symbol";if(r==="function")return isGeneratorFn(n)?"generatorfunction":"function";if(isArray(n))return"array";if(isBuffer$1(n))return"buffer";if(isArguments(n))return"arguments";if(isDate(n))return"date";if(isError(n))return"error";if(isRegexp(n))return"regexp";switch(ctorName(n)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(isGeneratorObj(n))return"generator";switch(r=toString.call(n),r){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return r.slice(8,-1).toLowerCase().replace(/\s/g,"")};function ctorName(e){return typeof e.constructor=="function"?e.constructor.name:null}function isArray(e){return Array.isArray?Array.isArray(e):e instanceof Array}function isError(e){return e instanceof Error||typeof e.message=="string"&&e.constructor&&typeof e.constructor.stackTraceLimit=="number"}function isDate(e){return e instanceof Date?!0:typeof e.toDateString=="function"&&typeof e.getDate=="function"&&typeof e.setDate=="function"}function isRegexp(e){return e instanceof RegExp?!0:typeof e.flags=="string"&&typeof e.ignoreCase=="boolean"&&typeof e.multiline=="boolean"&&typeof e.global=="boolean"}function isGeneratorFn(e,n){return ctorName(e)==="GeneratorFunction"}function isGeneratorObj(e){return typeof e.throw=="function"&&typeof e.return=="function"&&typeof e.next=="function"}function isArguments(e){try{if(typeof e.length=="number"&&typeof e.callee=="function")return!0}catch(n){if(n.message.indexOf("callee")!==-1)return!0}return!1}function isBuffer$1(e){return e.constructor&&typeof e.constructor.isBuffer=="function"?e.constructor.isBuffer(e):!1}/*!
 * is-extendable <https://github.com/jonschlinkert/is-extendable>
 *
 * Copyright (c) 2015, Jon Schlinkert.
 * Licensed under the MIT License.
 */var isExtendable=function(n){return typeof n<"u"&&n!==null&&(typeof n=="object"||typeof n=="function")},isObject=isExtendable,extendShallow=function(n){isObject(n)||(n={});for(var r=arguments.length,t=1;t<r;t++){var o=arguments[t];isObject(o)&&assign(n,o)}return n};function assign(e,n){for(var r in n)hasOwn(n,r)&&(e[r]=n[r])}function hasOwn(e,n){return Object.prototype.hasOwnProperty.call(e,n)}var typeOf$2=kindOf,extend=extendShallow,sectionMatter=function(e,n){typeof n=="function"&&(n={parse:n});var r=toObject(e),t={section_delimiter:"---",parse:identity},o=extend({},t,n),a=o.section_delimiter,l=r.content.split(/\r?\n/),c=null,s=createSection(),u=[],f=[];function p(v){r.content=v,c=[],u=[]}function d(v){f.length&&(s.key=getKey(f[0],a),s.content=v,o.parse(s,c),c.push(s),s=createSection(),u=[],f=[])}for(var m=0;m<l.length;m++){var _=l[m],g=f.length,h=_.trim();if(isDelimiter(h,a)){if(h.length===3&&m!==0){if(g===0||g===2){u.push(_);continue}f.push(h),s.data=u.join(`
`),u=[];continue}c===null&&p(u.join(`
`)),g===2&&d(u.join(`
`)),f.push(h);continue}u.push(_)}return c===null?p(u.join(`
`)):d(u.join(`
`)),r.sections=c,r};function isDelimiter(e,n){return!(e.slice(0,n.length)!==n||e.charAt(n.length+1)===n.slice(-1))}function toObject(e){if(typeOf$2(e)!=="object"&&(e={content:e}),typeof e.content!="string"&&!isBuffer(e.content))throw new TypeError("expected a buffer or string");return e.content=e.content.toString(),e.sections=[],e}function getKey(e,n){return e?e.slice(n.length).trim():""}function createSection(){return{key:"",data:"",content:""}}function identity(e){return e}function isBuffer(e){return e&&e.constructor&&typeof e.constructor.isBuffer=="function"?e.constructor.isBuffer(e):!1}var engines$2={exports:{}};(function(module,exports){const yaml=jsYaml,engines=module.exports;engines.yaml={parse:yaml.safeLoad.bind(yaml),stringify:yaml.safeDump.bind(yaml)},engines.json={parse:JSON.parse.bind(JSON),stringify:function(e,n){const r=Object.assign({replacer:null,space:2},n);return JSON.stringify(e,r.replacer,r.space)}},engines.javascript={parse:function parse(str,options,wrap){try{return wrap!==!1&&(str=`(function() {
return `+str.trim()+`;
}());`),eval(str)||{}}catch(e){if(wrap!==!1&&/(unexpected|identifier)/i.test(e.message))return parse(str,options,!1);throw new SyntaxError(e)}},stringify:function(){throw new Error("stringifying JavaScript is not supported")}}})(engines$2);var enginesExports=engines$2.exports,utils$3={};/*!
 * strip-bom-string <https://github.com/jonschlinkert/strip-bom-string>
 *
 * Copyright (c) 2015, 2017, Jon Schlinkert.
 * Released under the MIT License.
 */var stripBomString=function(e){return typeof e=="string"&&e.charAt(0)==="\uFEFF"?e.slice(1):e};(function(e){const n=stripBomString,r=kindOf;e.define=function(t,o,a){Reflect.defineProperty(t,o,{enumerable:!1,configurable:!0,writable:!0,value:a})},e.isBuffer=function(t){return r(t)==="buffer"},e.isObject=function(t){return r(t)==="object"},e.toBuffer=function(t){return typeof t=="string"?Buffer.from(t):t},e.toString=function(t){if(e.isBuffer(t))return n(String(t));if(typeof t!="string")throw new TypeError("expected input to be a string or buffer");return n(t)},e.arrayify=function(t){return t?Array.isArray(t)?t:[t]:[]},e.startsWith=function(t,o,a){return typeof a!="number"&&(a=o.length),t.slice(0,a)===o}})(utils$3);const engines$1=enginesExports,utils$2=utils$3;var defaults$4=function(e){const n=Object.assign({},e);return n.delimiters=utils$2.arrayify(n.delims||n.delimiters||"---"),n.delimiters.length===1&&n.delimiters.push(n.delimiters[0]),n.language=(n.language||n.lang||"yaml").toLowerCase(),n.engines=Object.assign({},engines$1,n.parsers,n.engines),n},engine=function(e,n){let r=n.engines[e]||n.engines[aliase(e)];if(typeof r>"u")throw new Error('gray-matter engine "'+e+'" is not registered');return typeof r=="function"&&(r={parse:r}),r};function aliase(e){switch(e.toLowerCase()){case"js":case"javascript":return"javascript";case"coffee":case"coffeescript":case"cson":return"coffee";case"yaml":case"yml":return"yaml";default:return e}}const typeOf$1=kindOf,getEngine$1=engine,defaults$3=defaults$4;var stringify$2=function(e,n,r){if(n==null&&r==null)switch(typeOf$1(e)){case"object":n=e.data,r={};break;case"string":return e;default:throw new TypeError("expected file to be a string or object")}const t=e.content,o=defaults$3(r);if(n==null){if(!o.data)return e;n=o.data}const a=e.language||o.language,l=getEngine$1(a,o);if(typeof l.stringify!="function")throw new TypeError('expected "'+a+'.stringify" to be a function');n=Object.assign({},e.data,n);const c=o.delimiters[0],s=o.delimiters[1],u=l.stringify(n,r).trim();let f="";return u!=="{}"&&(f=newline(c)+newline(u)+newline(s)),typeof e.excerpt=="string"&&e.excerpt!==""&&t.indexOf(e.excerpt.trim())===-1&&(f+=newline(e.excerpt)+newline(s)),f+newline(t)};function newline(e){return e.slice(-1)!==`
`?e+`
`:e}const defaults$2=defaults$4;var excerpt$1=function(e,n){const r=defaults$2(n);if(e.data==null&&(e.data={}),typeof r.excerpt=="function")return r.excerpt(e,r);const t=e.data.excerpt_separator||r.excerpt_separator;if(t==null&&(r.excerpt===!1||r.excerpt==null))return e;const o=typeof r.excerpt=="string"?r.excerpt:t||r.delimiters[0],a=e.content.indexOf(o);return a!==-1&&(e.excerpt=e.content.slice(0,a)),e};const typeOf=kindOf,stringify$1=stringify$2,utils$1=utils$3;var toFile$1=function(e){return typeOf(e)!=="object"&&(e={content:e}),typeOf(e.data)!=="object"&&(e.data={}),e.contents&&e.content==null&&(e.content=e.contents),utils$1.define(e,"orig",utils$1.toBuffer(e.content)),utils$1.define(e,"language",e.language||""),utils$1.define(e,"matter",e.matter||""),utils$1.define(e,"stringify",function(n,r){return r&&r.language&&(e.language=r.language),stringify$1(e,n,r)}),e.content=utils$1.toString(e.content),e.isEmpty=!1,e.excerpt="",e};const getEngine=engine,defaults$1=defaults$4;var parse$1=function(e,n,r){const t=defaults$1(r),o=getEngine(e,t);if(typeof o.parse!="function")throw new TypeError('expected "'+e+'.parse" to be a function');return o.parse(n,t)};const fs=require$$0,sections=sectionMatter,defaults=defaults$4,stringify=stringify$2,excerpt=excerpt$1,engines=enginesExports,toFile=toFile$1,parse=parse$1,utils=utils$3;function matter(e,n){if(e==="")return{data:{},content:e,excerpt:"",orig:e};let r=toFile(e);const t=matter.cache[r.content];if(!n){if(t)return r=Object.assign({},t),r.orig=t.orig,r;matter.cache[r.content]=r}return parseMatter(r,n)}function parseMatter(e,n){const r=defaults(n),t=r.delimiters[0],o=`
`+r.delimiters[1];let a=e.content;r.language&&(e.language=r.language);const l=t.length;if(!utils.startsWith(a,t,l))return excerpt(e,r),e;if(a.charAt(l)===t.slice(-1))return e;a=a.slice(l);const c=a.length,s=matter.language(a,r);s.name&&(e.language=s.name,a=a.slice(s.raw.length));let u=a.indexOf(o);return u===-1&&(u=c),e.matter=a.slice(0,u),e.matter.replace(/^\s*#[^\n]+/gm,"").trim()===""?(e.isEmpty=!0,e.empty=e.content,e.data={}):e.data=parse(e.language,e.matter,r),u===c?e.content="":(e.content=a.slice(u+o.length),e.content[0]==="\r"&&(e.content=e.content.slice(1)),e.content[0]===`
`&&(e.content=e.content.slice(1))),excerpt(e,r),(r.sections===!0||typeof r.section=="function")&&sections(e,r.section),e}matter.engines=engines;matter.stringify=function(e,n,r){return typeof e=="string"&&(e=matter(e,r)),stringify(e,n,r)};matter.read=function(e,n){const r=fs.readFileSync(e,"utf8"),t=matter(r,n);return t.path=e,t};matter.test=function(e,n){return utils.startsWith(e,defaults(n).delimiters[0])};matter.language=function(e,n){const t=defaults(n).delimiters[0];matter.test(e)&&(e=e.slice(t.length));const o=e.slice(0,e.search(/\r?\n/));return{raw:o,name:o?o.trim():""}};matter.cache={};matter.clearCache=function(){matter.cache={}};var grayMatter=matter;const matter$1=getDefaultExportFromCjs(grayMatter);function addImageLayoutMarkdownProcessor(e){e.registerMarkdownCodeBlockProcessor("image-layout",(n,r,t)=>{renderImageLayoutComponent(n,r,t,e)})}function renderImageLayoutComponent(e,n,r,t){var c,s;const o=parseFrontMatterBlock(e),a=getImages(o.body),l=resolveLocalImages(a,r,t);if(!((c=o.data)!=null&&c.layout)){new LayoutPicker({target:n,props:{}}).$on("layout-selected",f=>{var _;const p=o.data??{};console.log(f.detail.type),p.layout=f.detail.type,(_=f.detail.params)!=null&&_.showThumbnails&&(p.carouselShowThumbnails=!0);const d=t.app.workspace.getActiveViewOfType(obsidian.MarkdownView),m=r.getSectionInfo(n);m&&(d==null||d.editor.setSelection({line:m.lineEnd,ch:0},{line:m.lineStart+1,ch:0}),d==null||d.editor.replaceSelection(matter$1.stringify(o.body,p))),renderImageLayoutComponent(e,n,r,t)});return}if(o.data.layout==="carousel"){new Carousel({target:n,props:{imageUrls:l.length>0?l.map(u=>u.link):["https://via.placeholder.com/640x480"],showThumbnails:!!o.data.carouselShowThumbnails}});return}if(o.data.layout.startsWith("legacy-layout-")){const u=o.data.layout.charAt(o.data.layout.length-1);if(!layoutImages[u])return;new LegacyImageLayout({target:n,props:{caption:o.data.caption??"",descriptions:o.data.descriptions,layout:u,requiredImages:layoutImages[u],images:l,permanentOverlay:((s=o.data)==null?void 0:s.permanentOverlay)??t.settings.shouldOverlayPermanently}})}}const subscriber_queue=[];function writable(e,n=noop){let r;const t=new Set;function o(c){if(safe_not_equal(e,c)&&(e=c,r)){const s=!subscriber_queue.length;for(const u of t)u[1](),subscriber_queue.push(u,e);if(s){for(let u=0;u<subscriber_queue.length;u+=2)subscriber_queue[u][0](subscriber_queue[u+1]);subscriber_queue.length=0}}}function a(c){o(c(e))}function l(c,s=noop){const u=[c,s];return t.add(u),t.size===1&&(r=n(o,a)||noop),c(e),()=>{t.delete(u),t.size===0&&r&&(r(),r=null)}}return{set:o,update:a,subscribe:l}}const settings=writable({shouldOverlayPermanently:!1});class ImageLayoutsSettingsTab extends obsidian.PluginSettingTab{constructor(n,r){super(n,r),this.plugin=r}display(){const{containerEl:n}=this;n.empty(),new obsidian.Setting(n).setName("Should Overlay Permanently").setDesc("Image overlays don't require hovering").addToggle(r=>{r.setValue(this.plugin.settings.shouldOverlayPermanently).onChange(async t=>{this.plugin.settings.shouldOverlayPermanently=t,await this.plugin.saveSettings()})})}}const DEFAULT_SETTINGS={shouldOverlayPermanently:!1};class ImageLayoutsPlugin extends obsidian.Plugin{async loadSettings(){this.settings=Object.assign({},DEFAULT_SETTINGS,await this.loadData()),settings.set(this.settings)}async saveSettings(){await this.saveData(this.settings),settings.set(this.settings)}async onload(){await this.loadSettings(),this.addSettingTab(new ImageLayoutsSettingsTab(this.app,this)),addImageLayoutMarkdownProcessor(this),addLegacyImageLayoutMarkdownProcessors(this),addLegacyMasonryMarkdownProcessors(this)}onunload(){console.log("unloading plugin")}}module.exports=ImageLayoutsPlugin;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZXMiOlsiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC91dGlscy5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvZG9tLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9saWZlY3ljbGUuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL3NjaGVkdWxlci5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3J1bnRpbWUvaW50ZXJuYWwvdHJhbnNpdGlvbnMuanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL2VhY2guanMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL2ludGVybmFsL0NvbXBvbmVudC5qcyIsIi4uL25vZGVfbW9kdWxlcy9zdmVsdGUvc3JjL3NoYXJlZC92ZXJzaW9uLmpzIiwiLi4vbm9kZV9tb2R1bGVzL3N2ZWx0ZS9zcmMvcnVudGltZS9pbnRlcm5hbC9kaXNjbG9zZS12ZXJzaW9uL2luZGV4LmpzIiwiLi4vc3JjL2NvbXBvbmVudHMvTGVnYWN5R3JpZEltYWdlLnN2ZWx0ZSIsIi4uL3NyYy9jb21wb25lbnRzL0NhcHRpb24uc3ZlbHRlIiwiLi4vc3JjL2NvbXBvbmVudHMvTGVnYWN5SW1hZ2VMYXlvdXQuc3ZlbHRlIiwiLi4vc3JjL2ludGVyZmFjZXMudHMiLCIuLi9zcmMvdXRpbHMvaW1hZ2VzLnRzIiwiLi4vc3JjL3V0aWxzL2ltYWdlLXJlc29sdmVyLnRzIiwiLi4vbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL2pzLXlhbWwvY29tbW9uLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL2pzLXlhbWwvZXhjZXB0aW9uLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL2pzLXlhbWwvbWFyay5qcyIsIi4uL25vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi9qcy15YW1sL3R5cGUuanMiLCIuLi9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvanMteWFtbC9zY2hlbWEuanMiLCIuLi9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvanMteWFtbC90eXBlL3N0ci5qcyIsIi4uL25vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi9qcy15YW1sL3R5cGUvc2VxLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL2pzLXlhbWwvdHlwZS9tYXAuanMiLCIuLi9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvanMteWFtbC9zY2hlbWEvZmFpbHNhZmUuanMiLCIuLi9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvanMteWFtbC90eXBlL251bGwuanMiLCIuLi9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvanMteWFtbC90eXBlL2Jvb2wuanMiLCIuLi9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvanMteWFtbC90eXBlL2ludC5qcyIsIi4uL25vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi9qcy15YW1sL3R5cGUvZmxvYXQuanMiLCIuLi9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvanMteWFtbC9zY2hlbWEvanNvbi5qcyIsIi4uL25vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi9qcy15YW1sL3NjaGVtYS9jb3JlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL2pzLXlhbWwvdHlwZS90aW1lc3RhbXAuanMiLCIuLi9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvanMteWFtbC90eXBlL21lcmdlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL2pzLXlhbWwvdHlwZS9iaW5hcnkuanMiLCIuLi9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvanMteWFtbC90eXBlL29tYXAuanMiLCIuLi9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvanMteWFtbC90eXBlL3BhaXJzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL2pzLXlhbWwvdHlwZS9zZXQuanMiLCIuLi9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvanMteWFtbC9zY2hlbWEvZGVmYXVsdF9zYWZlLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL2pzLXlhbWwvdHlwZS9qcy91bmRlZmluZWQuanMiLCIuLi9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvanMteWFtbC90eXBlL2pzL3JlZ2V4cC5qcyIsIi4uL25vZGVfbW9kdWxlcy9qcy15YW1sL2xpYi9qcy15YW1sL3R5cGUvanMvZnVuY3Rpb24uanMiLCIuLi9ub2RlX21vZHVsZXMvanMteWFtbC9saWIvanMteWFtbC9zY2hlbWEvZGVmYXVsdF9mdWxsLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL2pzLXlhbWwvbG9hZGVyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL2pzLXlhbWwvZHVtcGVyLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2pzLXlhbWwvbGliL2pzLXlhbWwuanMiLCIuLi9ub2RlX21vZHVsZXMvanMteWFtbC9pbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy9mcm9udC1tYXR0ZXIvaW5kZXguanMiLCIuLi9zcmMvdXRpbHMvZnJvbnQtbWF0dGVyLnRzIiwiLi4vc3JjL3Byb2Nlc3NvcnMvbGVnYWN5LWltYWdlLWxheW91dHMudHMiLCIuLi9zcmMvY29tcG9uZW50cy9MZWdhY3lNYXNvbnJ5SW1hZ2Uuc3ZlbHRlIiwiLi4vc3JjL2NvbXBvbmVudHMvTGVnYWN5TWFzb25yeUxheW91dC5zdmVsdGUiLCIuLi9zcmMvcHJvY2Vzc29ycy9sZWdhY3ktbWFzb3J5LWxheW91dHMudHMiLCIuLi9zcmMvY29tcG9uZW50cy9JbWFnZUxheW91dHMuc3ZlbHRlIiwiLi4vc3JjL2NvbXBvbmVudHMvQ2Fyb3VzZWxCdXR0b24uc3ZlbHRlIiwiLi4vc3JjL2NvbXBvbmVudHMvTmV4dEJ1dHRvbi5zdmVsdGUiLCIuLi9zcmMvY29tcG9uZW50cy9QaWxsQnV0dG9uLnN2ZWx0ZSIsIi4uL3NyYy9jb21wb25lbnRzL1ByZXZCdXR0b24uc3ZlbHRlIiwiLi4vc3JjL2NvbXBvbmVudHMvQ2Fyb3VzZWwuc3ZlbHRlIiwiLi4vc3JjL2NvbXBvbmVudHMvTGF5b3V0UGlja2VyLnN2ZWx0ZSIsIi4uL25vZGVfbW9kdWxlcy9raW5kLW9mL2luZGV4LmpzIiwiLi4vbm9kZV9tb2R1bGVzL2lzLWV4dGVuZGFibGUvaW5kZXguanMiLCIuLi9ub2RlX21vZHVsZXMvZXh0ZW5kLXNoYWxsb3cvaW5kZXguanMiLCIuLi9ub2RlX21vZHVsZXMvc2VjdGlvbi1tYXR0ZXIvaW5kZXguanMiLCIuLi9ub2RlX21vZHVsZXMvZ3JheS1tYXR0ZXIvbGliL2VuZ2luZXMuanMiLCIuLi9ub2RlX21vZHVsZXMvc3RyaXAtYm9tLXN0cmluZy9pbmRleC5qcyIsIi4uL25vZGVfbW9kdWxlcy9ncmF5LW1hdHRlci9saWIvdXRpbHMuanMiLCIuLi9ub2RlX21vZHVsZXMvZ3JheS1tYXR0ZXIvbGliL2RlZmF1bHRzLmpzIiwiLi4vbm9kZV9tb2R1bGVzL2dyYXktbWF0dGVyL2xpYi9lbmdpbmUuanMiLCIuLi9ub2RlX21vZHVsZXMvZ3JheS1tYXR0ZXIvbGliL3N0cmluZ2lmeS5qcyIsIi4uL25vZGVfbW9kdWxlcy9ncmF5LW1hdHRlci9saWIvZXhjZXJwdC5qcyIsIi4uL25vZGVfbW9kdWxlcy9ncmF5LW1hdHRlci9saWIvdG8tZmlsZS5qcyIsIi4uL25vZGVfbW9kdWxlcy9ncmF5LW1hdHRlci9saWIvcGFyc2UuanMiLCIuLi9ub2RlX21vZHVsZXMvZ3JheS1tYXR0ZXIvaW5kZXguanMiLCIuLi9zcmMvcHJvY2Vzc29ycy9pbWFnZS1sYXlvdXQudHMiLCIuLi9ub2RlX21vZHVsZXMvc3ZlbHRlL3NyYy9ydW50aW1lL3N0b3JlL2luZGV4LmpzIiwiLi4vc3JjL3N0b3Jlcy50cyIsIi4uL3NyYy92aWV3cy9zZXR0aW5ncy50cyIsIi4uL3NyYy9tYWluLnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBub29wKCkge31cblxuZXhwb3J0IGNvbnN0IGlkZW50aXR5ID0gKHgpID0+IHg7XG5cbi8qKlxuICogQHRlbXBsYXRlIFRcbiAqIEB0ZW1wbGF0ZSBTXG4gKiBAcGFyYW0ge1R9IHRhclxuICogQHBhcmFtIHtTfSBzcmNcbiAqIEByZXR1cm5zIHtUICYgU31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2lnbih0YXIsIHNyYykge1xuXHQvLyBAdHMtaWdub3JlXG5cdGZvciAoY29uc3QgayBpbiBzcmMpIHRhcltrXSA9IHNyY1trXTtcblx0cmV0dXJuIC8qKiBAdHlwZSB7VCAmIFN9ICovICh0YXIpO1xufVxuXG4vLyBBZGFwdGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9pbmRleC5qc1xuLy8gRGlzdHJpYnV0ZWQgdW5kZXIgTUlUIExpY2Vuc2UgaHR0cHM6Ly9naXRodWIuY29tL3RoZW4vaXMtcHJvbWlzZS9ibG9iL21hc3Rlci9MSUNFTlNFXG4vKipcbiAqIEBwYXJhbSB7YW55fSB2YWx1ZVxuICogQHJldHVybnMge3ZhbHVlIGlzIFByb21pc2VMaWtlPGFueT59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19wcm9taXNlKHZhbHVlKSB7XG5cdHJldHVybiAoXG5cdFx0ISF2YWx1ZSAmJlxuXHRcdCh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJykgJiZcblx0XHR0eXBlb2YgKC8qKiBAdHlwZSB7YW55fSAqLyAodmFsdWUpLnRoZW4pID09PSAnZnVuY3Rpb24nXG5cdCk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfbG9jYXRpb24oZWxlbWVudCwgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyKSB7XG5cdGVsZW1lbnQuX19zdmVsdGVfbWV0YSA9IHtcblx0XHRsb2M6IHsgZmlsZSwgbGluZSwgY29sdW1uLCBjaGFyIH1cblx0fTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJ1bihmbikge1xuXHRyZXR1cm4gZm4oKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGJsYW5rX29iamVjdCgpIHtcblx0cmV0dXJuIE9iamVjdC5jcmVhdGUobnVsbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtGdW5jdGlvbltdfSBmbnNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gcnVuX2FsbChmbnMpIHtcblx0Zm5zLmZvckVhY2gocnVuKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2FueX0gdGhpbmdcbiAqIEByZXR1cm5zIHt0aGluZyBpcyBGdW5jdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2Z1bmN0aW9uKHRoaW5nKSB7XG5cdHJldHVybiB0eXBlb2YgdGhpbmcgPT09ICdmdW5jdGlvbic7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzYWZlX25vdF9lcXVhbChhLCBiKSB7XG5cdHJldHVybiBhICE9IGEgPyBiID09IGIgOiBhICE9PSBiIHx8IChhICYmIHR5cGVvZiBhID09PSAnb2JqZWN0JykgfHwgdHlwZW9mIGEgPT09ICdmdW5jdGlvbic7XG59XG5cbmxldCBzcmNfdXJsX2VxdWFsX2FuY2hvcjtcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZWxlbWVudF9zcmNcbiAqIEBwYXJhbSB7c3RyaW5nfSB1cmxcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3JjX3VybF9lcXVhbChlbGVtZW50X3NyYywgdXJsKSB7XG5cdGlmIChlbGVtZW50X3NyYyA9PT0gdXJsKSByZXR1cm4gdHJ1ZTtcblx0aWYgKCFzcmNfdXJsX2VxdWFsX2FuY2hvcikge1xuXHRcdHNyY191cmxfZXF1YWxfYW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYScpO1xuXHR9XG5cdC8vIFRoaXMgaXMgYWN0dWFsbHkgZmFzdGVyIHRoYW4gZG9pbmcgVVJMKC4uKS5ocmVmXG5cdHNyY191cmxfZXF1YWxfYW5jaG9yLmhyZWYgPSB1cmw7XG5cdHJldHVybiBlbGVtZW50X3NyYyA9PT0gc3JjX3VybF9lcXVhbF9hbmNob3IuaHJlZjtcbn1cblxuLyoqIEBwYXJhbSB7c3RyaW5nfSBzcmNzZXQgKi9cbmZ1bmN0aW9uIHNwbGl0X3NyY3NldChzcmNzZXQpIHtcblx0cmV0dXJuIHNyY3NldC5zcGxpdCgnLCcpLm1hcCgoc3JjKSA9PiBzcmMudHJpbSgpLnNwbGl0KCcgJykuZmlsdGVyKEJvb2xlYW4pKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxTb3VyY2VFbGVtZW50IHwgSFRNTEltYWdlRWxlbWVudH0gZWxlbWVudF9zcmNzZXRcbiAqIEBwYXJhbSB7c3RyaW5nIHwgdW5kZWZpbmVkIHwgbnVsbH0gc3Jjc2V0XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNyY3NldF91cmxfZXF1YWwoZWxlbWVudF9zcmNzZXQsIHNyY3NldCkge1xuXHRjb25zdCBlbGVtZW50X3VybHMgPSBzcGxpdF9zcmNzZXQoZWxlbWVudF9zcmNzZXQuc3Jjc2V0KTtcblx0Y29uc3QgdXJscyA9IHNwbGl0X3NyY3NldChzcmNzZXQgfHwgJycpO1xuXG5cdHJldHVybiAoXG5cdFx0dXJscy5sZW5ndGggPT09IGVsZW1lbnRfdXJscy5sZW5ndGggJiZcblx0XHR1cmxzLmV2ZXJ5KFxuXHRcdFx0KFt1cmwsIHdpZHRoXSwgaSkgPT5cblx0XHRcdFx0d2lkdGggPT09IGVsZW1lbnRfdXJsc1tpXVsxXSAmJlxuXHRcdFx0XHQvLyBXZSBuZWVkIHRvIHRlc3QgYm90aCB3YXlzIGJlY2F1c2UgVml0ZSB3aWxsIGNyZWF0ZSBhbiBhIGZ1bGwgVVJMIHdpdGhcblx0XHRcdFx0Ly8gYG5ldyBVUkwoYXNzZXQsIGltcG9ydC5tZXRhLnVybCkuaHJlZmAgZm9yIHRoZSBjbGllbnQgd2hlbiBgYmFzZTogJy4vJ2AsIGFuZCB0aGVcblx0XHRcdFx0Ly8gcmVsYXRpdmUgVVJMcyBpbnNpZGUgc3Jjc2V0IGFyZSBub3QgYXV0b21hdGljYWxseSByZXNvbHZlZCB0byBhYnNvbHV0ZSBVUkxzIGJ5XG5cdFx0XHRcdC8vIGJyb3dzZXJzIChpbiBjb250cmFzdCB0byBpbWcuc3JjKS4gVGhpcyBtZWFucyBib3RoIFNTUiBhbmQgRE9NIGNvZGUgY291bGRcblx0XHRcdFx0Ly8gY29udGFpbiByZWxhdGl2ZSBvciBhYnNvbHV0ZSBVUkxzLlxuXHRcdFx0XHQoc3JjX3VybF9lcXVhbChlbGVtZW50X3VybHNbaV1bMF0sIHVybCkgfHwgc3JjX3VybF9lcXVhbCh1cmwsIGVsZW1lbnRfdXJsc1tpXVswXSkpXG5cdFx0KVxuXHQpO1xufVxuXG4vKiogQHJldHVybnMge2Jvb2xlYW59ICovXG5leHBvcnQgZnVuY3Rpb24gbm90X2VxdWFsKGEsIGIpIHtcblx0cmV0dXJuIGEgIT0gYSA/IGIgPT0gYiA6IGEgIT09IGI7XG59XG5cbi8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc19lbXB0eShvYmopIHtcblx0cmV0dXJuIE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdmFsaWRhdGVfc3RvcmUoc3RvcmUsIG5hbWUpIHtcblx0aWYgKHN0b3JlICE9IG51bGwgJiYgdHlwZW9mIHN0b3JlLnN1YnNjcmliZSAhPT0gJ2Z1bmN0aW9uJykge1xuXHRcdHRocm93IG5ldyBFcnJvcihgJyR7bmFtZX0nIGlzIG5vdCBhIHN0b3JlIHdpdGggYSAnc3Vic2NyaWJlJyBtZXRob2RgKTtcblx0fVxufVxuXG5leHBvcnQgZnVuY3Rpb24gc3Vic2NyaWJlKHN0b3JlLCAuLi5jYWxsYmFja3MpIHtcblx0aWYgKHN0b3JlID09IG51bGwpIHtcblx0XHRmb3IgKGNvbnN0IGNhbGxiYWNrIG9mIGNhbGxiYWNrcykge1xuXHRcdFx0Y2FsbGJhY2sodW5kZWZpbmVkKTtcblx0XHR9XG5cdFx0cmV0dXJuIG5vb3A7XG5cdH1cblx0Y29uc3QgdW5zdWIgPSBzdG9yZS5zdWJzY3JpYmUoLi4uY2FsbGJhY2tzKTtcblx0cmV0dXJuIHVuc3ViLnVuc3Vic2NyaWJlID8gKCkgPT4gdW5zdWIudW5zdWJzY3JpYmUoKSA6IHVuc3ViO1xufVxuXG4vKipcbiAqIEdldCB0aGUgY3VycmVudCB2YWx1ZSBmcm9tIGEgc3RvcmUgYnkgc3Vic2NyaWJpbmcgYW5kIGltbWVkaWF0ZWx5IHVuc3Vic2NyaWJpbmcuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI2dldFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuLi9zdG9yZS9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn0gc3RvcmVcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0X3N0b3JlX3ZhbHVlKHN0b3JlKSB7XG5cdGxldCB2YWx1ZTtcblx0c3Vic2NyaWJlKHN0b3JlLCAoXykgPT4gKHZhbHVlID0gXykpKCk7XG5cdHJldHVybiB2YWx1ZTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBvbmVudF9zdWJzY3JpYmUoY29tcG9uZW50LCBzdG9yZSwgY2FsbGJhY2spIHtcblx0Y29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaChzdWJzY3JpYmUoc3RvcmUsIGNhbGxiYWNrKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVfc2xvdChkZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIGZuKSB7XG5cdGlmIChkZWZpbml0aW9uKSB7XG5cdFx0Y29uc3Qgc2xvdF9jdHggPSBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pO1xuXHRcdHJldHVybiBkZWZpbml0aW9uWzBdKHNsb3RfY3R4KTtcblx0fVxufVxuXG5mdW5jdGlvbiBnZXRfc2xvdF9jb250ZXh0KGRlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZm4pIHtcblx0cmV0dXJuIGRlZmluaXRpb25bMV0gJiYgZm4gPyBhc3NpZ24oJCRzY29wZS5jdHguc2xpY2UoKSwgZGVmaW5pdGlvblsxXShmbihjdHgpKSkgOiAkJHNjb3BlLmN0eDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldF9zbG90X2NoYW5nZXMoZGVmaW5pdGlvbiwgJCRzY29wZSwgZGlydHksIGZuKSB7XG5cdGlmIChkZWZpbml0aW9uWzJdICYmIGZuKSB7XG5cdFx0Y29uc3QgbGV0cyA9IGRlZmluaXRpb25bMl0oZm4oZGlydHkpKTtcblx0XHRpZiAoJCRzY29wZS5kaXJ0eSA9PT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRyZXR1cm4gbGV0cztcblx0XHR9XG5cdFx0aWYgKHR5cGVvZiBsZXRzID09PSAnb2JqZWN0Jykge1xuXHRcdFx0Y29uc3QgbWVyZ2VkID0gW107XG5cdFx0XHRjb25zdCBsZW4gPSBNYXRoLm1heCgkJHNjb3BlLmRpcnR5Lmxlbmd0aCwgbGV0cy5sZW5ndGgpO1xuXHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkgKz0gMSkge1xuXHRcdFx0XHRtZXJnZWRbaV0gPSAkJHNjb3BlLmRpcnR5W2ldIHwgbGV0c1tpXTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBtZXJnZWQ7XG5cdFx0fVxuXHRcdHJldHVybiAkJHNjb3BlLmRpcnR5IHwgbGV0cztcblx0fVxuXHRyZXR1cm4gJCRzY29wZS5kaXJ0eTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZV9zbG90X2Jhc2UoXG5cdHNsb3QsXG5cdHNsb3RfZGVmaW5pdGlvbixcblx0Y3R4LFxuXHQkJHNjb3BlLFxuXHRzbG90X2NoYW5nZXMsXG5cdGdldF9zbG90X2NvbnRleHRfZm5cbikge1xuXHRpZiAoc2xvdF9jaGFuZ2VzKSB7XG5cdFx0Y29uc3Qgc2xvdF9jb250ZXh0ID0gZ2V0X3Nsb3RfY29udGV4dChzbG90X2RlZmluaXRpb24sIGN0eCwgJCRzY29wZSwgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG5cdFx0c2xvdC5wKHNsb3RfY29udGV4dCwgc2xvdF9jaGFuZ2VzKTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX3Nsb3QoXG5cdHNsb3QsXG5cdHNsb3RfZGVmaW5pdGlvbixcblx0Y3R4LFxuXHQkJHNjb3BlLFxuXHRkaXJ0eSxcblx0Z2V0X3Nsb3RfY2hhbmdlc19mbixcblx0Z2V0X3Nsb3RfY29udGV4dF9mblxuKSB7XG5cdGNvbnN0IHNsb3RfY2hhbmdlcyA9IGdldF9zbG90X2NoYW5nZXMoc2xvdF9kZWZpbml0aW9uLCAkJHNjb3BlLCBkaXJ0eSwgZ2V0X3Nsb3RfY2hhbmdlc19mbik7XG5cdHVwZGF0ZV9zbG90X2Jhc2Uoc2xvdCwgc2xvdF9kZWZpbml0aW9uLCBjdHgsICQkc2NvcGUsIHNsb3RfY2hhbmdlcywgZ2V0X3Nsb3RfY29udGV4dF9mbik7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W10gfCAtMX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfYWxsX2RpcnR5X2Zyb21fc2NvcGUoJCRzY29wZSkge1xuXHRpZiAoJCRzY29wZS5jdHgubGVuZ3RoID4gMzIpIHtcblx0XHRjb25zdCBkaXJ0eSA9IFtdO1xuXHRcdGNvbnN0IGxlbmd0aCA9ICQkc2NvcGUuY3R4Lmxlbmd0aCAvIDMyO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcblx0XHRcdGRpcnR5W2ldID0gLTE7XG5cdFx0fVxuXHRcdHJldHVybiBkaXJ0eTtcblx0fVxuXHRyZXR1cm4gLTE7XG59XG5cbi8qKiBAcmV0dXJucyB7e319ICovXG5leHBvcnQgZnVuY3Rpb24gZXhjbHVkZV9pbnRlcm5hbF9wcm9wcyhwcm9wcykge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBrIGluIHByb3BzKSBpZiAoa1swXSAhPT0gJyQnKSByZXN1bHRba10gPSBwcm9wc1trXTtcblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlX3Jlc3RfcHJvcHMocHJvcHMsIGtleXMpIHtcblx0Y29uc3QgcmVzdCA9IHt9O1xuXHRrZXlzID0gbmV3IFNldChrZXlzKTtcblx0Zm9yIChjb25zdCBrIGluIHByb3BzKSBpZiAoIWtleXMuaGFzKGspICYmIGtbMF0gIT09ICckJykgcmVzdFtrXSA9IHByb3BzW2tdO1xuXHRyZXR1cm4gcmVzdDtcbn1cblxuLyoqIEByZXR1cm5zIHt7fX0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjb21wdXRlX3Nsb3RzKHNsb3RzKSB7XG5cdGNvbnN0IHJlc3VsdCA9IHt9O1xuXHRmb3IgKGNvbnN0IGtleSBpbiBzbG90cykge1xuXHRcdHJlc3VsdFtrZXldID0gdHJ1ZTtcblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG4vKiogQHJldHVybnMgeyh0aGlzOiBhbnksIC4uLmFyZ3M6IGFueVtdKSA9PiB2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG9uY2UoZm4pIHtcblx0bGV0IHJhbiA9IGZhbHNlO1xuXHRyZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcblx0XHRpZiAocmFuKSByZXR1cm47XG5cdFx0cmFuID0gdHJ1ZTtcblx0XHRmbi5jYWxsKHRoaXMsIC4uLmFyZ3MpO1xuXHR9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbnVsbF90b19lbXB0eSh2YWx1ZSkge1xuXHRyZXR1cm4gdmFsdWUgPT0gbnVsbCA/ICcnIDogdmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRfc3RvcmVfdmFsdWUoc3RvcmUsIHJldCwgdmFsdWUpIHtcblx0c3RvcmUuc2V0KHZhbHVlKTtcblx0cmV0dXJuIHJldDtcbn1cblxuZXhwb3J0IGNvbnN0IGhhc19wcm9wID0gKG9iaiwgcHJvcCkgPT4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhY3Rpb25fZGVzdHJveWVyKGFjdGlvbl9yZXN1bHQpIHtcblx0cmV0dXJuIGFjdGlvbl9yZXN1bHQgJiYgaXNfZnVuY3Rpb24oYWN0aW9uX3Jlc3VsdC5kZXN0cm95KSA/IGFjdGlvbl9yZXN1bHQuZGVzdHJveSA6IG5vb3A7XG59XG5cbi8qKiBAcGFyYW0ge251bWJlciB8IHN0cmluZ30gdmFsdWVcbiAqIEByZXR1cm5zIHtbbnVtYmVyLCBzdHJpbmddfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc3BsaXRfY3NzX3VuaXQodmFsdWUpIHtcblx0Y29uc3Qgc3BsaXQgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmIHZhbHVlLm1hdGNoKC9eXFxzKigtP1tcXGQuXSspKFteXFxzXSopXFxzKiQvKTtcblx0cmV0dXJuIHNwbGl0ID8gW3BhcnNlRmxvYXQoc3BsaXRbMV0pLCBzcGxpdFsyXSB8fCAncHgnXSA6IFsvKiogQHR5cGUge251bWJlcn0gKi8gKHZhbHVlKSwgJ3B4J107XG59XG5cbmV4cG9ydCBjb25zdCBjb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcyA9IFsnJywgdHJ1ZSwgMSwgJ3RydWUnLCAnY29udGVudGVkaXRhYmxlJ107XG4iLCJpbXBvcnQgeyBjb250ZW50ZWRpdGFibGVfdHJ1dGh5X3ZhbHVlcywgaGFzX3Byb3AgfSBmcm9tICcuL3V0aWxzLmpzJztcblxuaW1wb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24gfSBmcm9tICcuL1Jlc2l6ZU9ic2VydmVyU2luZ2xldG9uLmpzJztcblxuLy8gVHJhY2sgd2hpY2ggbm9kZXMgYXJlIGNsYWltZWQgZHVyaW5nIGh5ZHJhdGlvbi4gVW5jbGFpbWVkIG5vZGVzIGNhbiB0aGVuIGJlIHJlbW92ZWQgZnJvbSB0aGUgRE9NXG4vLyBhdCB0aGUgZW5kIG9mIGh5ZHJhdGlvbiB3aXRob3V0IHRvdWNoaW5nIHRoZSByZW1haW5pbmcgbm9kZXMuXG5sZXQgaXNfaHlkcmF0aW5nID0gZmFsc2U7XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzdGFydF9oeWRyYXRpbmcoKSB7XG5cdGlzX2h5ZHJhdGluZyA9IHRydWU7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRfaHlkcmF0aW5nKCkge1xuXHRpc19oeWRyYXRpbmcgPSBmYWxzZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge251bWJlcn0gbG93XG4gKiBAcGFyYW0ge251bWJlcn0gaGlnaFxuICogQHBhcmFtIHsoaW5kZXg6IG51bWJlcikgPT4gbnVtYmVyfSBrZXlcbiAqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZVxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gdXBwZXJfYm91bmQobG93LCBoaWdoLCBrZXksIHZhbHVlKSB7XG5cdC8vIFJldHVybiBmaXJzdCBpbmRleCBvZiB2YWx1ZSBsYXJnZXIgdGhhbiBpbnB1dCB2YWx1ZSBpbiB0aGUgcmFuZ2UgW2xvdywgaGlnaClcblx0d2hpbGUgKGxvdyA8IGhpZ2gpIHtcblx0XHRjb25zdCBtaWQgPSBsb3cgKyAoKGhpZ2ggLSBsb3cpID4+IDEpO1xuXHRcdGlmIChrZXkobWlkKSA8PSB2YWx1ZSkge1xuXHRcdFx0bG93ID0gbWlkICsgMTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0aGlnaCA9IG1pZDtcblx0XHR9XG5cdH1cblx0cmV0dXJuIGxvdztcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGVFeH0gdGFyZ2V0XG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZnVuY3Rpb24gaW5pdF9oeWRyYXRlKHRhcmdldCkge1xuXHRpZiAodGFyZ2V0Lmh5ZHJhdGVfaW5pdCkgcmV0dXJuO1xuXHR0YXJnZXQuaHlkcmF0ZV9pbml0ID0gdHJ1ZTtcblx0Ly8gV2Uga25vdyB0aGF0IGFsbCBjaGlsZHJlbiBoYXZlIGNsYWltX29yZGVyIHZhbHVlcyBzaW5jZSB0aGUgdW5jbGFpbWVkIGhhdmUgYmVlbiBkZXRhY2hlZCBpZiB0YXJnZXQgaXMgbm90IDxoZWFkPlxuXG5cdGxldCBjaGlsZHJlbiA9IC8qKiBAdHlwZSB7QXJyYXlMaWtlPE5vZGVFeDI+fSAqLyAodGFyZ2V0LmNoaWxkTm9kZXMpO1xuXHQvLyBJZiB0YXJnZXQgaXMgPGhlYWQ+LCB0aGVyZSBtYXkgYmUgY2hpbGRyZW4gd2l0aG91dCBjbGFpbV9vcmRlclxuXHRpZiAodGFyZ2V0Lm5vZGVOYW1lID09PSAnSEVBRCcpIHtcblx0XHRjb25zdCBteV9jaGlsZHJlbiA9IFtdO1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRcdGNvbnN0IG5vZGUgPSBjaGlsZHJlbltpXTtcblx0XHRcdGlmIChub2RlLmNsYWltX29yZGVyICE9PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0bXlfY2hpbGRyZW4ucHVzaChub2RlKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Y2hpbGRyZW4gPSBteV9jaGlsZHJlbjtcblx0fVxuXHQvKlxuXHQgKiBSZW9yZGVyIGNsYWltZWQgY2hpbGRyZW4gb3B0aW1hbGx5LlxuXHQgKiBXZSBjYW4gcmVvcmRlciBjbGFpbWVkIGNoaWxkcmVuIG9wdGltYWxseSBieSBmaW5kaW5nIHRoZSBsb25nZXN0IHN1YnNlcXVlbmNlIG9mXG5cdCAqIG5vZGVzIHRoYXQgYXJlIGFscmVhZHkgY2xhaW1lZCBpbiBvcmRlciBhbmQgb25seSBtb3ZpbmcgdGhlIHJlc3QuIFRoZSBsb25nZXN0XG5cdCAqIHN1YnNlcXVlbmNlIG9mIG5vZGVzIHRoYXQgYXJlIGNsYWltZWQgaW4gb3JkZXIgY2FuIGJlIGZvdW5kIGJ5XG5cdCAqIGNvbXB1dGluZyB0aGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIC5jbGFpbV9vcmRlciB2YWx1ZXMuXG5cdCAqXG5cdCAqIFRoaXMgYWxnb3JpdGhtIGlzIG9wdGltYWwgaW4gZ2VuZXJhdGluZyB0aGUgbGVhc3QgYW1vdW50IG9mIHJlb3JkZXIgb3BlcmF0aW9uc1xuXHQgKiBwb3NzaWJsZS5cblx0ICpcblx0ICogUHJvb2Y6XG5cdCAqIFdlIGtub3cgdGhhdCwgZ2l2ZW4gYSBzZXQgb2YgcmVvcmRlcmluZyBvcGVyYXRpb25zLCB0aGUgbm9kZXMgdGhhdCBkbyBub3QgbW92ZVxuXHQgKiBhbHdheXMgZm9ybSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlLCBzaW5jZSB0aGV5IGRvIG5vdCBtb3ZlIGFtb25nIGVhY2ggb3RoZXJcblx0ICogbWVhbmluZyB0aGF0IHRoZXkgbXVzdCBiZSBhbHJlYWR5IG9yZGVyZWQgYW1vbmcgZWFjaCBvdGhlci4gVGh1cywgdGhlIG1heGltYWxcblx0ICogc2V0IG9mIG5vZGVzIHRoYXQgZG8gbm90IG1vdmUgZm9ybSBhIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZS5cblx0ICovXG5cdC8vIENvbXB1dGUgbG9uZ2VzdCBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlXG5cdC8vIG06IHN1YnNlcXVlbmNlIGxlbmd0aCBqID0+IGluZGV4IGsgb2Ygc21hbGxlc3QgdmFsdWUgdGhhdCBlbmRzIGFuIGluY3JlYXNpbmcgc3Vic2VxdWVuY2Ugb2YgbGVuZ3RoIGpcblx0Y29uc3QgbSA9IG5ldyBJbnQzMkFycmF5KGNoaWxkcmVuLmxlbmd0aCArIDEpO1xuXHQvLyBQcmVkZWNlc3NvciBpbmRpY2VzICsgMVxuXHRjb25zdCBwID0gbmV3IEludDMyQXJyYXkoY2hpbGRyZW4ubGVuZ3RoKTtcblx0bVswXSA9IC0xO1xuXHRsZXQgbG9uZ2VzdCA9IDA7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcblx0XHRjb25zdCBjdXJyZW50ID0gY2hpbGRyZW5baV0uY2xhaW1fb3JkZXI7XG5cdFx0Ly8gRmluZCB0aGUgbGFyZ2VzdCBzdWJzZXF1ZW5jZSBsZW5ndGggc3VjaCB0aGF0IGl0IGVuZHMgaW4gYSB2YWx1ZSBsZXNzIHRoYW4gb3VyIGN1cnJlbnQgdmFsdWVcblx0XHQvLyB1cHBlcl9ib3VuZCByZXR1cm5zIGZpcnN0IGdyZWF0ZXIgdmFsdWUsIHNvIHdlIHN1YnRyYWN0IG9uZVxuXHRcdC8vIHdpdGggZmFzdCBwYXRoIGZvciB3aGVuIHdlIGFyZSBvbiB0aGUgY3VycmVudCBsb25nZXN0IHN1YnNlcXVlbmNlXG5cdFx0Y29uc3Qgc2VxX2xlbiA9XG5cdFx0XHQobG9uZ2VzdCA+IDAgJiYgY2hpbGRyZW5bbVtsb25nZXN0XV0uY2xhaW1fb3JkZXIgPD0gY3VycmVudFxuXHRcdFx0XHQ/IGxvbmdlc3QgKyAxXG5cdFx0XHRcdDogdXBwZXJfYm91bmQoMSwgbG9uZ2VzdCwgKGlkeCkgPT4gY2hpbGRyZW5bbVtpZHhdXS5jbGFpbV9vcmRlciwgY3VycmVudCkpIC0gMTtcblx0XHRwW2ldID0gbVtzZXFfbGVuXSArIDE7XG5cdFx0Y29uc3QgbmV3X2xlbiA9IHNlcV9sZW4gKyAxO1xuXHRcdC8vIFdlIGNhbiBndWFyYW50ZWUgdGhhdCBjdXJyZW50IGlzIHRoZSBzbWFsbGVzdCB2YWx1ZS4gT3RoZXJ3aXNlLCB3ZSB3b3VsZCBoYXZlIGdlbmVyYXRlZCBhIGxvbmdlciBzZXF1ZW5jZS5cblx0XHRtW25ld19sZW5dID0gaTtcblx0XHRsb25nZXN0ID0gTWF0aC5tYXgobmV3X2xlbiwgbG9uZ2VzdCk7XG5cdH1cblx0Ly8gVGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZSBvZiBub2RlcyAoaW5pdGlhbGx5IHJldmVyc2VkKVxuXG5cdC8qKlxuXHQgKiBAdHlwZSB7Tm9kZUV4MltdfVxuXHQgKi9cblx0Y29uc3QgbGlzID0gW107XG5cdC8vIFRoZSByZXN0IG9mIHRoZSBub2Rlcywgbm9kZXMgdGhhdCB3aWxsIGJlIG1vdmVkXG5cblx0LyoqXG5cdCAqIEB0eXBlIHtOb2RlRXgyW119XG5cdCAqL1xuXHRjb25zdCB0b19tb3ZlID0gW107XG5cdGxldCBsYXN0ID0gY2hpbGRyZW4ubGVuZ3RoIC0gMTtcblx0Zm9yIChsZXQgY3VyID0gbVtsb25nZXN0XSArIDE7IGN1ciAhPSAwOyBjdXIgPSBwW2N1ciAtIDFdKSB7XG5cdFx0bGlzLnB1c2goY2hpbGRyZW5bY3VyIC0gMV0pO1xuXHRcdGZvciAoOyBsYXN0ID49IGN1cjsgbGFzdC0tKSB7XG5cdFx0XHR0b19tb3ZlLnB1c2goY2hpbGRyZW5bbGFzdF0pO1xuXHRcdH1cblx0XHRsYXN0LS07XG5cdH1cblx0Zm9yICg7IGxhc3QgPj0gMDsgbGFzdC0tKSB7XG5cdFx0dG9fbW92ZS5wdXNoKGNoaWxkcmVuW2xhc3RdKTtcblx0fVxuXHRsaXMucmV2ZXJzZSgpO1xuXHQvLyBXZSBzb3J0IHRoZSBub2RlcyBiZWluZyBtb3ZlZCB0byBndWFyYW50ZWUgdGhhdCB0aGVpciBpbnNlcnRpb24gb3JkZXIgbWF0Y2hlcyB0aGUgY2xhaW0gb3JkZXJcblx0dG9fbW92ZS5zb3J0KChhLCBiKSA9PiBhLmNsYWltX29yZGVyIC0gYi5jbGFpbV9vcmRlcik7XG5cdC8vIEZpbmFsbHksIHdlIG1vdmUgdGhlIG5vZGVzXG5cdGZvciAobGV0IGkgPSAwLCBqID0gMDsgaSA8IHRvX21vdmUubGVuZ3RoOyBpKyspIHtcblx0XHR3aGlsZSAoaiA8IGxpcy5sZW5ndGggJiYgdG9fbW92ZVtpXS5jbGFpbV9vcmRlciA+PSBsaXNbal0uY2xhaW1fb3JkZXIpIHtcblx0XHRcdGorKztcblx0XHR9XG5cdFx0Y29uc3QgYW5jaG9yID0gaiA8IGxpcy5sZW5ndGggPyBsaXNbal0gOiBudWxsO1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUodG9fbW92ZVtpXSwgYW5jaG9yKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZX0gdGFyZ2V0XG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kKHRhcmdldCwgbm9kZSkge1xuXHR0YXJnZXQuYXBwZW5kQ2hpbGQobm9kZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHlsZV9zaGVldF9pZFxuICogQHBhcmFtIHtzdHJpbmd9IHN0eWxlc1xuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRfc3R5bGVzKHRhcmdldCwgc3R5bGVfc2hlZXRfaWQsIHN0eWxlcykge1xuXHRjb25zdCBhcHBlbmRfc3R5bGVzX3RvID0gZ2V0X3Jvb3RfZm9yX3N0eWxlKHRhcmdldCk7XG5cdGlmICghYXBwZW5kX3N0eWxlc190by5nZXRFbGVtZW50QnlJZChzdHlsZV9zaGVldF9pZCkpIHtcblx0XHRjb25zdCBzdHlsZSA9IGVsZW1lbnQoJ3N0eWxlJyk7XG5cdFx0c3R5bGUuaWQgPSBzdHlsZV9zaGVldF9pZDtcblx0XHRzdHlsZS50ZXh0Q29udGVudCA9IHN0eWxlcztcblx0XHRhcHBlbmRfc3R5bGVzaGVldChhcHBlbmRfc3R5bGVzX3RvLCBzdHlsZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtTaGFkb3dSb290IHwgRG9jdW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfcm9vdF9mb3Jfc3R5bGUobm9kZSkge1xuXHRpZiAoIW5vZGUpIHJldHVybiBkb2N1bWVudDtcblx0Y29uc3Qgcm9vdCA9IG5vZGUuZ2V0Um9vdE5vZGUgPyBub2RlLmdldFJvb3ROb2RlKCkgOiBub2RlLm93bmVyRG9jdW1lbnQ7XG5cdGlmIChyb290ICYmIC8qKiBAdHlwZSB7U2hhZG93Um9vdH0gKi8gKHJvb3QpLmhvc3QpIHtcblx0XHRyZXR1cm4gLyoqIEB0eXBlIHtTaGFkb3dSb290fSAqLyAocm9vdCk7XG5cdH1cblx0cmV0dXJuIG5vZGUub3duZXJEb2N1bWVudDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge05vZGV9IG5vZGVcbiAqIEByZXR1cm5zIHtDU1NTdHlsZVNoZWV0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kX2VtcHR5X3N0eWxlc2hlZXQobm9kZSkge1xuXHRjb25zdCBzdHlsZV9lbGVtZW50ID0gZWxlbWVudCgnc3R5bGUnKTtcblx0Ly8gRm9yIHRyYW5zaXRpb25zIHRvIHdvcmsgd2l0aG91dCAnc3R5bGUtc3JjOiB1bnNhZmUtaW5saW5lJyBDb250ZW50IFNlY3VyaXR5IFBvbGljeSxcblx0Ly8gdGhlc2UgZW1wdHkgdGFncyBuZWVkIHRvIGJlIGFsbG93ZWQgd2l0aCBhIGhhc2ggYXMgYSB3b3JrYXJvdW5kIHVudGlsIHdlIG1vdmUgdG8gdGhlIFdlYiBBbmltYXRpb25zIEFQSS5cblx0Ly8gVXNpbmcgdGhlIGhhc2ggZm9yIHRoZSBlbXB0eSBzdHJpbmcgKGZvciBhbiBlbXB0eSB0YWcpIHdvcmtzIGluIGFsbCBicm93c2VycyBleGNlcHQgU2FmYXJpLlxuXHQvLyBTbyBhcyBhIHdvcmthcm91bmQgZm9yIHRoZSB3b3JrYXJvdW5kLCB3aGVuIHdlIGFwcGVuZCBlbXB0eSBzdHlsZSB0YWdzIHdlIHNldCB0aGVpciBjb250ZW50IHRvIC8qIGVtcHR5ICovLlxuXHQvLyBUaGUgaGFzaCAnc2hhMjU2LTlPbE5PMERORWVhVnpITDRSWndDTHNCSEE4V0JROHRvQnAvNEY1WFYybmM9JyB3aWxsIHRoZW4gd29yayBldmVuIGluIFNhZmFyaS5cblx0c3R5bGVfZWxlbWVudC50ZXh0Q29udGVudCA9ICcvKiBlbXB0eSAqLyc7XG5cdGFwcGVuZF9zdHlsZXNoZWV0KGdldF9yb290X2Zvcl9zdHlsZShub2RlKSwgc3R5bGVfZWxlbWVudCk7XG5cdHJldHVybiBzdHlsZV9lbGVtZW50LnNoZWV0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7U2hhZG93Um9vdCB8IERvY3VtZW50fSBub2RlXG4gKiBAcGFyYW0ge0hUTUxTdHlsZUVsZW1lbnR9IHN0eWxlXG4gKiBAcmV0dXJucyB7Q1NTU3R5bGVTaGVldH1cbiAqL1xuZnVuY3Rpb24gYXBwZW5kX3N0eWxlc2hlZXQobm9kZSwgc3R5bGUpIHtcblx0YXBwZW5kKC8qKiBAdHlwZSB7RG9jdW1lbnR9ICovIChub2RlKS5oZWFkIHx8IG5vZGUsIHN0eWxlKTtcblx0cmV0dXJuIHN0eWxlLnNoZWV0O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Tm9kZUV4fSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZUV4fSBub2RlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKSB7XG5cdGlmIChpc19oeWRyYXRpbmcpIHtcblx0XHRpbml0X2h5ZHJhdGUodGFyZ2V0KTtcblx0XHRpZiAoXG5cdFx0XHR0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZCA9PT0gdW5kZWZpbmVkIHx8XG5cdFx0XHQodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwgJiYgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQucGFyZW50Tm9kZSAhPT0gdGFyZ2V0KVxuXHRcdCkge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuZmlyc3RDaGlsZDtcblx0XHR9XG5cdFx0Ly8gU2tpcCBub2RlcyBvZiB1bmRlZmluZWQgb3JkZXJpbmdcblx0XHR3aGlsZSAodGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgIT09IG51bGwgJiYgdGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQuY2xhaW1fb3JkZXIgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSB0YXJnZXQuYWN0dWFsX2VuZF9jaGlsZC5uZXh0U2libGluZztcblx0XHR9XG5cdFx0aWYgKG5vZGUgIT09IHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKSB7XG5cdFx0XHQvLyBXZSBvbmx5IGluc2VydCBpZiB0aGUgb3JkZXJpbmcgb2YgdGhpcyBub2RlIHNob3VsZCBiZSBtb2RpZmllZCBvciB0aGUgcGFyZW50IG5vZGUgaXMgbm90IHRhcmdldFxuXHRcdFx0aWYgKG5vZGUuY2xhaW1fb3JkZXIgIT09IHVuZGVmaW5lZCB8fCBub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCkge1xuXHRcdFx0XHR0YXJnZXQuaW5zZXJ0QmVmb3JlKG5vZGUsIHRhcmdldC5hY3R1YWxfZW5kX2NoaWxkKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0dGFyZ2V0LmFjdHVhbF9lbmRfY2hpbGQgPSBub2RlLm5leHRTaWJsaW5nO1xuXHRcdH1cblx0fSBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9PSBudWxsKSB7XG5cdFx0dGFyZ2V0LmFwcGVuZENoaWxkKG5vZGUpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSB0YXJnZXRcbiAqIEBwYXJhbSB7Tm9kZX0gbm9kZVxuICogQHBhcmFtIHtOb2RlfSBbYW5jaG9yXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnQodGFyZ2V0LCBub2RlLCBhbmNob3IpIHtcblx0dGFyZ2V0Lmluc2VydEJlZm9yZShub2RlLCBhbmNob3IgfHwgbnVsbCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlRXh9IHRhcmdldFxuICogQHBhcmFtIHtOb2RlRXh9IG5vZGVcbiAqIEBwYXJhbSB7Tm9kZUV4fSBbYW5jaG9yXVxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRfaHlkcmF0aW9uKHRhcmdldCwgbm9kZSwgYW5jaG9yKSB7XG5cdGlmIChpc19oeWRyYXRpbmcgJiYgIWFuY2hvcikge1xuXHRcdGFwcGVuZF9oeWRyYXRpb24odGFyZ2V0LCBub2RlKTtcblx0fSBlbHNlIGlmIChub2RlLnBhcmVudE5vZGUgIT09IHRhcmdldCB8fCBub2RlLm5leHRTaWJsaW5nICE9IGFuY2hvcikge1xuXHRcdHRhcmdldC5pbnNlcnRCZWZvcmUobm9kZSwgYW5jaG9yIHx8IG51bGwpO1xuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOb2RlfSBub2RlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRldGFjaChub2RlKSB7XG5cdGlmIChub2RlLnBhcmVudE5vZGUpIHtcblx0XHRub2RlLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQobm9kZSk7XG5cdH1cbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2VhY2goaXRlcmF0aW9ucywgZGV0YWNoaW5nKSB7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgaXRlcmF0aW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdGlmIChpdGVyYXRpb25zW2ldKSBpdGVyYXRpb25zW2ldLmQoZGV0YWNoaW5nKTtcblx0fVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7a2V5b2YgSFRNTEVsZW1lbnRUYWdOYW1lTWFwfSBLXG4gKiBAcGFyYW0ge0t9IG5hbWVcbiAqIEByZXR1cm5zIHtIVE1MRWxlbWVudFRhZ05hbWVNYXBbS119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbGVtZW50KG5hbWUpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQobmFtZSk7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9IEtcbiAqIEBwYXJhbSB7S30gbmFtZVxuICogQHBhcmFtIHtzdHJpbmd9IGlzXG4gKiBAcmV0dXJucyB7SFRNTEVsZW1lbnRUYWdOYW1lTWFwW0tdfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudF9pcyhuYW1lLCBpcykge1xuXHRyZXR1cm4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lLCB7IGlzIH0pO1xufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAdGVtcGxhdGUge2tleW9mIFR9IEtcbiAqIEBwYXJhbSB7VH0gb2JqXG4gKiBAcGFyYW0ge0tbXX0gZXhjbHVkZVxuICogQHJldHVybnMge1BpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBvYmplY3Rfd2l0aG91dF9wcm9wZXJ0aWVzKG9iaiwgZXhjbHVkZSkge1xuXHRjb25zdCB0YXJnZXQgPSAvKiogQHR5cGUge1BpY2s8VCwgRXhjbHVkZTxrZXlvZiBULCBLPj59ICovICh7fSk7XG5cdGZvciAoY29uc3QgayBpbiBvYmopIHtcblx0XHRpZiAoXG5cdFx0XHRoYXNfcHJvcChvYmosIGspICYmXG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHRleGNsdWRlLmluZGV4T2YoaykgPT09IC0xXG5cdFx0KSB7XG5cdFx0XHQvLyBAdHMtaWdub3JlXG5cdFx0XHR0YXJnZXRba10gPSBvYmpba107XG5cdFx0fVxuXHR9XG5cdHJldHVybiB0YXJnZXQ7XG59XG5cbi8qKlxuICogQHRlbXBsYXRlIHtrZXlvZiBTVkdFbGVtZW50VGFnTmFtZU1hcH0gS1xuICogQHBhcmFtIHtLfSBuYW1lXG4gKiBAcmV0dXJucyB7U1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN2Z19lbGVtZW50KG5hbWUpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCBuYW1lKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gZGF0YVxuICogQHJldHVybnMge1RleHR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0ZXh0KGRhdGEpIHtcblx0cmV0dXJuIGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGRhdGEpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNwYWNlKCkge1xuXHRyZXR1cm4gdGV4dCgnICcpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVtcHR5KCkge1xuXHRyZXR1cm4gdGV4dCgnJyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRcbiAqIEByZXR1cm5zIHtDb21tZW50fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY29tbWVudChjb250ZW50KSB7XG5cdHJldHVybiBkb2N1bWVudC5jcmVhdGVDb21tZW50KGNvbnRlbnQpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RXZlbnRUYXJnZXR9IG5vZGVcbiAqIEBwYXJhbSB7c3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0fSBoYW5kbGVyXG4gKiBAcGFyYW0ge2Jvb2xlYW4gfCBBZGRFdmVudExpc3RlbmVyT3B0aW9ucyB8IEV2ZW50TGlzdGVuZXJPcHRpb25zfSBbb3B0aW9uc11cbiAqIEByZXR1cm5zIHsoKSA9PiB2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuKG5vZGUsIGV2ZW50LCBoYW5kbGVyLCBvcHRpb25zKSB7XG5cdG5vZGUuYWRkRXZlbnRMaXN0ZW5lcihldmVudCwgaGFuZGxlciwgb3B0aW9ucyk7XG5cdHJldHVybiAoKSA9PiBub2RlLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnQsIGhhbmRsZXIsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gYW55fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXZlbnRfZGVmYXVsdChmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHQvLyBAdHMtaWdub3JlXG5cdFx0cmV0dXJuIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHsoZXZlbnQ6IGFueSkgPT4gYW55fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHN0b3BfcHJvcGFnYXRpb24oZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiBhbnl9ICovXG5leHBvcnQgZnVuY3Rpb24gc3RvcF9pbW1lZGlhdGVfcHJvcGFnYXRpb24oZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzLCBldmVudCk7XG5cdH07XG59XG5cbi8qKlxuICogQHJldHVybnMgeyhldmVudDogYW55KSA9PiB2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGYoZm4pIHtcblx0cmV0dXJuIGZ1bmN0aW9uIChldmVudCkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRpZiAoZXZlbnQudGFyZ2V0ID09PSB0aGlzKSBmbi5jYWxsKHRoaXMsIGV2ZW50KTtcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7KGV2ZW50OiBhbnkpID0+IHZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gdHJ1c3RlZChmbikge1xuXHRyZXR1cm4gZnVuY3Rpb24gKGV2ZW50KSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGlmIChldmVudC5pc1RydXN0ZWQpIGZuLmNhbGwodGhpcywgZXZlbnQpO1xuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtzdHJpbmd9IGF0dHJpYnV0ZVxuICogQHBhcmFtIHtzdHJpbmd9IFt2YWx1ZV1cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXR0cihub2RlLCBhdHRyaWJ1dGUsIHZhbHVlKSB7XG5cdGlmICh2YWx1ZSA9PSBudWxsKSBub2RlLnJlbW92ZUF0dHJpYnV0ZShhdHRyaWJ1dGUpO1xuXHRlbHNlIGlmIChub2RlLmdldEF0dHJpYnV0ZShhdHRyaWJ1dGUpICE9PSB2YWx1ZSkgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0cmlidXRlLCB2YWx1ZSk7XG59XG4vKipcbiAqIExpc3Qgb2YgYXR0cmlidXRlcyB0aGF0IHNob3VsZCBhbHdheXMgYmUgc2V0IHRocm91Z2ggdGhlIGF0dHIgbWV0aG9kLFxuICogYmVjYXVzZSB1cGRhdGluZyB0aGVtIHRocm91Z2ggdGhlIHByb3BlcnR5IHNldHRlciBkb2Vzbid0IHdvcmsgcmVsaWFibHkuXG4gKiBJbiB0aGUgZXhhbXBsZSBvZiBgd2lkdGhgL2BoZWlnaHRgLCB0aGUgcHJvYmxlbSBpcyB0aGF0IHRoZSBzZXR0ZXIgb25seVxuICogYWNjZXB0cyBudW1lcmljIHZhbHVlcywgYnV0IHRoZSBhdHRyaWJ1dGUgY2FuIGFsc28gYmUgc2V0IHRvIGEgc3RyaW5nIGxpa2UgYDUwJWAuXG4gKiBJZiB0aGlzIGxpc3QgYmVjb21lcyB0b28gYmlnLCByZXRoaW5rIHRoaXMgYXBwcm9hY2guXG4gKi9cbmNvbnN0IGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlID0gWyd3aWR0aCcsICdoZWlnaHQnXTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7eyBbeDogc3RyaW5nXTogc3RyaW5nIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2F0dHJpYnV0ZXMobm9kZSwgYXR0cmlidXRlcykge1xuXHQvLyBAdHMtaWdub3JlXG5cdGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMobm9kZS5fX3Byb3RvX18pO1xuXHRmb3IgKGNvbnN0IGtleSBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0aWYgKGF0dHJpYnV0ZXNba2V5XSA9PSBudWxsKSB7XG5cdFx0XHRub2RlLnJlbW92ZUF0dHJpYnV0ZShrZXkpO1xuXHRcdH0gZWxzZSBpZiAoa2V5ID09PSAnc3R5bGUnKSB7XG5cdFx0XHRub2RlLnN0eWxlLmNzc1RleHQgPSBhdHRyaWJ1dGVzW2tleV07XG5cdFx0fSBlbHNlIGlmIChrZXkgPT09ICdfX3ZhbHVlJykge1xuXHRcdFx0LyoqIEB0eXBlIHthbnl9ICovIChub2RlKS52YWx1ZSA9IG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2UgaWYgKFxuXHRcdFx0ZGVzY3JpcHRvcnNba2V5XSAmJlxuXHRcdFx0ZGVzY3JpcHRvcnNba2V5XS5zZXQgJiZcblx0XHRcdGFsd2F5c19zZXRfdGhyb3VnaF9zZXRfYXR0cmlidXRlLmluZGV4T2Yoa2V5KSA9PT0gLTFcblx0XHQpIHtcblx0XHRcdG5vZGVba2V5XSA9IGF0dHJpYnV0ZXNba2V5XTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0YXR0cihub2RlLCBrZXksIGF0dHJpYnV0ZXNba2V5XSk7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge3sgW3g6IHN0cmluZ106IHN0cmluZyB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9zdmdfYXR0cmlidXRlcyhub2RlLCBhdHRyaWJ1dGVzKSB7XG5cdGZvciAoY29uc3Qga2V5IGluIGF0dHJpYnV0ZXMpIHtcblx0XHRhdHRyKG5vZGUsIGtleSwgYXR0cmlidXRlc1trZXldKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7UmVjb3JkPHN0cmluZywgdW5rbm93bj59IGRhdGFfbWFwXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9jdXN0b21fZWxlbWVudF9kYXRhX21hcChub2RlLCBkYXRhX21hcCkge1xuXHRPYmplY3Qua2V5cyhkYXRhX21hcCkuZm9yRWFjaCgoa2V5KSA9PiB7XG5cdFx0c2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwga2V5LCBkYXRhX21hcFtrZXldKTtcblx0fSk7XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2N1c3RvbV9lbGVtZW50X2RhdGEobm9kZSwgcHJvcCwgdmFsdWUpIHtcblx0Y29uc3QgbG93ZXIgPSBwcm9wLnRvTG93ZXJDYXNlKCk7IC8vIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIGV4aXN0aW5nIGJlaGF2aW9yIHdlIGRvIGxvd2VyY2FzZSBmaXJzdFxuXHRpZiAobG93ZXIgaW4gbm9kZSkge1xuXHRcdG5vZGVbbG93ZXJdID0gdHlwZW9mIG5vZGVbbG93ZXJdID09PSAnYm9vbGVhbicgJiYgdmFsdWUgPT09ICcnID8gdHJ1ZSA6IHZhbHVlO1xuXHR9IGVsc2UgaWYgKHByb3AgaW4gbm9kZSkge1xuXHRcdG5vZGVbcHJvcF0gPSB0eXBlb2Ygbm9kZVtwcm9wXSA9PT0gJ2Jvb2xlYW4nICYmIHZhbHVlID09PSAnJyA/IHRydWUgOiB2YWx1ZTtcblx0fSBlbHNlIHtcblx0XHRhdHRyKG5vZGUsIHByb3AsIHZhbHVlKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB0YWdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9keW5hbWljX2VsZW1lbnRfZGF0YSh0YWcpIHtcblx0cmV0dXJuIC8tLy50ZXN0KHRhZykgPyBzZXRfY3VzdG9tX2VsZW1lbnRfZGF0YV9tYXAgOiBzZXRfYXR0cmlidXRlcztcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHhsaW5rX2F0dHIobm9kZSwgYXR0cmlidXRlLCB2YWx1ZSkge1xuXHRub2RlLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgYXR0cmlidXRlLCB2YWx1ZSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9zdmVsdGVfZGF0YXNldChub2RlKSB7XG5cdHJldHVybiBub2RlLmRhdGFzZXQuc3ZlbHRlSDtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dW5rbm93bltdfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldF9iaW5kaW5nX2dyb3VwX3ZhbHVlKGdyb3VwLCBfX3ZhbHVlLCBjaGVja2VkKSB7XG5cdGNvbnN0IHZhbHVlID0gbmV3IFNldCgpO1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IGdyb3VwLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0aWYgKGdyb3VwW2ldLmNoZWNrZWQpIHZhbHVlLmFkZChncm91cFtpXS5fX3ZhbHVlKTtcblx0fVxuXHRpZiAoIWNoZWNrZWQpIHtcblx0XHR2YWx1ZS5kZWxldGUoX192YWx1ZSk7XG5cdH1cblx0cmV0dXJuIEFycmF5LmZyb20odmFsdWUpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7SFRNTElucHV0RWxlbWVudFtdfSBncm91cFxuICogQHJldHVybnMge3sgcCguLi5pbnB1dHM6IEhUTUxJbnB1dEVsZW1lbnRbXSk6IHZvaWQ7IHIoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRfYmluZGluZ19ncm91cChncm91cCkge1xuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9pbnB1dHM7XG5cdHJldHVybiB7XG5cdFx0LyogcHVzaCAqLyBwKC4uLmlucHV0cykge1xuXHRcdFx0X2lucHV0cyA9IGlucHV0cztcblx0XHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IGdyb3VwLnB1c2goaW5wdXQpKTtcblx0XHR9LFxuXHRcdC8qIHJlbW92ZSAqLyByKCkge1xuXHRcdFx0X2lucHV0cy5mb3JFYWNoKChpbnB1dCkgPT4gZ3JvdXAuc3BsaWNlKGdyb3VwLmluZGV4T2YoaW5wdXQpLCAxKSk7XG5cdFx0fVxuXHR9O1xufVxuXG4vKipcbiAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXNcbiAqIEByZXR1cm5zIHt7IHUobmV3X2luZGV4ZXM6IG51bWJlcltdKTogdm9pZDsgcCguLi5pbnB1dHM6IEhUTUxJbnB1dEVsZW1lbnRbXSk6IHZvaWQ7IHI6ICgpID0+IHZvaWQ7IH19XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0X2JpbmRpbmdfZ3JvdXBfZHluYW1pYyhncm91cCwgaW5kZXhlcykge1xuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9ncm91cCA9IGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKTtcblxuXHQvKipcblx0ICogQHR5cGUge0hUTUxJbnB1dEVsZW1lbnRbXX0gKi9cblx0bGV0IF9pbnB1dHM7XG5cblx0ZnVuY3Rpb24gZ2V0X2JpbmRpbmdfZ3JvdXAoZ3JvdXApIHtcblx0XHRmb3IgKGxldCBpID0gMDsgaSA8IGluZGV4ZXMubGVuZ3RoOyBpKyspIHtcblx0XHRcdGdyb3VwID0gZ3JvdXBbaW5kZXhlc1tpXV0gPSBncm91cFtpbmRleGVzW2ldXSB8fCBbXTtcblx0XHR9XG5cdFx0cmV0dXJuIGdyb3VwO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBwdXNoKCkge1xuXHRcdF9pbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IF9ncm91cC5wdXNoKGlucHV0KSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIHJlbW92ZSgpIHtcblx0XHRfaW5wdXRzLmZvckVhY2goKGlucHV0KSA9PiBfZ3JvdXAuc3BsaWNlKF9ncm91cC5pbmRleE9mKGlucHV0KSwgMSkpO1xuXHR9XG5cdHJldHVybiB7XG5cdFx0LyogdXBkYXRlICovIHUobmV3X2luZGV4ZXMpIHtcblx0XHRcdGluZGV4ZXMgPSBuZXdfaW5kZXhlcztcblx0XHRcdGNvbnN0IG5ld19ncm91cCA9IGdldF9iaW5kaW5nX2dyb3VwKGdyb3VwKTtcblx0XHRcdGlmIChuZXdfZ3JvdXAgIT09IF9ncm91cCkge1xuXHRcdFx0XHRyZW1vdmUoKTtcblx0XHRcdFx0X2dyb3VwID0gbmV3X2dyb3VwO1xuXHRcdFx0XHRwdXNoKCk7XG5cdFx0XHR9XG5cdFx0fSxcblx0XHQvKiBwdXNoICovIHAoLi4uaW5wdXRzKSB7XG5cdFx0XHRfaW5wdXRzID0gaW5wdXRzO1xuXHRcdFx0cHVzaCgpO1xuXHRcdH0sXG5cdFx0LyogcmVtb3ZlICovIHI6IHJlbW92ZVxuXHR9O1xufVxuXG4vKiogQHJldHVybnMge251bWJlcn0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b19udW1iZXIodmFsdWUpIHtcblx0cmV0dXJuIHZhbHVlID09PSAnJyA/IG51bGwgOiArdmFsdWU7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W119ICovXG5leHBvcnQgZnVuY3Rpb24gdGltZV9yYW5nZXNfdG9fYXJyYXkocmFuZ2VzKSB7XG5cdGNvbnN0IGFycmF5ID0gW107XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgcmFuZ2VzLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0YXJyYXkucHVzaCh7IHN0YXJ0OiByYW5nZXMuc3RhcnQoaSksIGVuZDogcmFuZ2VzLmVuZChpKSB9KTtcblx0fVxuXHRyZXR1cm4gYXJyYXk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7Q2hpbGROb2RlW119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGlsZHJlbihlbGVtZW50KSB7XG5cdHJldHVybiBBcnJheS5mcm9tKGVsZW1lbnQuY2hpbGROb2Rlcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5mdW5jdGlvbiBpbml0X2NsYWltX2luZm8obm9kZXMpIHtcblx0aWYgKG5vZGVzLmNsYWltX2luZm8gPT09IHVuZGVmaW5lZCkge1xuXHRcdG5vZGVzLmNsYWltX2luZm8gPSB7IGxhc3RfaW5kZXg6IDAsIHRvdGFsX2NsYWltZWQ6IDAgfTtcblx0fVxufVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7Q2hpbGROb2RlRXh9IFJcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcGFyYW0geyhub2RlOiBDaGlsZE5vZGVFeCkgPT4gbm9kZSBpcyBSfSBwcmVkaWNhdGVcbiAqIEBwYXJhbSB7KG5vZGU6IENoaWxkTm9kZUV4KSA9PiBDaGlsZE5vZGVFeCB8IHVuZGVmaW5lZH0gcHJvY2Vzc19ub2RlXG4gKiBAcGFyYW0geygpID0+IFJ9IGNyZWF0ZV9ub2RlXG4gKiBAcGFyYW0ge2Jvb2xlYW59IGRvbnRfdXBkYXRlX2xhc3RfaW5kZXhcbiAqIEByZXR1cm5zIHtSfVxuICovXG5mdW5jdGlvbiBjbGFpbV9ub2RlKG5vZGVzLCBwcmVkaWNhdGUsIHByb2Nlc3Nfbm9kZSwgY3JlYXRlX25vZGUsIGRvbnRfdXBkYXRlX2xhc3RfaW5kZXggPSBmYWxzZSkge1xuXHQvLyBUcnkgdG8gZmluZCBub2RlcyBpbiBhbiBvcmRlciBzdWNoIHRoYXQgd2UgbGVuZ3RoZW4gdGhlIGxvbmdlc3QgaW5jcmVhc2luZyBzdWJzZXF1ZW5jZVxuXHRpbml0X2NsYWltX2luZm8obm9kZXMpO1xuXHRjb25zdCByZXN1bHRfbm9kZSA9ICgoKSA9PiB7XG5cdFx0Ly8gV2UgZmlyc3QgdHJ5IHRvIGZpbmQgYW4gZWxlbWVudCBhZnRlciB0aGUgcHJldmlvdXMgb25lXG5cdFx0Zm9yIChsZXQgaSA9IG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleDsgaSA8IG5vZGVzLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRjb25zdCBub2RlID0gbm9kZXNbaV07XG5cdFx0XHRpZiAocHJlZGljYXRlKG5vZGUpKSB7XG5cdFx0XHRcdGNvbnN0IHJlcGxhY2VtZW50ID0gcHJvY2Vzc19ub2RlKG5vZGUpO1xuXHRcdFx0XHRpZiAocmVwbGFjZW1lbnQgPT09IHVuZGVmaW5lZCkge1xuXHRcdFx0XHRcdG5vZGVzLnNwbGljZShpLCAxKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRub2Rlc1tpXSA9IHJlcGxhY2VtZW50O1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmICghZG9udF91cGRhdGVfbGFzdF9pbmRleCkge1xuXHRcdFx0XHRcdG5vZGVzLmNsYWltX2luZm8ubGFzdF9pbmRleCA9IGk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIG5vZGU7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdC8vIE90aGVyd2lzZSwgd2UgdHJ5IHRvIGZpbmQgb25lIGJlZm9yZVxuXHRcdC8vIFdlIGl0ZXJhdGUgaW4gcmV2ZXJzZSBzbyB0aGF0IHdlIGRvbid0IGdvIHRvbyBmYXIgYmFja1xuXHRcdGZvciAobGV0IGkgPSBub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggLSAxOyBpID49IDA7IGktLSkge1xuXHRcdFx0Y29uc3Qgbm9kZSA9IG5vZGVzW2ldO1xuXHRcdFx0aWYgKHByZWRpY2F0ZShub2RlKSkge1xuXHRcdFx0XHRjb25zdCByZXBsYWNlbWVudCA9IHByb2Nlc3Nfbm9kZShub2RlKTtcblx0XHRcdFx0aWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHRub2Rlcy5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bm9kZXNbaV0gPSByZXBsYWNlbWVudDtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoIWRvbnRfdXBkYXRlX2xhc3RfaW5kZXgpIHtcblx0XHRcdFx0XHRub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXggPSBpO1xuXHRcdFx0XHR9IGVsc2UgaWYgKHJlcGxhY2VtZW50ID09PSB1bmRlZmluZWQpIHtcblx0XHRcdFx0XHQvLyBTaW5jZSB3ZSBzcGxpY2VkIGJlZm9yZSB0aGUgbGFzdF9pbmRleCwgd2UgZGVjcmVhc2UgaXRcblx0XHRcdFx0XHRub2Rlcy5jbGFpbV9pbmZvLmxhc3RfaW5kZXgtLTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbm9kZTtcblx0XHRcdH1cblx0XHR9XG5cdFx0Ly8gSWYgd2UgY2FuJ3QgZmluZCBhbnkgbWF0Y2hpbmcgbm9kZSwgd2UgY3JlYXRlIGEgbmV3IG9uZVxuXHRcdHJldHVybiBjcmVhdGVfbm9kZSgpO1xuXHR9KSgpO1xuXHRyZXN1bHRfbm9kZS5jbGFpbV9vcmRlciA9IG5vZGVzLmNsYWltX2luZm8udG90YWxfY2xhaW1lZDtcblx0bm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG5cdHJldHVybiByZXN1bHRfbm9kZTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH19IGF0dHJpYnV0ZXNcbiAqIEBwYXJhbSB7KG5hbWU6IHN0cmluZykgPT4gRWxlbWVudCB8IFNWR0VsZW1lbnR9IGNyZWF0ZV9lbGVtZW50XG4gKiBAcmV0dXJucyB7RWxlbWVudCB8IFNWR0VsZW1lbnR9XG4gKi9cbmZ1bmN0aW9uIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgY3JlYXRlX2VsZW1lbnQpIHtcblx0cmV0dXJuIGNsYWltX25vZGUoXG5cdFx0bm9kZXMsXG5cdFx0LyoqIEByZXR1cm5zIHtub2RlIGlzIEVsZW1lbnQgfCBTVkdFbGVtZW50fSAqL1xuXHRcdChub2RlKSA9PiBub2RlLm5vZGVOYW1lID09PSBuYW1lLFxuXHRcdC8qKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgKi9cblx0XHQobm9kZSkgPT4ge1xuXHRcdFx0Y29uc3QgcmVtb3ZlID0gW107XG5cdFx0XHRmb3IgKGxldCBqID0gMDsgaiA8IG5vZGUuYXR0cmlidXRlcy5sZW5ndGg7IGorKykge1xuXHRcdFx0XHRjb25zdCBhdHRyaWJ1dGUgPSBub2RlLmF0dHJpYnV0ZXNbal07XG5cdFx0XHRcdGlmICghYXR0cmlidXRlc1thdHRyaWJ1dGUubmFtZV0pIHtcblx0XHRcdFx0XHRyZW1vdmUucHVzaChhdHRyaWJ1dGUubmFtZSk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJlbW92ZS5mb3JFYWNoKCh2KSA9PiBub2RlLnJlbW92ZUF0dHJpYnV0ZSh2KSk7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH0sXG5cdFx0KCkgPT4gY3JlYXRlX2VsZW1lbnQobmFtZSlcblx0KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0NoaWxkTm9kZUFycmF5fSBub2Rlc1xuICogQHBhcmFtIHtzdHJpbmd9IG5hbWVcbiAqIEBwYXJhbSB7eyBba2V5OiBzdHJpbmddOiBib29sZWFuIH19IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHtFbGVtZW50IHwgU1ZHRWxlbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2VsZW1lbnQobm9kZXMsIG5hbWUsIGF0dHJpYnV0ZXMpIHtcblx0cmV0dXJuIGNsYWltX2VsZW1lbnRfYmFzZShub2RlcywgbmFtZSwgYXR0cmlidXRlcywgZWxlbWVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcGFyYW0ge3sgW2tleTogc3RyaW5nXTogYm9vbGVhbiB9fSBhdHRyaWJ1dGVzXG4gKiBAcmV0dXJucyB7RWxlbWVudCB8IFNWR0VsZW1lbnR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9zdmdfZWxlbWVudChub2RlcywgbmFtZSwgYXR0cmlidXRlcykge1xuXHRyZXR1cm4gY2xhaW1fZWxlbWVudF9iYXNlKG5vZGVzLCBuYW1lLCBhdHRyaWJ1dGVzLCBzdmdfZWxlbWVudCk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtDaGlsZE5vZGVBcnJheX0gbm9kZXNcbiAqIEByZXR1cm5zIHtUZXh0fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xhaW1fdGV4dChub2RlcywgZGF0YSkge1xuXHRyZXR1cm4gY2xhaW1fbm9kZShcblx0XHRub2Rlcyxcblx0XHQvKiogQHJldHVybnMge25vZGUgaXMgVGV4dH0gKi9cblx0XHQobm9kZSkgPT4gbm9kZS5ub2RlVHlwZSA9PT0gMyxcblx0XHQvKiogQHBhcmFtIHtUZXh0fSBub2RlICovXG5cdFx0KG5vZGUpID0+IHtcblx0XHRcdGNvbnN0IGRhdGFfc3RyID0gJycgKyBkYXRhO1xuXHRcdFx0aWYgKG5vZGUuZGF0YS5zdGFydHNXaXRoKGRhdGFfc3RyKSkge1xuXHRcdFx0XHRpZiAobm9kZS5kYXRhLmxlbmd0aCAhPT0gZGF0YV9zdHIubGVuZ3RoKSB7XG5cdFx0XHRcdFx0cmV0dXJuIG5vZGUuc3BsaXRUZXh0KGRhdGFfc3RyLmxlbmd0aCk7XG5cdFx0XHRcdH1cblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdG5vZGUuZGF0YSA9IGRhdGFfc3RyO1xuXHRcdFx0fVxuXHRcdH0sXG5cdFx0KCkgPT4gdGV4dChkYXRhKSxcblx0XHR0cnVlIC8vIFRleHQgbm9kZXMgc2hvdWxkIG5vdCB1cGRhdGUgbGFzdCBpbmRleCBzaW5jZSBpdCBpcyBsaWtlbHkgbm90IHdvcnRoIGl0IHRvIGVsaW1pbmF0ZSBhbiBpbmNyZWFzaW5nIHN1YnNlcXVlbmNlIG9mIGFjdHVhbCBlbGVtZW50c1xuXHQpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIHtUZXh0fSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX3NwYWNlKG5vZGVzKSB7XG5cdHJldHVybiBjbGFpbV90ZXh0KG5vZGVzLCAnICcpO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Q2hpbGROb2RlQXJyYXl9IG5vZGVzXG4gKiBAcmV0dXJucyB7Q29tbWVudH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2NvbW1lbnQobm9kZXMsIGRhdGEpIHtcblx0cmV0dXJuIGNsYWltX25vZGUoXG5cdFx0bm9kZXMsXG5cdFx0LyoqIEByZXR1cm5zIHtub2RlIGlzIENvbW1lbnR9ICovXG5cdFx0KG5vZGUpID0+IG5vZGUubm9kZVR5cGUgPT09IDgsXG5cdFx0LyoqIEBwYXJhbSB7Q29tbWVudH0gbm9kZSAqL1xuXHRcdChub2RlKSA9PiB7XG5cdFx0XHRub2RlLmRhdGEgPSAnJyArIGRhdGE7XG5cdFx0XHRyZXR1cm4gdW5kZWZpbmVkO1xuXHRcdH0sXG5cdFx0KCkgPT4gY29tbWVudChkYXRhKSxcblx0XHR0cnVlXG5cdCk7XG59XG5cbmZ1bmN0aW9uIGdldF9jb21tZW50X2lkeChub2RlcywgdGV4dCwgc3RhcnQpIHtcblx0Zm9yIChsZXQgaSA9IHN0YXJ0OyBpIDwgbm9kZXMubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRjb25zdCBub2RlID0gbm9kZXNbaV07XG5cdFx0aWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovICYmIG5vZGUudGV4dENvbnRlbnQudHJpbSgpID09PSB0ZXh0KSB7XG5cdFx0XHRyZXR1cm4gaTtcblx0XHR9XG5cdH1cblx0cmV0dXJuIC0xO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNfc3ZnXG4gKiBAcmV0dXJucyB7SHRtbFRhZ0h5ZHJhdGlvbn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsYWltX2h0bWxfdGFnKG5vZGVzLCBpc19zdmcpIHtcblx0Ly8gZmluZCBodG1sIG9wZW5pbmcgdGFnXG5cdGNvbnN0IHN0YXJ0X2luZGV4ID0gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCAnSFRNTF9UQUdfU1RBUlQnLCAwKTtcblx0Y29uc3QgZW5kX2luZGV4ID0gZ2V0X2NvbW1lbnRfaWR4KG5vZGVzLCAnSFRNTF9UQUdfRU5EJywgc3RhcnRfaW5kZXggKyAxKTtcblx0aWYgKHN0YXJ0X2luZGV4ID09PSAtMSB8fCBlbmRfaW5kZXggPT09IC0xKSB7XG5cdFx0cmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGlzX3N2Zyk7XG5cdH1cblxuXHRpbml0X2NsYWltX2luZm8obm9kZXMpO1xuXHRjb25zdCBodG1sX3RhZ19ub2RlcyA9IG5vZGVzLnNwbGljZShzdGFydF9pbmRleCwgZW5kX2luZGV4IC0gc3RhcnRfaW5kZXggKyAxKTtcblx0ZGV0YWNoKGh0bWxfdGFnX25vZGVzWzBdKTtcblx0ZGV0YWNoKGh0bWxfdGFnX25vZGVzW2h0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDFdKTtcblx0Y29uc3QgY2xhaW1lZF9ub2RlcyA9IGh0bWxfdGFnX25vZGVzLnNsaWNlKDEsIGh0bWxfdGFnX25vZGVzLmxlbmd0aCAtIDEpO1xuXHRmb3IgKGNvbnN0IG4gb2YgY2xhaW1lZF9ub2Rlcykge1xuXHRcdG4uY2xhaW1fb3JkZXIgPSBub2Rlcy5jbGFpbV9pbmZvLnRvdGFsX2NsYWltZWQ7XG5cdFx0bm9kZXMuY2xhaW1faW5mby50b3RhbF9jbGFpbWVkICs9IDE7XG5cdH1cblx0cmV0dXJuIG5ldyBIdG1sVGFnSHlkcmF0aW9uKGlzX3N2ZywgY2xhaW1lZF9ub2Rlcyk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGEodGV4dCwgZGF0YSkge1xuXHRkYXRhID0gJycgKyBkYXRhO1xuXHRpZiAodGV4dC5kYXRhID09PSBkYXRhKSByZXR1cm47XG5cdHRleHQuZGF0YSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoZGF0YSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X2RhdGFfY29udGVudGVkaXRhYmxlKHRleHQsIGRhdGEpIHtcblx0ZGF0YSA9ICcnICsgZGF0YTtcblx0aWYgKHRleHQud2hvbGVUZXh0ID09PSBkYXRhKSByZXR1cm47XG5cdHRleHQuZGF0YSA9IC8qKiBAdHlwZSB7c3RyaW5nfSAqLyAoZGF0YSk7XG59XG5cbi8qKlxuICogQHBhcmFtIHtUZXh0fSB0ZXh0XG4gKiBAcGFyYW0ge3Vua25vd259IGRhdGFcbiAqIEBwYXJhbSB7c3RyaW5nfSBhdHRyX3ZhbHVlXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9kYXRhX21heWJlX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhLCBhdHRyX3ZhbHVlKSB7XG5cdGlmICh+Y29udGVudGVkaXRhYmxlX3RydXRoeV92YWx1ZXMuaW5kZXhPZihhdHRyX3ZhbHVlKSkge1xuXHRcdHNldF9kYXRhX2NvbnRlbnRlZGl0YWJsZSh0ZXh0LCBkYXRhKTtcblx0fSBlbHNlIHtcblx0XHRzZXRfZGF0YSh0ZXh0LCBkYXRhKTtcblx0fVxufVxuXG4vKipcbiAqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldF9pbnB1dF92YWx1ZShpbnB1dCwgdmFsdWUpIHtcblx0aW5wdXQudmFsdWUgPSB2YWx1ZSA9PSBudWxsID8gJycgOiB2YWx1ZTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfaW5wdXRfdHlwZShpbnB1dCwgdHlwZSkge1xuXHR0cnkge1xuXHRcdGlucHV0LnR5cGUgPSB0eXBlO1xuXHR9IGNhdGNoIChlKSB7XG5cdFx0Ly8gZG8gbm90aGluZ1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2V0X3N0eWxlKG5vZGUsIGtleSwgdmFsdWUsIGltcG9ydGFudCkge1xuXHRpZiAodmFsdWUgPT0gbnVsbCkge1xuXHRcdG5vZGUuc3R5bGUucmVtb3ZlUHJvcGVydHkoa2V5KTtcblx0fSBlbHNlIHtcblx0XHRub2RlLnN0eWxlLnNldFByb3BlcnR5KGtleSwgdmFsdWUsIGltcG9ydGFudCA/ICdpbXBvcnRhbnQnIDogJycpO1xuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X29wdGlvbihzZWxlY3QsIHZhbHVlLCBtb3VudGluZykge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG5cdFx0aWYgKG9wdGlvbi5fX3ZhbHVlID09PSB2YWx1ZSkge1xuXHRcdFx0b3B0aW9uLnNlbGVjdGVkID0gdHJ1ZTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH1cblx0aWYgKCFtb3VudGluZyB8fCB2YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0c2VsZWN0LnNlbGVjdGVkSW5kZXggPSAtMTsgLy8gbm8gb3B0aW9uIHNob3VsZCBiZSBzZWxlY3RlZFxuXHR9XG59XG5cbi8qKlxuICogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X29wdGlvbnMoc2VsZWN0LCB2YWx1ZSkge1xuXHRmb3IgKGxldCBpID0gMDsgaSA8IHNlbGVjdC5vcHRpb25zLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0Y29uc3Qgb3B0aW9uID0gc2VsZWN0Lm9wdGlvbnNbaV07XG5cdFx0b3B0aW9uLnNlbGVjdGVkID0gfnZhbHVlLmluZGV4T2Yob3B0aW9uLl9fdmFsdWUpO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RfdmFsdWUoc2VsZWN0KSB7XG5cdGNvbnN0IHNlbGVjdGVkX29wdGlvbiA9IHNlbGVjdC5xdWVyeVNlbGVjdG9yKCc6Y2hlY2tlZCcpO1xuXHRyZXR1cm4gc2VsZWN0ZWRfb3B0aW9uICYmIHNlbGVjdGVkX29wdGlvbi5fX3ZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0X211bHRpcGxlX3ZhbHVlKHNlbGVjdCkge1xuXHRyZXR1cm4gW10ubWFwLmNhbGwoc2VsZWN0LnF1ZXJ5U2VsZWN0b3JBbGwoJzpjaGVja2VkJyksIChvcHRpb24pID0+IG9wdGlvbi5fX3ZhbHVlKTtcbn1cbi8vIHVuZm9ydHVuYXRlbHkgdGhpcyBjYW4ndCBiZSBhIGNvbnN0YW50IGFzIHRoYXQgd291bGRuJ3QgYmUgdHJlZS1zaGFrZWFibGVcbi8vIHNvIHdlIGNhY2hlIHRoZSByZXN1bHQgaW5zdGVhZFxuXG4vKipcbiAqIEB0eXBlIHtib29sZWFufSAqL1xubGV0IGNyb3Nzb3JpZ2luO1xuXG4vKipcbiAqIEByZXR1cm5zIHtib29sZWFufSAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzX2Nyb3Nzb3JpZ2luKCkge1xuXHRpZiAoY3Jvc3NvcmlnaW4gPT09IHVuZGVmaW5lZCkge1xuXHRcdGNyb3Nzb3JpZ2luID0gZmFsc2U7XG5cdFx0dHJ5IHtcblx0XHRcdGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cucGFyZW50KSB7XG5cdFx0XHRcdHZvaWQgd2luZG93LnBhcmVudC5kb2N1bWVudDtcblx0XHRcdH1cblx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0Y3Jvc3NvcmlnaW4gPSB0cnVlO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gY3Jvc3NvcmlnaW47XG59XG5cbi8qKlxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBmblxuICogQHJldHVybnMgeygpID0+IHZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfaWZyYW1lX3Jlc2l6ZV9saXN0ZW5lcihub2RlLCBmbikge1xuXHRjb25zdCBjb21wdXRlZF9zdHlsZSA9IGdldENvbXB1dGVkU3R5bGUobm9kZSk7XG5cdGlmIChjb21wdXRlZF9zdHlsZS5wb3NpdGlvbiA9PT0gJ3N0YXRpYycpIHtcblx0XHRub2RlLnN0eWxlLnBvc2l0aW9uID0gJ3JlbGF0aXZlJztcblx0fVxuXHRjb25zdCBpZnJhbWUgPSBlbGVtZW50KCdpZnJhbWUnKTtcblx0aWZyYW1lLnNldEF0dHJpYnV0ZShcblx0XHQnc3R5bGUnLFxuXHRcdCdkaXNwbGF5OiBibG9jazsgcG9zaXRpb246IGFic29sdXRlOyB0b3A6IDA7IGxlZnQ6IDA7IHdpZHRoOiAxMDAlOyBoZWlnaHQ6IDEwMCU7ICcgK1xuXHRcdFx0J292ZXJmbG93OiBoaWRkZW47IGJvcmRlcjogMDsgb3BhY2l0eTogMDsgcG9pbnRlci1ldmVudHM6IG5vbmU7IHotaW5kZXg6IC0xOydcblx0KTtcblx0aWZyYW1lLnNldEF0dHJpYnV0ZSgnYXJpYS1oaWRkZW4nLCAndHJ1ZScpO1xuXHRpZnJhbWUudGFiSW5kZXggPSAtMTtcblx0Y29uc3QgY3Jvc3NvcmlnaW4gPSBpc19jcm9zc29yaWdpbigpO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7KCkgPT4gdm9pZH1cblx0ICovXG5cdGxldCB1bnN1YnNjcmliZTtcblx0aWYgKGNyb3Nzb3JpZ2luKSB7XG5cdFx0aWZyYW1lLnNyYyA9IFwiZGF0YTp0ZXh0L2h0bWwsPHNjcmlwdD5vbnJlc2l6ZT1mdW5jdGlvbigpe3BhcmVudC5wb3N0TWVzc2FnZSgwLCcqJyl9PC9zY3JpcHQ+XCI7XG5cdFx0dW5zdWJzY3JpYmUgPSBsaXN0ZW4oXG5cdFx0XHR3aW5kb3csXG5cdFx0XHQnbWVzc2FnZScsXG5cdFx0XHQvKiogQHBhcmFtIHtNZXNzYWdlRXZlbnR9IGV2ZW50ICovIChldmVudCkgPT4ge1xuXHRcdFx0XHRpZiAoZXZlbnQuc291cmNlID09PSBpZnJhbWUuY29udGVudFdpbmRvdykgZm4oKTtcblx0XHRcdH1cblx0XHQpO1xuXHR9IGVsc2Uge1xuXHRcdGlmcmFtZS5zcmMgPSAnYWJvdXQ6YmxhbmsnO1xuXHRcdGlmcmFtZS5vbmxvYWQgPSAoKSA9PiB7XG5cdFx0XHR1bnN1YnNjcmliZSA9IGxpc3RlbihpZnJhbWUuY29udGVudFdpbmRvdywgJ3Jlc2l6ZScsIGZuKTtcblx0XHRcdC8vIG1ha2Ugc3VyZSBhbiBpbml0aWFsIHJlc2l6ZSBldmVudCBpcyBmaXJlZCBfYWZ0ZXJfIHRoZSBpZnJhbWUgaXMgbG9hZGVkICh3aGljaCBpcyBhc3luY2hyb25vdXMpXG5cdFx0XHQvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3N2ZWx0ZWpzL3N2ZWx0ZS9pc3N1ZXMvNDIzM1xuXHRcdFx0Zm4oKTtcblx0XHR9O1xuXHR9XG5cdGFwcGVuZChub2RlLCBpZnJhbWUpO1xuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmIChjcm9zc29yaWdpbikge1xuXHRcdFx0dW5zdWJzY3JpYmUoKTtcblx0XHR9IGVsc2UgaWYgKHVuc3Vic2NyaWJlICYmIGlmcmFtZS5jb250ZW50V2luZG93KSB7XG5cdFx0XHR1bnN1YnNjcmliZSgpO1xuXHRcdH1cblx0XHRkZXRhY2goaWZyYW1lKTtcblx0fTtcbn1cbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfY29udGVudF9ib3ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFJlc2l6ZU9ic2VydmVyU2luZ2xldG9uKHtcblx0Ym94OiAnY29udGVudC1ib3gnXG59KTtcbmV4cG9ydCBjb25zdCByZXNpemVfb2JzZXJ2ZXJfYm9yZGVyX2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oe1xuXHRib3g6ICdib3JkZXItYm94J1xufSk7XG5leHBvcnQgY29uc3QgcmVzaXplX29ic2VydmVyX2RldmljZV9waXhlbF9jb250ZW50X2JveCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24oXG5cdHsgYm94OiAnZGV2aWNlLXBpeGVsLWNvbnRlbnQtYm94JyB9XG4pO1xuZXhwb3J0IHsgUmVzaXplT2JzZXJ2ZXJTaW5nbGV0b24gfTtcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVfY2xhc3MoZWxlbWVudCwgbmFtZSwgdG9nZ2xlKSB7XG5cdC8vIFRoZSBgISFgIGlzIHJlcXVpcmVkIGJlY2F1c2UgYW4gYHVuZGVmaW5lZGAgZmxhZyBtZWFucyBmbGlwcGluZyB0aGUgY3VycmVudCBzdGF0ZS5cblx0ZWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKG5hbWUsICEhdG9nZ2xlKTtcbn1cblxuLyoqXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcbiAqIEBwYXJhbSB7VH0gW2RldGFpbF1cbiAqIEBwYXJhbSB7eyBidWJibGVzPzogYm9vbGVhbiwgY2FuY2VsYWJsZT86IGJvb2xlYW4gfX0gW29wdGlvbnNdXG4gKiBAcmV0dXJucyB7Q3VzdG9tRXZlbnQ8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjdXN0b21fZXZlbnQodHlwZSwgZGV0YWlsLCB7IGJ1YmJsZXMgPSBmYWxzZSwgY2FuY2VsYWJsZSA9IGZhbHNlIH0gPSB7fSkge1xuXHRyZXR1cm4gbmV3IEN1c3RvbUV2ZW50KHR5cGUsIHsgZGV0YWlsLCBidWJibGVzLCBjYW5jZWxhYmxlIH0pO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzZWxlY3RvclxuICogQHBhcmFtIHtIVE1MRWxlbWVudH0gcGFyZW50XG4gKiBAcmV0dXJucyB7Q2hpbGROb2RlQXJyYXl9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWVyeV9zZWxlY3Rvcl9hbGwoc2VsZWN0b3IsIHBhcmVudCA9IGRvY3VtZW50LmJvZHkpIHtcblx0cmV0dXJuIEFycmF5LmZyb20ocGFyZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpKTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gbm9kZUlkXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBoZWFkXG4gKiBAcmV0dXJucyB7YW55W119XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoZWFkX3NlbGVjdG9yKG5vZGVJZCwgaGVhZCkge1xuXHRjb25zdCByZXN1bHQgPSBbXTtcblx0bGV0IHN0YXJ0ZWQgPSAwO1xuXHRmb3IgKGNvbnN0IG5vZGUgb2YgaGVhZC5jaGlsZE5vZGVzKSB7XG5cdFx0aWYgKG5vZGUubm9kZVR5cGUgPT09IDggLyogY29tbWVudCBub2RlICovKSB7XG5cdFx0XHRjb25zdCBjb21tZW50ID0gbm9kZS50ZXh0Q29udGVudC50cmltKCk7XG5cdFx0XHRpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X0VORGApIHtcblx0XHRcdFx0c3RhcnRlZCAtPSAxO1xuXHRcdFx0XHRyZXN1bHQucHVzaChub2RlKTtcblx0XHRcdH0gZWxzZSBpZiAoY29tbWVudCA9PT0gYEhFQURfJHtub2RlSWR9X1NUQVJUYCkge1xuXHRcdFx0XHRzdGFydGVkICs9IDE7XG5cdFx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSBpZiAoc3RhcnRlZCA+IDApIHtcblx0XHRcdHJlc3VsdC5wdXNoKG5vZGUpO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4gcmVzdWx0O1xufVxuLyoqICovXG5leHBvcnQgY2xhc3MgSHRtbFRhZyB7XG5cdC8qKlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAZGVmYXVsdCBmYWxzZVxuXHQgKi9cblx0aXNfc3ZnID0gZmFsc2U7XG5cdC8qKiBwYXJlbnQgZm9yIGNyZWF0aW5nIG5vZGUgKi9cblx0ZSA9IHVuZGVmaW5lZDtcblx0LyoqIGh0bWwgdGFnIG5vZGVzICovXG5cdG4gPSB1bmRlZmluZWQ7XG5cdC8qKiB0YXJnZXQgKi9cblx0dCA9IHVuZGVmaW5lZDtcblx0LyoqIGFuY2hvciAqL1xuXHRhID0gdW5kZWZpbmVkO1xuXHRjb25zdHJ1Y3Rvcihpc19zdmcgPSBmYWxzZSkge1xuXHRcdHRoaXMuaXNfc3ZnID0gaXNfc3ZnO1xuXHRcdHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRjKGh0bWwpIHtcblx0XHR0aGlzLmgoaHRtbCk7XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtzdHJpbmd9IGh0bWxcblx0ICogQHBhcmFtIHtIVE1MRWxlbWVudCB8IFNWR0VsZW1lbnR9IHRhcmdldFxuXHQgKiBAcGFyYW0ge0hUTUxFbGVtZW50IHwgU1ZHRWxlbWVudH0gYW5jaG9yXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0bShodG1sLCB0YXJnZXQsIGFuY2hvciA9IG51bGwpIHtcblx0XHRpZiAoIXRoaXMuZSkge1xuXHRcdFx0aWYgKHRoaXMuaXNfc3ZnKVxuXHRcdFx0XHR0aGlzLmUgPSBzdmdfZWxlbWVudCgvKiogQHR5cGUge2tleW9mIFNWR0VsZW1lbnRUYWdOYW1lTWFwfSAqLyAodGFyZ2V0Lm5vZGVOYW1lKSk7XG5cdFx0XHQvKiogIzczNjQgIHRhcmdldCBmb3IgPHRlbXBsYXRlPiBtYXkgYmUgcHJvdmlkZWQgYXMgI2RvY3VtZW50LWZyYWdtZW50KDExKSAqLyBlbHNlXG5cdFx0XHRcdHRoaXMuZSA9IGVsZW1lbnQoXG5cdFx0XHRcdFx0LyoqIEB0eXBlIHtrZXlvZiBIVE1MRWxlbWVudFRhZ05hbWVNYXB9ICovIChcblx0XHRcdFx0XHRcdHRhcmdldC5ub2RlVHlwZSA9PT0gMTEgPyAnVEVNUExBVEUnIDogdGFyZ2V0Lm5vZGVOYW1lXG5cdFx0XHRcdFx0KVxuXHRcdFx0XHQpO1xuXHRcdFx0dGhpcy50ID1cblx0XHRcdFx0dGFyZ2V0LnRhZ05hbWUgIT09ICdURU1QTEFURSdcblx0XHRcdFx0XHQ/IHRhcmdldFxuXHRcdFx0XHRcdDogLyoqIEB0eXBlIHtIVE1MVGVtcGxhdGVFbGVtZW50fSAqLyAodGFyZ2V0KS5jb250ZW50O1xuXHRcdFx0dGhpcy5jKGh0bWwpO1xuXHRcdH1cblx0XHR0aGlzLmkoYW5jaG9yKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGgoaHRtbCkge1xuXHRcdHRoaXMuZS5pbm5lckhUTUwgPSBodG1sO1xuXHRcdHRoaXMubiA9IEFycmF5LmZyb20oXG5cdFx0XHR0aGlzLmUubm9kZU5hbWUgPT09ICdURU1QTEFURScgPyB0aGlzLmUuY29udGVudC5jaGlsZE5vZGVzIDogdGhpcy5lLmNoaWxkTm9kZXNcblx0XHQpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRpKGFuY2hvcikge1xuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5uLmxlbmd0aDsgaSArPSAxKSB7XG5cdFx0XHRpbnNlcnQodGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBodG1sXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0cChodG1sKSB7XG5cdFx0dGhpcy5kKCk7XG5cdFx0dGhpcy5oKGh0bWwpO1xuXHRcdHRoaXMuaSh0aGlzLmEpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRkKCkge1xuXHRcdHRoaXMubi5mb3JFYWNoKGRldGFjaCk7XG5cdH1cbn1cblxuZXhwb3J0IGNsYXNzIEh0bWxUYWdIeWRyYXRpb24gZXh0ZW5kcyBIdG1sVGFnIHtcblx0LyoqIEB0eXBlIHtFbGVtZW50W119IGh5ZHJhdGlvbiBjbGFpbWVkIG5vZGVzICovXG5cdGwgPSB1bmRlZmluZWQ7XG5cblx0Y29uc3RydWN0b3IoaXNfc3ZnID0gZmFsc2UsIGNsYWltZWRfbm9kZXMpIHtcblx0XHRzdXBlcihpc19zdmcpO1xuXHRcdHRoaXMuZSA9IHRoaXMubiA9IG51bGw7XG5cdFx0dGhpcy5sID0gY2xhaW1lZF9ub2Rlcztcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaHRtbFxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGMoaHRtbCkge1xuXHRcdGlmICh0aGlzLmwpIHtcblx0XHRcdHRoaXMubiA9IHRoaXMubDtcblx0XHR9IGVsc2Uge1xuXHRcdFx0c3VwZXIuYyhodG1sKTtcblx0XHR9XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGkoYW5jaG9yKSB7XG5cdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm4ubGVuZ3RoOyBpICs9IDEpIHtcblx0XHRcdGluc2VydF9oeWRyYXRpb24odGhpcy50LCB0aGlzLm5baV0sIGFuY2hvcik7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHBhcmFtIHtOYW1lZE5vZGVNYXB9IGF0dHJpYnV0ZXNcbiAqIEByZXR1cm5zIHt7fX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGF0dHJpYnV0ZV90b19vYmplY3QoYXR0cmlidXRlcykge1xuXHRjb25zdCByZXN1bHQgPSB7fTtcblx0Zm9yIChjb25zdCBhdHRyaWJ1dGUgb2YgYXR0cmlidXRlcykge1xuXHRcdHJlc3VsdFthdHRyaWJ1dGUubmFtZV0gPSBhdHRyaWJ1dGUudmFsdWU7XG5cdH1cblx0cmV0dXJuIHJlc3VsdDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gKiBAcmV0dXJucyB7e319XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRfY3VzdG9tX2VsZW1lbnRzX3Nsb3RzKGVsZW1lbnQpIHtcblx0Y29uc3QgcmVzdWx0ID0ge307XG5cdGVsZW1lbnQuY2hpbGROb2Rlcy5mb3JFYWNoKFxuXHRcdC8qKiBAcGFyYW0ge0VsZW1lbnR9IG5vZGUgKi8gKG5vZGUpID0+IHtcblx0XHRcdHJlc3VsdFtub2RlLnNsb3QgfHwgJ2RlZmF1bHQnXSA9IHRydWU7XG5cdFx0fVxuXHQpO1xuXHRyZXR1cm4gcmVzdWx0O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gY29uc3RydWN0X3N2ZWx0ZV9jb21wb25lbnQoY29tcG9uZW50LCBwcm9wcykge1xuXHRyZXR1cm4gbmV3IGNvbXBvbmVudChwcm9wcyk7XG59XG5cbi8qKlxuICogQHR5cGVkZWYge05vZGUgJiB7XG4gKiBcdGNsYWltX29yZGVyPzogbnVtYmVyO1xuICogXHRoeWRyYXRlX2luaXQ/OiB0cnVlO1xuICogXHRhY3R1YWxfZW5kX2NoaWxkPzogTm9kZUV4O1xuICogXHRjaGlsZE5vZGVzOiBOb2RlTGlzdE9mPE5vZGVFeD47XG4gKiB9fSBOb2RlRXhcbiAqL1xuXG4vKiogQHR5cGVkZWYge0NoaWxkTm9kZSAmIE5vZGVFeH0gQ2hpbGROb2RlRXggKi9cblxuLyoqIEB0eXBlZGVmIHtOb2RlRXggJiB7IGNsYWltX29yZGVyOiBudW1iZXIgfX0gTm9kZUV4MiAqL1xuXG4vKipcbiAqIEB0eXBlZGVmIHtDaGlsZE5vZGVFeFtdICYge1xuICogXHRjbGFpbV9pbmZvPzoge1xuICogXHRcdGxhc3RfaW5kZXg6IG51bWJlcjtcbiAqIFx0XHR0b3RhbF9jbGFpbWVkOiBudW1iZXI7XG4gKiBcdH07XG4gKiB9fSBDaGlsZE5vZGVBcnJheVxuICovXG4iLCJpbXBvcnQgeyBjdXN0b21fZXZlbnQgfSBmcm9tICcuL2RvbS5qcyc7XG5cbmV4cG9ydCBsZXQgY3VycmVudF9jb21wb25lbnQ7XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRfY3VycmVudF9jb21wb25lbnQoY29tcG9uZW50KSB7XG5cdGN1cnJlbnRfY29tcG9uZW50ID0gY29tcG9uZW50O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0X2N1cnJlbnRfY29tcG9uZW50KCkge1xuXHRpZiAoIWN1cnJlbnRfY29tcG9uZW50KSB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uIGNhbGxlZCBvdXRzaWRlIGNvbXBvbmVudCBpbml0aWFsaXphdGlvbicpO1xuXHRyZXR1cm4gY3VycmVudF9jb21wb25lbnQ7XG59XG5cbi8qKlxuICogU2NoZWR1bGVzIGEgY2FsbGJhY2sgdG8gcnVuIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29tcG9uZW50IGlzIHVwZGF0ZWQgYWZ0ZXIgYW55IHN0YXRlIGNoYW5nZS5cbiAqXG4gKiBUaGUgZmlyc3QgdGltZSB0aGUgY2FsbGJhY2sgcnVucyB3aWxsIGJlIGJlZm9yZSB0aGUgaW5pdGlhbCBgb25Nb3VudGBcbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjYmVmb3JldXBkYXRlXG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYmVmb3JlVXBkYXRlKGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmJlZm9yZV91cGRhdGUucHVzaChmbik7XG59XG5cbi8qKlxuICogVGhlIGBvbk1vdW50YCBmdW5jdGlvbiBzY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gYXMgc29vbiBhcyB0aGUgY29tcG9uZW50IGhhcyBiZWVuIG1vdW50ZWQgdG8gdGhlIERPTS5cbiAqIEl0IG11c3QgYmUgY2FsbGVkIGR1cmluZyB0aGUgY29tcG9uZW50J3MgaW5pdGlhbGlzYXRpb24gKGJ1dCBkb2Vzbid0IG5lZWQgdG8gbGl2ZSAqaW5zaWRlKiB0aGUgY29tcG9uZW50O1xuICogaXQgY2FuIGJlIGNhbGxlZCBmcm9tIGFuIGV4dGVybmFsIG1vZHVsZSkuXG4gKlxuICogSWYgYSBmdW5jdGlvbiBpcyByZXR1cm5lZCBfc3luY2hyb25vdXNseV8gZnJvbSBgb25Nb3VudGAsIGl0IHdpbGwgYmUgY2FsbGVkIHdoZW4gdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogYG9uTW91bnRgIGRvZXMgbm90IHJ1biBpbnNpZGUgYSBbc2VydmVyLXNpZGUgY29tcG9uZW50XSgvZG9jcyNydW4tdGltZS1zZXJ2ZXItc2lkZS1jb21wb25lbnQtYXBpKS5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjb25tb3VudFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7KCkgPT4gaW1wb3J0KCcuL3ByaXZhdGUuanMnKS5Ob3RGdW5jdGlvbjxUPiB8IFByb21pc2U8aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5Ob3RGdW5jdGlvbjxUPj4gfCAoKCkgPT4gYW55KX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb25Nb3VudChmbikge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5vbl9tb3VudC5wdXNoKGZuKTtcbn1cblxuLyoqXG4gKiBTY2hlZHVsZXMgYSBjYWxsYmFjayB0byBydW4gaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlIGNvbXBvbmVudCBoYXMgYmVlbiB1cGRhdGVkLlxuICpcbiAqIFRoZSBmaXJzdCB0aW1lIHRoZSBjYWxsYmFjayBydW5zIHdpbGwgYmUgYWZ0ZXIgdGhlIGluaXRpYWwgYG9uTW91bnRgXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2FmdGVydXBkYXRlXG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gYWZ0ZXJVcGRhdGUoZm4pIHtcblx0Z2V0X2N1cnJlbnRfY29tcG9uZW50KCkuJCQuYWZ0ZXJfdXBkYXRlLnB1c2goZm4pO1xufVxuXG4vKipcbiAqIFNjaGVkdWxlcyBhIGNhbGxiYWNrIHRvIHJ1biBpbW1lZGlhdGVseSBiZWZvcmUgdGhlIGNvbXBvbmVudCBpcyB1bm1vdW50ZWQuXG4gKlxuICogT3V0IG9mIGBvbk1vdW50YCwgYGJlZm9yZVVwZGF0ZWAsIGBhZnRlclVwZGF0ZWAgYW5kIGBvbkRlc3Ryb3lgLCB0aGlzIGlzIHRoZVxuICogb25seSBvbmUgdGhhdCBydW5zIGluc2lkZSBhIHNlcnZlci1zaWRlIGNvbXBvbmVudC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjb25kZXN0cm95XG4gKiBAcGFyYW0geygpID0+IGFueX0gZm5cbiAqIEByZXR1cm5zIHt2b2lkfVxuICovXG5leHBvcnQgZnVuY3Rpb24gb25EZXN0cm95KGZuKSB7XG5cdGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLm9uX2Rlc3Ryb3kucHVzaChmbik7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhbiBldmVudCBkaXNwYXRjaGVyIHRoYXQgY2FuIGJlIHVzZWQgdG8gZGlzcGF0Y2ggW2NvbXBvbmVudCBldmVudHNdKC9kb2NzI3RlbXBsYXRlLXN5bnRheC1jb21wb25lbnQtZGlyZWN0aXZlcy1vbi1ldmVudG5hbWUpLlxuICogRXZlbnQgZGlzcGF0Y2hlcnMgYXJlIGZ1bmN0aW9ucyB0aGF0IGNhbiB0YWtlIHR3byBhcmd1bWVudHM6IGBuYW1lYCBhbmQgYGRldGFpbGAuXG4gKlxuICogQ29tcG9uZW50IGV2ZW50cyBjcmVhdGVkIHdpdGggYGNyZWF0ZUV2ZW50RGlzcGF0Y2hlcmAgY3JlYXRlIGFcbiAqIFtDdXN0b21FdmVudF0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvQVBJL0N1c3RvbUV2ZW50KS5cbiAqIFRoZXNlIGV2ZW50cyBkbyBub3QgW2J1YmJsZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9MZWFybi9KYXZhU2NyaXB0L0J1aWxkaW5nX2Jsb2Nrcy9FdmVudHMjRXZlbnRfYnViYmxpbmdfYW5kX2NhcHR1cmUpLlxuICogVGhlIGBkZXRhaWxgIGFyZ3VtZW50IGNvcnJlc3BvbmRzIHRvIHRoZSBbQ3VzdG9tRXZlbnQuZGV0YWlsXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvQ3VzdG9tRXZlbnQvZGV0YWlsKVxuICogcHJvcGVydHkgYW5kIGNhbiBjb250YWluIGFueSB0eXBlIG9mIGRhdGEuXG4gKlxuICogVGhlIGV2ZW50IGRpc3BhdGNoZXIgY2FuIGJlIHR5cGVkIHRvIG5hcnJvdyB0aGUgYWxsb3dlZCBldmVudCBuYW1lcyBhbmQgdGhlIHR5cGUgb2YgdGhlIGBkZXRhaWxgIGFyZ3VtZW50OlxuICogYGBgdHNcbiAqIGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyPHtcbiAqICBsb2FkZWQ6IG5ldmVyOyAvLyBkb2VzIG5vdCB0YWtlIGEgZGV0YWlsIGFyZ3VtZW50XG4gKiAgY2hhbmdlOiBzdHJpbmc7IC8vIHRha2VzIGEgZGV0YWlsIGFyZ3VtZW50IG9mIHR5cGUgc3RyaW5nLCB3aGljaCBpcyByZXF1aXJlZFxuICogIG9wdGlvbmFsOiBudW1iZXIgfCBudWxsOyAvLyB0YWtlcyBhbiBvcHRpb25hbCBkZXRhaWwgYXJndW1lbnQgb2YgdHlwZSBudW1iZXJcbiAqIH0+KCk7XG4gKiBgYGBcbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjY3JlYXRlZXZlbnRkaXNwYXRjaGVyXG4gKiBAdGVtcGxhdGUge1JlY29yZDxzdHJpbmcsIGFueT59IFtFdmVudE1hcD1hbnldXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLkV2ZW50RGlzcGF0Y2hlcjxFdmVudE1hcD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVFdmVudERpc3BhdGNoZXIoKSB7XG5cdGNvbnN0IGNvbXBvbmVudCA9IGdldF9jdXJyZW50X2NvbXBvbmVudCgpO1xuXHRyZXR1cm4gKHR5cGUsIGRldGFpbCwgeyBjYW5jZWxhYmxlID0gZmFsc2UgfSA9IHt9KSA9PiB7XG5cdFx0Y29uc3QgY2FsbGJhY2tzID0gY29tcG9uZW50LiQkLmNhbGxiYWNrc1t0eXBlXTtcblx0XHRpZiAoY2FsbGJhY2tzKSB7XG5cdFx0XHQvLyBUT0RPIGFyZSB0aGVyZSBzaXR1YXRpb25zIHdoZXJlIGV2ZW50cyBjb3VsZCBiZSBkaXNwYXRjaGVkXG5cdFx0XHQvLyBpbiBhIHNlcnZlciAobm9uLURPTSkgZW52aXJvbm1lbnQ/XG5cdFx0XHRjb25zdCBldmVudCA9IGN1c3RvbV9ldmVudCgvKiogQHR5cGUge3N0cmluZ30gKi8gKHR5cGUpLCBkZXRhaWwsIHsgY2FuY2VsYWJsZSB9KTtcblx0XHRcdGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goKGZuKSA9PiB7XG5cdFx0XHRcdGZuLmNhbGwoY29tcG9uZW50LCBldmVudCk7XG5cdFx0XHR9KTtcblx0XHRcdHJldHVybiAhZXZlbnQuZGVmYXVsdFByZXZlbnRlZDtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07XG59XG5cbi8qKlxuICogQXNzb2NpYXRlcyBhbiBhcmJpdHJhcnkgYGNvbnRleHRgIG9iamVjdCB3aXRoIHRoZSBjdXJyZW50IGNvbXBvbmVudCBhbmQgdGhlIHNwZWNpZmllZCBga2V5YFxuICogYW5kIHJldHVybnMgdGhhdCBvYmplY3QuIFRoZSBjb250ZXh0IGlzIHRoZW4gYXZhaWxhYmxlIHRvIGNoaWxkcmVuIG9mIHRoZSBjb21wb25lbnRcbiAqIChpbmNsdWRpbmcgc2xvdHRlZCBjb250ZW50KSB3aXRoIGBnZXRDb250ZXh0YC5cbiAqXG4gKiBMaWtlIGxpZmVjeWNsZSBmdW5jdGlvbnMsIHRoaXMgbXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjc2V0Y29udGV4dFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEBwYXJhbSB7VH0gY29udGV4dFxuICogQHJldHVybnMge1R9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDb250ZXh0KGtleSwgY29udGV4dCkge1xuXHRnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0LnNldChrZXksIGNvbnRleHQpO1xuXHRyZXR1cm4gY29udGV4dDtcbn1cblxuLyoqXG4gKiBSZXRyaWV2ZXMgdGhlIGNvbnRleHQgdGhhdCBiZWxvbmdzIHRvIHRoZSBjbG9zZXN0IHBhcmVudCBjb21wb25lbnQgd2l0aCB0aGUgc3BlY2lmaWVkIGBrZXlgLlxuICogTXVzdCBiZSBjYWxsZWQgZHVyaW5nIGNvbXBvbmVudCBpbml0aWFsaXNhdGlvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjZ2V0Y29udGV4dFxuICogQHRlbXBsYXRlIFRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q29udGV4dChrZXkpIHtcblx0cmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuZ2V0KGtleSk7XG59XG5cbi8qKlxuICogUmV0cmlldmVzIHRoZSB3aG9sZSBjb250ZXh0IG1hcCB0aGF0IGJlbG9uZ3MgdG8gdGhlIGNsb3Nlc3QgcGFyZW50IGNvbXBvbmVudC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uIFVzZWZ1bCwgZm9yIGV4YW1wbGUsIGlmIHlvdVxuICogcHJvZ3JhbW1hdGljYWxseSBjcmVhdGUgYSBjb21wb25lbnQgYW5kIHdhbnQgdG8gcGFzcyB0aGUgZXhpc3RpbmcgY29udGV4dCB0byBpdC5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUjZ2V0YWxsY29udGV4dHNcbiAqIEB0ZW1wbGF0ZSB7TWFwPGFueSwgYW55Pn0gW1Q9TWFwPGFueSwgYW55Pl1cbiAqIEByZXR1cm5zIHtUfVxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0QWxsQ29udGV4dHMoKSB7XG5cdHJldHVybiBnZXRfY3VycmVudF9jb21wb25lbnQoKS4kJC5jb250ZXh0O1xufVxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGEgZ2l2ZW4gYGtleWAgaGFzIGJlZW4gc2V0IGluIHRoZSBjb250ZXh0IG9mIGEgcGFyZW50IGNvbXBvbmVudC5cbiAqIE11c3QgYmUgY2FsbGVkIGR1cmluZyBjb21wb25lbnQgaW5pdGlhbGlzYXRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlI2hhc2NvbnRleHRcbiAqIEBwYXJhbSB7YW55fSBrZXlcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5leHBvcnQgZnVuY3Rpb24gaGFzQ29udGV4dChrZXkpIHtcblx0cmV0dXJuIGdldF9jdXJyZW50X2NvbXBvbmVudCgpLiQkLmNvbnRleHQuaGFzKGtleSk7XG59XG5cbi8vIFRPRE8gZmlndXJlIG91dCBpZiB3ZSBzdGlsbCB3YW50IHRvIHN1cHBvcnRcbi8vIHNob3J0aGFuZCBldmVudHMsIG9yIGlmIHdlIHdhbnQgdG8gaW1wbGVtZW50XG4vLyBhIHJlYWwgYnViYmxpbmcgbWVjaGFuaXNtXG4vKipcbiAqIEBwYXJhbSBjb21wb25lbnRcbiAqIEBwYXJhbSBldmVudFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBidWJibGUoY29tcG9uZW50LCBldmVudCkge1xuXHRjb25zdCBjYWxsYmFja3MgPSBjb21wb25lbnQuJCQuY2FsbGJhY2tzW2V2ZW50LnR5cGVdO1xuXHRpZiAoY2FsbGJhY2tzKSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdGNhbGxiYWNrcy5zbGljZSgpLmZvckVhY2goKGZuKSA9PiBmbi5jYWxsKHRoaXMsIGV2ZW50KSk7XG5cdH1cbn1cbiIsImltcG9ydCB7IHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IGN1cnJlbnRfY29tcG9uZW50LCBzZXRfY3VycmVudF9jb21wb25lbnQgfSBmcm9tICcuL2xpZmVjeWNsZS5qcyc7XG5cbmV4cG9ydCBjb25zdCBkaXJ0eV9jb21wb25lbnRzID0gW107XG5leHBvcnQgY29uc3QgaW50cm9zID0geyBlbmFibGVkOiBmYWxzZSB9O1xuZXhwb3J0IGNvbnN0IGJpbmRpbmdfY2FsbGJhY2tzID0gW107XG5cbmxldCByZW5kZXJfY2FsbGJhY2tzID0gW107XG5cbmNvbnN0IGZsdXNoX2NhbGxiYWNrcyA9IFtdO1xuXG5jb25zdCByZXNvbHZlZF9wcm9taXNlID0gLyogQF9fUFVSRV9fICovIFByb21pc2UucmVzb2x2ZSgpO1xuXG5sZXQgdXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gc2NoZWR1bGVfdXBkYXRlKCkge1xuXHRpZiAoIXVwZGF0ZV9zY2hlZHVsZWQpIHtcblx0XHR1cGRhdGVfc2NoZWR1bGVkID0gdHJ1ZTtcblx0XHRyZXNvbHZlZF9wcm9taXNlLnRoZW4oZmx1c2gpO1xuXHR9XG59XG5cbi8qKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn0gKi9cbmV4cG9ydCBmdW5jdGlvbiB0aWNrKCkge1xuXHRzY2hlZHVsZV91cGRhdGUoKTtcblx0cmV0dXJuIHJlc29sdmVkX3Byb21pc2U7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfcmVuZGVyX2NhbGxiYWNrKGZuKSB7XG5cdHJlbmRlcl9jYWxsYmFja3MucHVzaChmbik7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBhZGRfZmx1c2hfY2FsbGJhY2soZm4pIHtcblx0Zmx1c2hfY2FsbGJhY2tzLnB1c2goZm4pO1xufVxuXG4vLyBmbHVzaCgpIGNhbGxzIGNhbGxiYWNrcyBpbiB0aGlzIG9yZGVyOlxuLy8gMS4gQWxsIGJlZm9yZVVwZGF0ZSBjYWxsYmFja3MsIGluIG9yZGVyOiBwYXJlbnRzIGJlZm9yZSBjaGlsZHJlblxuLy8gMi4gQWxsIGJpbmQ6dGhpcyBjYWxsYmFja3MsIGluIHJldmVyc2Ugb3JkZXI6IGNoaWxkcmVuIGJlZm9yZSBwYXJlbnRzLlxuLy8gMy4gQWxsIGFmdGVyVXBkYXRlIGNhbGxiYWNrcywgaW4gb3JkZXI6IHBhcmVudHMgYmVmb3JlIGNoaWxkcmVuLiBFWENFUFRcbi8vICAgIGZvciBhZnRlclVwZGF0ZXMgY2FsbGVkIGR1cmluZyB0aGUgaW5pdGlhbCBvbk1vdW50LCB3aGljaCBhcmUgY2FsbGVkIGluXG4vLyAgICByZXZlcnNlIG9yZGVyOiBjaGlsZHJlbiBiZWZvcmUgcGFyZW50cy5cbi8vIFNpbmNlIGNhbGxiYWNrcyBtaWdodCB1cGRhdGUgY29tcG9uZW50IHZhbHVlcywgd2hpY2ggY291bGQgdHJpZ2dlciBhbm90aGVyXG4vLyBjYWxsIHRvIGZsdXNoKCksIHRoZSBmb2xsb3dpbmcgc3RlcHMgZ3VhcmQgYWdhaW5zdCB0aGlzOlxuLy8gMS4gRHVyaW5nIGJlZm9yZVVwZGF0ZSwgYW55IHVwZGF0ZWQgY29tcG9uZW50cyB3aWxsIGJlIGFkZGVkIHRvIHRoZVxuLy8gICAgZGlydHlfY29tcG9uZW50cyBhcnJheSBhbmQgd2lsbCBjYXVzZSBhIHJlZW50cmFudCBjYWxsIHRvIGZsdXNoKCkuIEJlY2F1c2Vcbi8vICAgIHRoZSBmbHVzaCBpbmRleCBpcyBrZXB0IG91dHNpZGUgdGhlIGZ1bmN0aW9uLCB0aGUgcmVlbnRyYW50IGNhbGwgd2lsbCBwaWNrXG4vLyAgICB1cCB3aGVyZSB0aGUgZWFybGllciBjYWxsIGxlZnQgb2ZmIGFuZCBnbyB0aHJvdWdoIGFsbCBkaXJ0eSBjb21wb25lbnRzLiBUaGVcbi8vICAgIGN1cnJlbnRfY29tcG9uZW50IHZhbHVlIGlzIHNhdmVkIGFuZCByZXN0b3JlZCBzbyB0aGF0IHRoZSByZWVudHJhbnQgY2FsbCB3aWxsXG4vLyAgICBub3QgaW50ZXJmZXJlIHdpdGggdGhlIFwicGFyZW50XCIgZmx1c2goKSBjYWxsLlxuLy8gMi4gYmluZDp0aGlzIGNhbGxiYWNrcyBjYW5ub3QgdHJpZ2dlciBuZXcgZmx1c2goKSBjYWxscy5cbi8vIDMuIER1cmluZyBhZnRlclVwZGF0ZSwgYW55IHVwZGF0ZWQgY29tcG9uZW50cyB3aWxsIE5PVCBoYXZlIHRoZWlyIGFmdGVyVXBkYXRlXG4vLyAgICBjYWxsYmFjayBjYWxsZWQgYSBzZWNvbmQgdGltZTsgdGhlIHNlZW5fY2FsbGJhY2tzIHNldCwgb3V0c2lkZSB0aGUgZmx1c2goKVxuLy8gICAgZnVuY3Rpb24sIGd1YXJhbnRlZXMgdGhpcyBiZWhhdmlvci5cbmNvbnN0IHNlZW5fY2FsbGJhY2tzID0gbmV3IFNldCgpO1xuXG5sZXQgZmx1c2hpZHggPSAwOyAvLyBEbyAqbm90KiBtb3ZlIHRoaXMgaW5zaWRlIHRoZSBmbHVzaCgpIGZ1bmN0aW9uXG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBmbHVzaCgpIHtcblx0Ly8gRG8gbm90IHJlZW50ZXIgZmx1c2ggd2hpbGUgZGlydHkgY29tcG9uZW50cyBhcmUgdXBkYXRlZCwgYXMgdGhpcyBjYW5cblx0Ly8gcmVzdWx0IGluIGFuIGluZmluaXRlIGxvb3AuIEluc3RlYWQsIGxldCB0aGUgaW5uZXIgZmx1c2ggaGFuZGxlIGl0LlxuXHQvLyBSZWVudHJhbmN5IGlzIG9rIGFmdGVyd2FyZHMgZm9yIGJpbmRpbmdzIGV0Yy5cblx0aWYgKGZsdXNoaWR4ICE9PSAwKSB7XG5cdFx0cmV0dXJuO1xuXHR9XG5cdGNvbnN0IHNhdmVkX2NvbXBvbmVudCA9IGN1cnJlbnRfY29tcG9uZW50O1xuXHRkbyB7XG5cdFx0Ly8gZmlyc3QsIGNhbGwgYmVmb3JlVXBkYXRlIGZ1bmN0aW9uc1xuXHRcdC8vIGFuZCB1cGRhdGUgY29tcG9uZW50c1xuXHRcdHRyeSB7XG5cdFx0XHR3aGlsZSAoZmx1c2hpZHggPCBkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCkge1xuXHRcdFx0XHRjb25zdCBjb21wb25lbnQgPSBkaXJ0eV9jb21wb25lbnRzW2ZsdXNoaWR4XTtcblx0XHRcdFx0Zmx1c2hpZHgrKztcblx0XHRcdFx0c2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCk7XG5cdFx0XHRcdHVwZGF0ZShjb21wb25lbnQuJCQpO1xuXHRcdFx0fVxuXHRcdH0gY2F0Y2ggKGUpIHtcblx0XHRcdC8vIHJlc2V0IGRpcnR5IHN0YXRlIHRvIG5vdCBlbmQgdXAgaW4gYSBkZWFkbG9ja2VkIHN0YXRlIGFuZCB0aGVuIHJldGhyb3dcblx0XHRcdGRpcnR5X2NvbXBvbmVudHMubGVuZ3RoID0gMDtcblx0XHRcdGZsdXNoaWR4ID0gMDtcblx0XHRcdHRocm93IGU7XG5cdFx0fVxuXHRcdHNldF9jdXJyZW50X2NvbXBvbmVudChudWxsKTtcblx0XHRkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCA9IDA7XG5cdFx0Zmx1c2hpZHggPSAwO1xuXHRcdHdoaWxlIChiaW5kaW5nX2NhbGxiYWNrcy5sZW5ndGgpIGJpbmRpbmdfY2FsbGJhY2tzLnBvcCgpKCk7XG5cdFx0Ly8gdGhlbiwgb25jZSBjb21wb25lbnRzIGFyZSB1cGRhdGVkLCBjYWxsXG5cdFx0Ly8gYWZ0ZXJVcGRhdGUgZnVuY3Rpb25zLiBUaGlzIG1heSBjYXVzZVxuXHRcdC8vIHN1YnNlcXVlbnQgdXBkYXRlcy4uLlxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcmVuZGVyX2NhbGxiYWNrcy5sZW5ndGg7IGkgKz0gMSkge1xuXHRcdFx0Y29uc3QgY2FsbGJhY2sgPSByZW5kZXJfY2FsbGJhY2tzW2ldO1xuXHRcdFx0aWYgKCFzZWVuX2NhbGxiYWNrcy5oYXMoY2FsbGJhY2spKSB7XG5cdFx0XHRcdC8vIC4uLnNvIGd1YXJkIGFnYWluc3QgaW5maW5pdGUgbG9vcHNcblx0XHRcdFx0c2Vlbl9jYWxsYmFja3MuYWRkKGNhbGxiYWNrKTtcblx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdH1cblx0XHR9XG5cdFx0cmVuZGVyX2NhbGxiYWNrcy5sZW5ndGggPSAwO1xuXHR9IHdoaWxlIChkaXJ0eV9jb21wb25lbnRzLmxlbmd0aCk7XG5cdHdoaWxlIChmbHVzaF9jYWxsYmFja3MubGVuZ3RoKSB7XG5cdFx0Zmx1c2hfY2FsbGJhY2tzLnBvcCgpKCk7XG5cdH1cblx0dXBkYXRlX3NjaGVkdWxlZCA9IGZhbHNlO1xuXHRzZWVuX2NhbGxiYWNrcy5jbGVhcigpO1xuXHRzZXRfY3VycmVudF9jb21wb25lbnQoc2F2ZWRfY29tcG9uZW50KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZnVuY3Rpb24gdXBkYXRlKCQkKSB7XG5cdGlmICgkJC5mcmFnbWVudCAhPT0gbnVsbCkge1xuXHRcdCQkLnVwZGF0ZSgpO1xuXHRcdHJ1bl9hbGwoJCQuYmVmb3JlX3VwZGF0ZSk7XG5cdFx0Y29uc3QgZGlydHkgPSAkJC5kaXJ0eTtcblx0XHQkJC5kaXJ0eSA9IFstMV07XG5cdFx0JCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQucCgkJC5jdHgsIGRpcnR5KTtcblx0XHQkJC5hZnRlcl91cGRhdGUuZm9yRWFjaChhZGRfcmVuZGVyX2NhbGxiYWNrKTtcblx0fVxufVxuXG4vKipcbiAqIFVzZWZ1bCBmb3IgZXhhbXBsZSB0byBleGVjdXRlIHJlbWFpbmluZyBgYWZ0ZXJVcGRhdGVgIGNhbGxiYWNrcyBiZWZvcmUgZXhlY3V0aW5nIGBkZXN0cm95YC5cbiAqIEBwYXJhbSB7RnVuY3Rpb25bXX0gZm5zXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGZsdXNoX3JlbmRlcl9jYWxsYmFja3MoZm5zKSB7XG5cdGNvbnN0IGZpbHRlcmVkID0gW107XG5cdGNvbnN0IHRhcmdldHMgPSBbXTtcblx0cmVuZGVyX2NhbGxiYWNrcy5mb3JFYWNoKChjKSA9PiAoZm5zLmluZGV4T2YoYykgPT09IC0xID8gZmlsdGVyZWQucHVzaChjKSA6IHRhcmdldHMucHVzaChjKSkpO1xuXHR0YXJnZXRzLmZvckVhY2goKGMpID0+IGMoKSk7XG5cdHJlbmRlcl9jYWxsYmFja3MgPSBmaWx0ZXJlZDtcbn1cbiIsImltcG9ydCB7IGlkZW50aXR5IGFzIGxpbmVhciwgaXNfZnVuY3Rpb24sIG5vb3AsIHJ1bl9hbGwgfSBmcm9tICcuL3V0aWxzLmpzJztcbmltcG9ydCB7IG5vdyB9IGZyb20gJy4vZW52aXJvbm1lbnQuanMnO1xuaW1wb3J0IHsgbG9vcCB9IGZyb20gJy4vbG9vcC5qcyc7XG5pbXBvcnQgeyBjcmVhdGVfcnVsZSwgZGVsZXRlX3J1bGUgfSBmcm9tICcuL3N0eWxlX21hbmFnZXIuanMnO1xuaW1wb3J0IHsgY3VzdG9tX2V2ZW50IH0gZnJvbSAnLi9kb20uanMnO1xuaW1wb3J0IHsgYWRkX3JlbmRlcl9jYWxsYmFjayB9IGZyb20gJy4vc2NoZWR1bGVyLmpzJztcblxuLyoqXG4gKiBAdHlwZSB7UHJvbWlzZTx2b2lkPiB8IG51bGx9XG4gKi9cbmxldCBwcm9taXNlO1xuXG4vKipcbiAqIEByZXR1cm5zIHtQcm9taXNlPHZvaWQ+fVxuICovXG5mdW5jdGlvbiB3YWl0KCkge1xuXHRpZiAoIXByb21pc2UpIHtcblx0XHRwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cdFx0cHJvbWlzZS50aGVuKCgpID0+IHtcblx0XHRcdHByb21pc2UgPSBudWxsO1xuXHRcdH0pO1xuXHR9XG5cdHJldHVybiBwcm9taXNlO1xufVxuXG4vKipcbiAqIEBwYXJhbSB7RWxlbWVudH0gbm9kZVxuICogQHBhcmFtIHtJTlRSTyB8IE9VVFJPIHwgYm9vbGVhbn0gZGlyZWN0aW9uXG4gKiBAcGFyYW0geydzdGFydCcgfCAnZW5kJ30ga2luZFxuICogQHJldHVybnMge3ZvaWR9XG4gKi9cbmZ1bmN0aW9uIGRpc3BhdGNoKG5vZGUsIGRpcmVjdGlvbiwga2luZCkge1xuXHRub2RlLmRpc3BhdGNoRXZlbnQoY3VzdG9tX2V2ZW50KGAke2RpcmVjdGlvbiA/ICdpbnRybycgOiAnb3V0cm8nfSR7a2luZH1gKSk7XG59XG5cbmNvbnN0IG91dHJvaW5nID0gbmV3IFNldCgpO1xuXG4vKipcbiAqIEB0eXBlIHtPdXRyb31cbiAqL1xubGV0IG91dHJvcztcblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBncm91cF9vdXRyb3MoKSB7XG5cdG91dHJvcyA9IHtcblx0XHRyOiAwLFxuXHRcdGM6IFtdLFxuXHRcdHA6IG91dHJvcyAvLyBwYXJlbnQgZ3JvdXBcblx0fTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGVja19vdXRyb3MoKSB7XG5cdGlmICghb3V0cm9zLnIpIHtcblx0XHRydW5fYWxsKG91dHJvcy5jKTtcblx0fVxuXHRvdXRyb3MgPSBvdXRyb3MucDtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuRnJhZ21lbnR9IGJsb2NrXG4gKiBAcGFyYW0gezAgfCAxfSBbbG9jYWxdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zaXRpb25faW4oYmxvY2ssIGxvY2FsKSB7XG5cdGlmIChibG9jayAmJiBibG9jay5pKSB7XG5cdFx0b3V0cm9pbmcuZGVsZXRlKGJsb2NrKTtcblx0XHRibG9jay5pKGxvY2FsKTtcblx0fVxufVxuXG4vKipcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5GcmFnbWVudH0gYmxvY2tcbiAqIEBwYXJhbSB7MCB8IDF9IGxvY2FsXG4gKiBAcGFyYW0gezAgfCAxfSBbZGV0YWNoXVxuICogQHBhcmFtIHsoKSA9PiB2b2lkfSBbY2FsbGJhY2tdXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zaXRpb25fb3V0KGJsb2NrLCBsb2NhbCwgZGV0YWNoLCBjYWxsYmFjaykge1xuXHRpZiAoYmxvY2sgJiYgYmxvY2subykge1xuXHRcdGlmIChvdXRyb2luZy5oYXMoYmxvY2spKSByZXR1cm47XG5cdFx0b3V0cm9pbmcuYWRkKGJsb2NrKTtcblx0XHRvdXRyb3MuYy5wdXNoKCgpID0+IHtcblx0XHRcdG91dHJvaW5nLmRlbGV0ZShibG9jayk7XG5cdFx0XHRpZiAoY2FsbGJhY2spIHtcblx0XHRcdFx0aWYgKGRldGFjaCkgYmxvY2suZCgxKTtcblx0XHRcdFx0Y2FsbGJhY2soKTtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRibG9jay5vKGxvY2FsKTtcblx0fSBlbHNlIGlmIChjYWxsYmFjaykge1xuXHRcdGNhbGxiYWNrKCk7XG5cdH1cbn1cblxuLyoqXG4gKiBAdHlwZSB7aW1wb3J0KCcuLi90cmFuc2l0aW9uL3B1YmxpYy5qcycpLlRyYW5zaXRpb25Db25maWd9XG4gKi9cbmNvbnN0IG51bGxfdHJhbnNpdGlvbiA9IHsgZHVyYXRpb246IDAgfTtcblxuLyoqXG4gKiBAcGFyYW0ge0VsZW1lbnQgJiBFbGVtZW50Q1NTSW5saW5lU3R5bGV9IG5vZGVcbiAqIEBwYXJhbSB7VHJhbnNpdGlvbkZufSBmblxuICogQHBhcmFtIHthbnl9IHBhcmFtc1xuICogQHJldHVybnMge3sgc3RhcnQoKTogdm9pZDsgaW52YWxpZGF0ZSgpOiB2b2lkOyBlbmQoKTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9pbl90cmFuc2l0aW9uKG5vZGUsIGZuLCBwYXJhbXMpIHtcblx0LyoqXG5cdCAqIEB0eXBlIHtUcmFuc2l0aW9uT3B0aW9uc30gKi9cblx0Y29uc3Qgb3B0aW9ucyA9IHsgZGlyZWN0aW9uOiAnaW4nIH07XG5cdGxldCBjb25maWcgPSBmbihub2RlLCBwYXJhbXMsIG9wdGlvbnMpO1xuXHRsZXQgcnVubmluZyA9IGZhbHNlO1xuXHRsZXQgYW5pbWF0aW9uX25hbWU7XG5cdGxldCB0YXNrO1xuXHRsZXQgdWlkID0gMDtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGNsZWFudXAoKSB7XG5cdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdH1cblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGdvKCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblx0XHRpZiAoY3NzKSBhbmltYXRpb25fbmFtZSA9IGNyZWF0ZV9ydWxlKG5vZGUsIDAsIDEsIGR1cmF0aW9uLCBkZWxheSwgZWFzaW5nLCBjc3MsIHVpZCsrKTtcblx0XHR0aWNrKDAsIDEpO1xuXHRcdGNvbnN0IHN0YXJ0X3RpbWUgPSBub3coKSArIGRlbGF5O1xuXHRcdGNvbnN0IGVuZF90aW1lID0gc3RhcnRfdGltZSArIGR1cmF0aW9uO1xuXHRcdGlmICh0YXNrKSB0YXNrLmFib3J0KCk7XG5cdFx0cnVubmluZyA9IHRydWU7XG5cdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCB0cnVlLCAnc3RhcnQnKSk7XG5cdFx0dGFzayA9IGxvb3AoKG5vdykgPT4ge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKG5vdyA+PSBlbmRfdGltZSkge1xuXHRcdFx0XHRcdHRpY2soMSwgMCk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgdHJ1ZSwgJ2VuZCcpO1xuXHRcdFx0XHRcdGNsZWFudXAoKTtcblx0XHRcdFx0XHRyZXR1cm4gKHJ1bm5pbmcgPSBmYWxzZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKG5vdyA+PSBzdGFydF90aW1lKSB7XG5cdFx0XHRcdFx0Y29uc3QgdCA9IGVhc2luZygobm93IC0gc3RhcnRfdGltZSkgLyBkdXJhdGlvbik7XG5cdFx0XHRcdFx0dGljayh0LCAxIC0gdCk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBydW5uaW5nO1xuXHRcdH0pO1xuXHR9XG5cdGxldCBzdGFydGVkID0gZmFsc2U7XG5cdHJldHVybiB7XG5cdFx0c3RhcnQoKSB7XG5cdFx0XHRpZiAoc3RhcnRlZCkgcmV0dXJuO1xuXHRcdFx0c3RhcnRlZCA9IHRydWU7XG5cdFx0XHRkZWxldGVfcnVsZShub2RlKTtcblx0XHRcdGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG5cdFx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRpb25zKTtcblx0XHRcdFx0d2FpdCgpLnRoZW4oZ28pO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Z28oKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGludmFsaWRhdGUoKSB7XG5cdFx0XHRzdGFydGVkID0gZmFsc2U7XG5cdFx0fSxcblx0XHRlbmQoKSB7XG5cdFx0XHRpZiAocnVubmluZykge1xuXHRcdFx0XHRjbGVhbnVwKCk7XG5cdFx0XHRcdHJ1bm5pbmcgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEByZXR1cm5zIHt7IGVuZChyZXNldDogYW55KTogdm9pZDsgfX1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9vdXRfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zKSB7XG5cdC8qKiBAdHlwZSB7VHJhbnNpdGlvbk9wdGlvbnN9ICovXG5cdGNvbnN0IG9wdGlvbnMgPSB7IGRpcmVjdGlvbjogJ291dCcgfTtcblx0bGV0IGNvbmZpZyA9IGZuKG5vZGUsIHBhcmFtcywgb3B0aW9ucyk7XG5cdGxldCBydW5uaW5nID0gdHJ1ZTtcblx0bGV0IGFuaW1hdGlvbl9uYW1lO1xuXHRjb25zdCBncm91cCA9IG91dHJvcztcblx0Z3JvdXAuciArPSAxO1xuXHQvKiogQHR5cGUge2Jvb2xlYW59ICovXG5cdGxldCBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGdvKCkge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblxuXHRcdGlmIChjc3MpIGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgMSwgMCwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG5cblx0XHRjb25zdCBzdGFydF90aW1lID0gbm93KCkgKyBkZWxheTtcblx0XHRjb25zdCBlbmRfdGltZSA9IHN0YXJ0X3RpbWUgKyBkdXJhdGlvbjtcblx0XHRhZGRfcmVuZGVyX2NhbGxiYWNrKCgpID0+IGRpc3BhdGNoKG5vZGUsIGZhbHNlLCAnc3RhcnQnKSk7XG5cblx0XHRpZiAoJ2luZXJ0JyBpbiBub2RlKSB7XG5cdFx0XHRvcmlnaW5hbF9pbmVydF92YWx1ZSA9IC8qKiBAdHlwZSB7SFRNTEVsZW1lbnR9ICovIChub2RlKS5pbmVydDtcblx0XHRcdG5vZGUuaW5lcnQgPSB0cnVlO1xuXHRcdH1cblxuXHRcdGxvb3AoKG5vdykgPT4ge1xuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKG5vdyA+PSBlbmRfdGltZSkge1xuXHRcdFx0XHRcdHRpY2soMCwgMSk7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgZmFsc2UsICdlbmQnKTtcblx0XHRcdFx0XHRpZiAoIS0tZ3JvdXAucikge1xuXHRcdFx0XHRcdFx0Ly8gdGhpcyB3aWxsIHJlc3VsdCBpbiBgZW5kKClgIGJlaW5nIGNhbGxlZCxcblx0XHRcdFx0XHRcdC8vIHNvIHdlIGRvbid0IG5lZWQgdG8gY2xlYW4gdXAgaGVyZVxuXHRcdFx0XHRcdFx0cnVuX2FsbChncm91cC5jKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChub3cgPj0gc3RhcnRfdGltZSkge1xuXHRcdFx0XHRcdGNvbnN0IHQgPSBlYXNpbmcoKG5vdyAtIHN0YXJ0X3RpbWUpIC8gZHVyYXRpb24pO1xuXHRcdFx0XHRcdHRpY2soMSAtIHQsIHQpO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gcnVubmluZztcblx0XHR9KTtcblx0fVxuXG5cdGlmIChpc19mdW5jdGlvbihjb25maWcpKSB7XG5cdFx0d2FpdCgpLnRoZW4oKCkgPT4ge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0Y29uZmlnID0gY29uZmlnKG9wdGlvbnMpO1xuXHRcdFx0Z28oKTtcblx0XHR9KTtcblx0fSBlbHNlIHtcblx0XHRnbygpO1xuXHR9XG5cblx0cmV0dXJuIHtcblx0XHRlbmQocmVzZXQpIHtcblx0XHRcdGlmIChyZXNldCAmJiAnaW5lcnQnIGluIG5vZGUpIHtcblx0XHRcdFx0bm9kZS5pbmVydCA9IG9yaWdpbmFsX2luZXJ0X3ZhbHVlO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHJlc2V0ICYmIGNvbmZpZy50aWNrKSB7XG5cdFx0XHRcdGNvbmZpZy50aWNrKDEsIDApO1xuXHRcdFx0fVxuXHRcdFx0aWYgKHJ1bm5pbmcpIHtcblx0XHRcdFx0aWYgKGFuaW1hdGlvbl9uYW1lKSBkZWxldGVfcnVsZShub2RlLCBhbmltYXRpb25fbmFtZSk7XG5cdFx0XHRcdHJ1bm5pbmcgPSBmYWxzZTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG59XG5cbi8qKlxuICogQHBhcmFtIHtFbGVtZW50ICYgRWxlbWVudENTU0lubGluZVN0eWxlfSBub2RlXG4gKiBAcGFyYW0ge1RyYW5zaXRpb25Gbn0gZm5cbiAqIEBwYXJhbSB7YW55fSBwYXJhbXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gaW50cm9cbiAqIEByZXR1cm5zIHt7IHJ1bihiOiAwIHwgMSk6IHZvaWQ7IGVuZCgpOiB2b2lkOyB9fVxuICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2JpZGlyZWN0aW9uYWxfdHJhbnNpdGlvbihub2RlLCBmbiwgcGFyYW1zLCBpbnRybykge1xuXHQvKipcblx0ICogQHR5cGUge1RyYW5zaXRpb25PcHRpb25zfSAqL1xuXHRjb25zdCBvcHRpb25zID0geyBkaXJlY3Rpb246ICdib3RoJyB9O1xuXHRsZXQgY29uZmlnID0gZm4obm9kZSwgcGFyYW1zLCBvcHRpb25zKTtcblx0bGV0IHQgPSBpbnRybyA/IDAgOiAxO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7UHJvZ3JhbSB8IG51bGx9ICovXG5cdGxldCBydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuXG5cdC8qKlxuXHQgKiBAdHlwZSB7UGVuZGluZ1Byb2dyYW0gfCBudWxsfSAqL1xuXHRsZXQgcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcblx0bGV0IGFuaW1hdGlvbl9uYW1lID0gbnVsbDtcblxuXHQvKiogQHR5cGUge2Jvb2xlYW59ICovXG5cdGxldCBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblxuXHQvKipcblx0ICogQHJldHVybnMge3ZvaWR9ICovXG5cdGZ1bmN0aW9uIGNsZWFyX2FuaW1hdGlvbigpIHtcblx0XHRpZiAoYW5pbWF0aW9uX25hbWUpIGRlbGV0ZV9ydWxlKG5vZGUsIGFuaW1hdGlvbl9uYW1lKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge1BlbmRpbmdQcm9ncmFtfSBwcm9ncmFtXG5cdCAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvblxuXHQgKiBAcmV0dXJucyB7UHJvZ3JhbX1cblx0ICovXG5cdGZ1bmN0aW9uIGluaXQocHJvZ3JhbSwgZHVyYXRpb24pIHtcblx0XHRjb25zdCBkID0gLyoqIEB0eXBlIHtQcm9ncmFtWydkJ119ICovIChwcm9ncmFtLmIgLSB0KTtcblx0XHRkdXJhdGlvbiAqPSBNYXRoLmFicyhkKTtcblx0XHRyZXR1cm4ge1xuXHRcdFx0YTogdCxcblx0XHRcdGI6IHByb2dyYW0uYixcblx0XHRcdGQsXG5cdFx0XHRkdXJhdGlvbixcblx0XHRcdHN0YXJ0OiBwcm9ncmFtLnN0YXJ0LFxuXHRcdFx0ZW5kOiBwcm9ncmFtLnN0YXJ0ICsgZHVyYXRpb24sXG5cdFx0XHRncm91cDogcHJvZ3JhbS5ncm91cFxuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtJTlRSTyB8IE9VVFJPfSBiXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0ZnVuY3Rpb24gZ28oYikge1xuXHRcdGNvbnN0IHtcblx0XHRcdGRlbGF5ID0gMCxcblx0XHRcdGR1cmF0aW9uID0gMzAwLFxuXHRcdFx0ZWFzaW5nID0gbGluZWFyLFxuXHRcdFx0dGljayA9IG5vb3AsXG5cdFx0XHRjc3Ncblx0XHR9ID0gY29uZmlnIHx8IG51bGxfdHJhbnNpdGlvbjtcblxuXHRcdC8qKlxuXHRcdCAqIEB0eXBlIHtQZW5kaW5nUHJvZ3JhbX0gKi9cblx0XHRjb25zdCBwcm9ncmFtID0ge1xuXHRcdFx0c3RhcnQ6IG5vdygpICsgZGVsYXksXG5cdFx0XHRiXG5cdFx0fTtcblxuXHRcdGlmICghYikge1xuXHRcdFx0Ly8gQHRzLWlnbm9yZSB0b2RvOiBpbXByb3ZlIHR5cGluZ3Ncblx0XHRcdHByb2dyYW0uZ3JvdXAgPSBvdXRyb3M7XG5cdFx0XHRvdXRyb3MuciArPSAxO1xuXHRcdH1cblxuXHRcdGlmICgnaW5lcnQnIGluIG5vZGUpIHtcblx0XHRcdGlmIChiKSB7XG5cdFx0XHRcdGlmIChvcmlnaW5hbF9pbmVydF92YWx1ZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0XHRcdFx0Ly8gYWJvcnRlZC9yZXZlcnNlZCBvdXRybyDigJQgcmVzdG9yZSBwcmV2aW91cyBpbmVydCB2YWx1ZVxuXHRcdFx0XHRcdG5vZGUuaW5lcnQgPSBvcmlnaW5hbF9pbmVydF92YWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0b3JpZ2luYWxfaW5lcnRfdmFsdWUgPSAvKiogQHR5cGUge0hUTUxFbGVtZW50fSAqLyAobm9kZSkuaW5lcnQ7XG5cdFx0XHRcdG5vZGUuaW5lcnQgPSB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGlmIChydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKSB7XG5cdFx0XHRwZW5kaW5nX3Byb2dyYW0gPSBwcm9ncmFtO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHQvLyBpZiB0aGlzIGlzIGFuIGludHJvLCBhbmQgdGhlcmUncyBhIGRlbGF5LCB3ZSBuZWVkIHRvIGRvXG5cdFx0XHQvLyBhbiBpbml0aWFsIHRpY2sgYW5kL29yIGFwcGx5IENTUyBhbmltYXRpb24gaW1tZWRpYXRlbHlcblx0XHRcdGlmIChjc3MpIHtcblx0XHRcdFx0Y2xlYXJfYW5pbWF0aW9uKCk7XG5cdFx0XHRcdGFuaW1hdGlvbl9uYW1lID0gY3JlYXRlX3J1bGUobm9kZSwgdCwgYiwgZHVyYXRpb24sIGRlbGF5LCBlYXNpbmcsIGNzcyk7XG5cdFx0XHR9XG5cdFx0XHRpZiAoYikgdGljaygwLCAxKTtcblx0XHRcdHJ1bm5pbmdfcHJvZ3JhbSA9IGluaXQocHJvZ3JhbSwgZHVyYXRpb24pO1xuXHRcdFx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiBkaXNwYXRjaChub2RlLCBiLCAnc3RhcnQnKSk7XG5cdFx0XHRsb29wKChub3cpID0+IHtcblx0XHRcdFx0aWYgKHBlbmRpbmdfcHJvZ3JhbSAmJiBub3cgPiBwZW5kaW5nX3Byb2dyYW0uc3RhcnQpIHtcblx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBpbml0KHBlbmRpbmdfcHJvZ3JhbSwgZHVyYXRpb24pO1xuXHRcdFx0XHRcdHBlbmRpbmdfcHJvZ3JhbSA9IG51bGw7XG5cdFx0XHRcdFx0ZGlzcGF0Y2gobm9kZSwgcnVubmluZ19wcm9ncmFtLmIsICdzdGFydCcpO1xuXHRcdFx0XHRcdGlmIChjc3MpIHtcblx0XHRcdFx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0XHRcdFx0YW5pbWF0aW9uX25hbWUgPSBjcmVhdGVfcnVsZShcblx0XHRcdFx0XHRcdFx0bm9kZSxcblx0XHRcdFx0XHRcdFx0dCxcblx0XHRcdFx0XHRcdFx0cnVubmluZ19wcm9ncmFtLmIsXG5cdFx0XHRcdFx0XHRcdHJ1bm5pbmdfcHJvZ3JhbS5kdXJhdGlvbixcblx0XHRcdFx0XHRcdFx0MCxcblx0XHRcdFx0XHRcdFx0ZWFzaW5nLFxuXHRcdFx0XHRcdFx0XHRjb25maWcuY3NzXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAocnVubmluZ19wcm9ncmFtKSB7XG5cdFx0XHRcdFx0aWYgKG5vdyA+PSBydW5uaW5nX3Byb2dyYW0uZW5kKSB7XG5cdFx0XHRcdFx0XHR0aWNrKCh0ID0gcnVubmluZ19wcm9ncmFtLmIpLCAxIC0gdCk7XG5cdFx0XHRcdFx0XHRkaXNwYXRjaChub2RlLCBydW5uaW5nX3Byb2dyYW0uYiwgJ2VuZCcpO1xuXHRcdFx0XHRcdFx0aWYgKCFwZW5kaW5nX3Byb2dyYW0pIHtcblx0XHRcdFx0XHRcdFx0Ly8gd2UncmUgZG9uZVxuXHRcdFx0XHRcdFx0XHRpZiAocnVubmluZ19wcm9ncmFtLmIpIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBpbnRybyDigJQgd2UgY2FuIHRpZHkgdXAgaW1tZWRpYXRlbHlcblx0XHRcdFx0XHRcdFx0XHRjbGVhcl9hbmltYXRpb24oKTtcblx0XHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0XHQvLyBvdXRybyDigJQgbmVlZHMgdG8gYmUgY29vcmRpbmF0ZWRcblx0XHRcdFx0XHRcdFx0XHRpZiAoIS0tcnVubmluZ19wcm9ncmFtLmdyb3VwLnIpIHJ1bl9hbGwocnVubmluZ19wcm9ncmFtLmdyb3VwLmMpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRydW5uaW5nX3Byb2dyYW0gPSBudWxsO1xuXHRcdFx0XHRcdH0gZWxzZSBpZiAobm93ID49IHJ1bm5pbmdfcHJvZ3JhbS5zdGFydCkge1xuXHRcdFx0XHRcdFx0Y29uc3QgcCA9IG5vdyAtIHJ1bm5pbmdfcHJvZ3JhbS5zdGFydDtcblx0XHRcdFx0XHRcdHQgPSBydW5uaW5nX3Byb2dyYW0uYSArIHJ1bm5pbmdfcHJvZ3JhbS5kICogZWFzaW5nKHAgLyBydW5uaW5nX3Byb2dyYW0uZHVyYXRpb24pO1xuXHRcdFx0XHRcdFx0dGljayh0LCAxIC0gdCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiAhIShydW5uaW5nX3Byb2dyYW0gfHwgcGVuZGluZ19wcm9ncmFtKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHJ1bihiKSB7XG5cdFx0XHRpZiAoaXNfZnVuY3Rpb24oY29uZmlnKSkge1xuXHRcdFx0XHR3YWl0KCkudGhlbigoKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3Qgb3B0cyA9IHsgZGlyZWN0aW9uOiBiID8gJ2luJyA6ICdvdXQnIH07XG5cdFx0XHRcdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdFx0XHRcdGNvbmZpZyA9IGNvbmZpZyhvcHRzKTtcblx0XHRcdFx0XHRnbyhiKTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRnbyhiKTtcblx0XHRcdH1cblx0XHR9LFxuXHRcdGVuZCgpIHtcblx0XHRcdGNsZWFyX2FuaW1hdGlvbigpO1xuXHRcdFx0cnVubmluZ19wcm9ncmFtID0gcGVuZGluZ19wcm9ncmFtID0gbnVsbDtcblx0XHR9XG5cdH07XG59XG5cbi8qKiBAdHlwZWRlZiB7MX0gSU5UUk8gKi9cbi8qKiBAdHlwZWRlZiB7MH0gT1VUUk8gKi9cbi8qKiBAdHlwZWRlZiB7eyBkaXJlY3Rpb246ICdpbicgfCAnb3V0JyB8ICdib3RoJyB9fSBUcmFuc2l0aW9uT3B0aW9ucyAqL1xuLyoqIEB0eXBlZGVmIHsobm9kZTogRWxlbWVudCwgcGFyYW1zOiBhbnksIG9wdGlvbnM6IFRyYW5zaXRpb25PcHRpb25zKSA9PiBpbXBvcnQoJy4uL3RyYW5zaXRpb24vcHVibGljLmpzJykuVHJhbnNpdGlvbkNvbmZpZ30gVHJhbnNpdGlvbkZuICovXG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gT3V0cm9cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSByXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uW119IGNcbiAqIEBwcm9wZXJ0eSB7T2JqZWN0fSBwXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQZW5kaW5nUHJvZ3JhbVxuICogQHByb3BlcnR5IHtudW1iZXJ9IHN0YXJ0XG4gKiBAcHJvcGVydHkge0lOVFJPfE9VVFJPfSBiXG4gKiBAcHJvcGVydHkge091dHJvfSBbZ3JvdXBdXG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQcm9ncmFtXG4gKiBAcHJvcGVydHkge251bWJlcn0gYVxuICogQHByb3BlcnR5IHtJTlRST3xPVVRST30gYlxuICogQHByb3BlcnR5IHsxfC0xfSBkXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHVyYXRpb25cbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzdGFydFxuICogQHByb3BlcnR5IHtudW1iZXJ9IGVuZFxuICogQHByb3BlcnR5IHtPdXRyb30gW2dyb3VwXVxuICovXG4iLCJpbXBvcnQgeyB0cmFuc2l0aW9uX2luLCB0cmFuc2l0aW9uX291dCB9IGZyb20gJy4vdHJhbnNpdGlvbnMuanMnO1xuaW1wb3J0IHsgcnVuX2FsbCB9IGZyb20gJy4vdXRpbHMuanMnO1xuXG4vLyBnZW5lcmFsIGVhY2ggZnVuY3Rpb25zOlxuXG5leHBvcnQgZnVuY3Rpb24gZW5zdXJlX2FycmF5X2xpa2UoYXJyYXlfbGlrZV9vcl9pdGVyYXRvcikge1xuXHRyZXR1cm4gYXJyYXlfbGlrZV9vcl9pdGVyYXRvcj8ubGVuZ3RoICE9PSB1bmRlZmluZWRcblx0XHQ/IGFycmF5X2xpa2Vfb3JfaXRlcmF0b3Jcblx0XHQ6IEFycmF5LmZyb20oYXJyYXlfbGlrZV9vcl9pdGVyYXRvcik7XG59XG5cbi8vIGtleWVkIGVhY2ggZnVuY3Rpb25zOlxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdGJsb2NrLmQoMSk7XG5cdGxvb2t1cC5kZWxldGUoYmxvY2sua2V5KTtcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIG91dHJvX2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0dHJhbnNpdGlvbl9vdXQoYmxvY2ssIDEsIDEsICgpID0+IHtcblx0XHRsb29rdXAuZGVsZXRlKGJsb2NrLmtleSk7XG5cdH0pO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZml4X2FuZF9kZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApIHtcblx0YmxvY2suZigpO1xuXHRkZXN0cm95X2Jsb2NrKGJsb2NrLCBsb29rdXApO1xufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gZml4X2FuZF9vdXRyb19hbmRfZGVzdHJveV9ibG9jayhibG9jaywgbG9va3VwKSB7XG5cdGJsb2NrLmYoKTtcblx0b3V0cm9fYW5kX2Rlc3Ryb3lfYmxvY2soYmxvY2ssIGxvb2t1cCk7XG59XG5cbi8qKiBAcmV0dXJucyB7YW55W119ICovXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlX2tleWVkX2VhY2goXG5cdG9sZF9ibG9ja3MsXG5cdGRpcnR5LFxuXHRnZXRfa2V5LFxuXHRkeW5hbWljLFxuXHRjdHgsXG5cdGxpc3QsXG5cdGxvb2t1cCxcblx0bm9kZSxcblx0ZGVzdHJveSxcblx0Y3JlYXRlX2VhY2hfYmxvY2ssXG5cdG5leHQsXG5cdGdldF9jb250ZXh0XG4pIHtcblx0bGV0IG8gPSBvbGRfYmxvY2tzLmxlbmd0aDtcblx0bGV0IG4gPSBsaXN0Lmxlbmd0aDtcblx0bGV0IGkgPSBvO1xuXHRjb25zdCBvbGRfaW5kZXhlcyA9IHt9O1xuXHR3aGlsZSAoaS0tKSBvbGRfaW5kZXhlc1tvbGRfYmxvY2tzW2ldLmtleV0gPSBpO1xuXHRjb25zdCBuZXdfYmxvY2tzID0gW107XG5cdGNvbnN0IG5ld19sb29rdXAgPSBuZXcgTWFwKCk7XG5cdGNvbnN0IGRlbHRhcyA9IG5ldyBNYXAoKTtcblx0Y29uc3QgdXBkYXRlcyA9IFtdO1xuXHRpID0gbjtcblx0d2hpbGUgKGktLSkge1xuXHRcdGNvbnN0IGNoaWxkX2N0eCA9IGdldF9jb250ZXh0KGN0eCwgbGlzdCwgaSk7XG5cdFx0Y29uc3Qga2V5ID0gZ2V0X2tleShjaGlsZF9jdHgpO1xuXHRcdGxldCBibG9jayA9IGxvb2t1cC5nZXQoa2V5KTtcblx0XHRpZiAoIWJsb2NrKSB7XG5cdFx0XHRibG9jayA9IGNyZWF0ZV9lYWNoX2Jsb2NrKGtleSwgY2hpbGRfY3R4KTtcblx0XHRcdGJsb2NrLmMoKTtcblx0XHR9IGVsc2UgaWYgKGR5bmFtaWMpIHtcblx0XHRcdC8vIGRlZmVyIHVwZGF0ZXMgdW50aWwgYWxsIHRoZSBET00gc2h1ZmZsaW5nIGlzIGRvbmVcblx0XHRcdHVwZGF0ZXMucHVzaCgoKSA9PiBibG9jay5wKGNoaWxkX2N0eCwgZGlydHkpKTtcblx0XHR9XG5cdFx0bmV3X2xvb2t1cC5zZXQoa2V5LCAobmV3X2Jsb2Nrc1tpXSA9IGJsb2NrKSk7XG5cdFx0aWYgKGtleSBpbiBvbGRfaW5kZXhlcykgZGVsdGFzLnNldChrZXksIE1hdGguYWJzKGkgLSBvbGRfaW5kZXhlc1trZXldKSk7XG5cdH1cblx0Y29uc3Qgd2lsbF9tb3ZlID0gbmV3IFNldCgpO1xuXHRjb25zdCBkaWRfbW92ZSA9IG5ldyBTZXQoKTtcblx0LyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHRmdW5jdGlvbiBpbnNlcnQoYmxvY2spIHtcblx0XHR0cmFuc2l0aW9uX2luKGJsb2NrLCAxKTtcblx0XHRibG9jay5tKG5vZGUsIG5leHQpO1xuXHRcdGxvb2t1cC5zZXQoYmxvY2sua2V5LCBibG9jayk7XG5cdFx0bmV4dCA9IGJsb2NrLmZpcnN0O1xuXHRcdG4tLTtcblx0fVxuXHR3aGlsZSAobyAmJiBuKSB7XG5cdFx0Y29uc3QgbmV3X2Jsb2NrID0gbmV3X2Jsb2Nrc1tuIC0gMV07XG5cdFx0Y29uc3Qgb2xkX2Jsb2NrID0gb2xkX2Jsb2Nrc1tvIC0gMV07XG5cdFx0Y29uc3QgbmV3X2tleSA9IG5ld19ibG9jay5rZXk7XG5cdFx0Y29uc3Qgb2xkX2tleSA9IG9sZF9ibG9jay5rZXk7XG5cdFx0aWYgKG5ld19ibG9jayA9PT0gb2xkX2Jsb2NrKSB7XG5cdFx0XHQvLyBkbyBub3RoaW5nXG5cdFx0XHRuZXh0ID0gbmV3X2Jsb2NrLmZpcnN0O1xuXHRcdFx0by0tO1xuXHRcdFx0bi0tO1xuXHRcdH0gZWxzZSBpZiAoIW5ld19sb29rdXAuaGFzKG9sZF9rZXkpKSB7XG5cdFx0XHQvLyByZW1vdmUgb2xkIGJsb2NrXG5cdFx0XHRkZXN0cm95KG9sZF9ibG9jaywgbG9va3VwKTtcblx0XHRcdG8tLTtcblx0XHR9IGVsc2UgaWYgKCFsb29rdXAuaGFzKG5ld19rZXkpIHx8IHdpbGxfbW92ZS5oYXMobmV3X2tleSkpIHtcblx0XHRcdGluc2VydChuZXdfYmxvY2spO1xuXHRcdH0gZWxzZSBpZiAoZGlkX21vdmUuaGFzKG9sZF9rZXkpKSB7XG5cdFx0XHRvLS07XG5cdFx0fSBlbHNlIGlmIChkZWx0YXMuZ2V0KG5ld19rZXkpID4gZGVsdGFzLmdldChvbGRfa2V5KSkge1xuXHRcdFx0ZGlkX21vdmUuYWRkKG5ld19rZXkpO1xuXHRcdFx0aW5zZXJ0KG5ld19ibG9jayk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHdpbGxfbW92ZS5hZGQob2xkX2tleSk7XG5cdFx0XHRvLS07XG5cdFx0fVxuXHR9XG5cdHdoaWxlIChvLS0pIHtcblx0XHRjb25zdCBvbGRfYmxvY2sgPSBvbGRfYmxvY2tzW29dO1xuXHRcdGlmICghbmV3X2xvb2t1cC5oYXMob2xkX2Jsb2NrLmtleSkpIGRlc3Ryb3kob2xkX2Jsb2NrLCBsb29rdXApO1xuXHR9XG5cdHdoaWxlIChuKSBpbnNlcnQobmV3X2Jsb2Nrc1tuIC0gMV0pO1xuXHRydW5fYWxsKHVwZGF0ZXMpO1xuXHRyZXR1cm4gbmV3X2Jsb2Nrcztcbn1cblxuLyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlX2VhY2hfa2V5cyhjdHgsIGxpc3QsIGdldF9jb250ZXh0LCBnZXRfa2V5KSB7XG5cdGNvbnN0IGtleXMgPSBuZXcgTWFwKCk7XG5cdGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuXHRcdGNvbnN0IGtleSA9IGdldF9rZXkoZ2V0X2NvbnRleHQoY3R4LCBsaXN0LCBpKSk7XG5cdFx0aWYgKGtleXMuaGFzKGtleSkpIHtcblx0XHRcdGxldCB2YWx1ZSA9ICcnO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0dmFsdWUgPSBgd2l0aCB2YWx1ZSAnJHtTdHJpbmcoa2V5KX0nIGA7XG5cdFx0XHR9IGNhdGNoIChlKSB7XG5cdFx0XHRcdC8vIGNhbid0IHN0cmluZ2lmeVxuXHRcdFx0fVxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFxuXHRcdFx0XHRgQ2Fubm90IGhhdmUgZHVwbGljYXRlIGtleXMgaW4gYSBrZXllZCBlYWNoOiBLZXlzIGF0IGluZGV4ICR7a2V5cy5nZXQoXG5cdFx0XHRcdFx0a2V5XG5cdFx0XHRcdCl9IGFuZCAke2l9ICR7dmFsdWV9YXJlIGR1cGxpY2F0ZXNgXG5cdFx0XHQpO1xuXHRcdH1cblx0XHRrZXlzLnNldChrZXksIGkpO1xuXHR9XG59XG4iLCJpbXBvcnQge1xuXHRhZGRfcmVuZGVyX2NhbGxiYWNrLFxuXHRmbHVzaCxcblx0Zmx1c2hfcmVuZGVyX2NhbGxiYWNrcyxcblx0c2NoZWR1bGVfdXBkYXRlLFxuXHRkaXJ0eV9jb21wb25lbnRzXG59IGZyb20gJy4vc2NoZWR1bGVyLmpzJztcbmltcG9ydCB7IGN1cnJlbnRfY29tcG9uZW50LCBzZXRfY3VycmVudF9jb21wb25lbnQgfSBmcm9tICcuL2xpZmVjeWNsZS5qcyc7XG5pbXBvcnQgeyBibGFua19vYmplY3QsIGlzX2VtcHR5LCBpc19mdW5jdGlvbiwgcnVuLCBydW5fYWxsLCBub29wIH0gZnJvbSAnLi91dGlscy5qcyc7XG5pbXBvcnQge1xuXHRjaGlsZHJlbixcblx0ZGV0YWNoLFxuXHRzdGFydF9oeWRyYXRpbmcsXG5cdGVuZF9oeWRyYXRpbmcsXG5cdGdldF9jdXN0b21fZWxlbWVudHNfc2xvdHMsXG5cdGluc2VydCxcblx0ZWxlbWVudCxcblx0YXR0clxufSBmcm9tICcuL2RvbS5qcyc7XG5pbXBvcnQgeyB0cmFuc2l0aW9uX2luIH0gZnJvbSAnLi90cmFuc2l0aW9ucy5qcyc7XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kKGNvbXBvbmVudCwgbmFtZSwgY2FsbGJhY2spIHtcblx0Y29uc3QgaW5kZXggPSBjb21wb25lbnQuJCQucHJvcHNbbmFtZV07XG5cdGlmIChpbmRleCAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0Y29tcG9uZW50LiQkLmJvdW5kW2luZGV4XSA9IGNhbGxiYWNrO1xuXHRcdGNhbGxiYWNrKGNvbXBvbmVudC4kJC5jdHhbaW5kZXhdKTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlX2NvbXBvbmVudChibG9jaykge1xuXHRibG9jayAmJiBibG9jay5jKCk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGFpbV9jb21wb25lbnQoYmxvY2ssIHBhcmVudF9ub2Rlcykge1xuXHRibG9jayAmJiBibG9jay5sKHBhcmVudF9ub2Rlcyk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3VudF9jb21wb25lbnQoY29tcG9uZW50LCB0YXJnZXQsIGFuY2hvcikge1xuXHRjb25zdCB7IGZyYWdtZW50LCBhZnRlcl91cGRhdGUgfSA9IGNvbXBvbmVudC4kJDtcblx0ZnJhZ21lbnQgJiYgZnJhZ21lbnQubSh0YXJnZXQsIGFuY2hvcik7XG5cdC8vIG9uTW91bnQgaGFwcGVucyBiZWZvcmUgdGhlIGluaXRpYWwgYWZ0ZXJVcGRhdGVcblx0YWRkX3JlbmRlcl9jYWxsYmFjaygoKSA9PiB7XG5cdFx0Y29uc3QgbmV3X29uX2Rlc3Ryb3kgPSBjb21wb25lbnQuJCQub25fbW91bnQubWFwKHJ1bikuZmlsdGVyKGlzX2Z1bmN0aW9uKTtcblx0XHQvLyBpZiB0aGUgY29tcG9uZW50IHdhcyBkZXN0cm95ZWQgaW1tZWRpYXRlbHlcblx0XHQvLyBpdCB3aWxsIHVwZGF0ZSB0aGUgYCQkLm9uX2Rlc3Ryb3lgIHJlZmVyZW5jZSB0byBgbnVsbGAuXG5cdFx0Ly8gdGhlIGRlc3RydWN0dXJlZCBvbl9kZXN0cm95IG1heSBzdGlsbCByZWZlcmVuY2UgdG8gdGhlIG9sZCBhcnJheVxuXHRcdGlmIChjb21wb25lbnQuJCQub25fZGVzdHJveSkge1xuXHRcdFx0Y29tcG9uZW50LiQkLm9uX2Rlc3Ryb3kucHVzaCguLi5uZXdfb25fZGVzdHJveSk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIEVkZ2UgY2FzZSAtIGNvbXBvbmVudCB3YXMgZGVzdHJveWVkIGltbWVkaWF0ZWx5LFxuXHRcdFx0Ly8gbW9zdCBsaWtlbHkgYXMgYSByZXN1bHQgb2YgYSBiaW5kaW5nIGluaXRpYWxpc2luZ1xuXHRcdFx0cnVuX2FsbChuZXdfb25fZGVzdHJveSk7XG5cdFx0fVxuXHRcdGNvbXBvbmVudC4kJC5vbl9tb3VudCA9IFtdO1xuXHR9KTtcblx0YWZ0ZXJfdXBkYXRlLmZvckVhY2goYWRkX3JlbmRlcl9jYWxsYmFjayk7XG59XG5cbi8qKiBAcmV0dXJucyB7dm9pZH0gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZXN0cm95X2NvbXBvbmVudChjb21wb25lbnQsIGRldGFjaGluZykge1xuXHRjb25zdCAkJCA9IGNvbXBvbmVudC4kJDtcblx0aWYgKCQkLmZyYWdtZW50ICE9PSBudWxsKSB7XG5cdFx0Zmx1c2hfcmVuZGVyX2NhbGxiYWNrcygkJC5hZnRlcl91cGRhdGUpO1xuXHRcdHJ1bl9hbGwoJCQub25fZGVzdHJveSk7XG5cdFx0JCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQuZChkZXRhY2hpbmcpO1xuXHRcdC8vIFRPRE8gbnVsbCBvdXQgb3RoZXIgcmVmcywgaW5jbHVkaW5nIGNvbXBvbmVudC4kJCAoYnV0IG5lZWQgdG9cblx0XHQvLyBwcmVzZXJ2ZSBmaW5hbCBzdGF0ZT8pXG5cdFx0JCQub25fZGVzdHJveSA9ICQkLmZyYWdtZW50ID0gbnVsbDtcblx0XHQkJC5jdHggPSBbXTtcblx0fVxufVxuXG4vKiogQHJldHVybnMge3ZvaWR9ICovXG5mdW5jdGlvbiBtYWtlX2RpcnR5KGNvbXBvbmVudCwgaSkge1xuXHRpZiAoY29tcG9uZW50LiQkLmRpcnR5WzBdID09PSAtMSkge1xuXHRcdGRpcnR5X2NvbXBvbmVudHMucHVzaChjb21wb25lbnQpO1xuXHRcdHNjaGVkdWxlX3VwZGF0ZSgpO1xuXHRcdGNvbXBvbmVudC4kJC5kaXJ0eS5maWxsKDApO1xuXHR9XG5cdGNvbXBvbmVudC4kJC5kaXJ0eVsoaSAvIDMxKSB8IDBdIHw9IDEgPDwgaSAlIDMxO1xufVxuXG4vLyBUT0RPOiBEb2N1bWVudCB0aGUgb3RoZXIgcGFyYW1zXG4vKipcbiAqIEBwYXJhbSB7U3ZlbHRlQ29tcG9uZW50fSBjb21wb25lbnRcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLkNvbXBvbmVudENvbnN0cnVjdG9yT3B0aW9uc30gb3B0aW9uc1xuICpcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3V0aWxzLmpzJylbJ25vdF9lcXVhbCddfSBub3RfZXF1YWwgVXNlZCB0byBjb21wYXJlIHByb3BzIGFuZCBzdGF0ZSB2YWx1ZXMuXG4gKiBAcGFyYW0geyh0YXJnZXQ6IEVsZW1lbnQgfCBTaGFkb3dSb290KSA9PiB2b2lkfSBbYXBwZW5kX3N0eWxlc10gRnVuY3Rpb24gdGhhdCBhcHBlbmRzIHN0eWxlcyB0byB0aGUgRE9NIHdoZW4gdGhlIGNvbXBvbmVudCBpcyBmaXJzdCBpbml0aWFsaXNlZC5cbiAqIFRoaXMgd2lsbCBiZSB0aGUgYGFkZF9jc3NgIGZ1bmN0aW9uIGZyb20gdGhlIGNvbXBpbGVkIGNvbXBvbmVudC5cbiAqXG4gKiBAcmV0dXJucyB7dm9pZH1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXQoXG5cdGNvbXBvbmVudCxcblx0b3B0aW9ucyxcblx0aW5zdGFuY2UsXG5cdGNyZWF0ZV9mcmFnbWVudCxcblx0bm90X2VxdWFsLFxuXHRwcm9wcyxcblx0YXBwZW5kX3N0eWxlcyA9IG51bGwsXG5cdGRpcnR5ID0gWy0xXVxuKSB7XG5cdGNvbnN0IHBhcmVudF9jb21wb25lbnQgPSBjdXJyZW50X2NvbXBvbmVudDtcblx0c2V0X2N1cnJlbnRfY29tcG9uZW50KGNvbXBvbmVudCk7XG5cdC8qKiBAdHlwZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5UJCR9ICovXG5cdGNvbnN0ICQkID0gKGNvbXBvbmVudC4kJCA9IHtcblx0XHRmcmFnbWVudDogbnVsbCxcblx0XHRjdHg6IFtdLFxuXHRcdC8vIHN0YXRlXG5cdFx0cHJvcHMsXG5cdFx0dXBkYXRlOiBub29wLFxuXHRcdG5vdF9lcXVhbCxcblx0XHRib3VuZDogYmxhbmtfb2JqZWN0KCksXG5cdFx0Ly8gbGlmZWN5Y2xlXG5cdFx0b25fbW91bnQ6IFtdLFxuXHRcdG9uX2Rlc3Ryb3k6IFtdLFxuXHRcdG9uX2Rpc2Nvbm5lY3Q6IFtdLFxuXHRcdGJlZm9yZV91cGRhdGU6IFtdLFxuXHRcdGFmdGVyX3VwZGF0ZTogW10sXG5cdFx0Y29udGV4dDogbmV3IE1hcChvcHRpb25zLmNvbnRleHQgfHwgKHBhcmVudF9jb21wb25lbnQgPyBwYXJlbnRfY29tcG9uZW50LiQkLmNvbnRleHQgOiBbXSkpLFxuXHRcdC8vIGV2ZXJ5dGhpbmcgZWxzZVxuXHRcdGNhbGxiYWNrczogYmxhbmtfb2JqZWN0KCksXG5cdFx0ZGlydHksXG5cdFx0c2tpcF9ib3VuZDogZmFsc2UsXG5cdFx0cm9vdDogb3B0aW9ucy50YXJnZXQgfHwgcGFyZW50X2NvbXBvbmVudC4kJC5yb290XG5cdH0pO1xuXHRhcHBlbmRfc3R5bGVzICYmIGFwcGVuZF9zdHlsZXMoJCQucm9vdCk7XG5cdGxldCByZWFkeSA9IGZhbHNlO1xuXHQkJC5jdHggPSBpbnN0YW5jZVxuXHRcdD8gaW5zdGFuY2UoY29tcG9uZW50LCBvcHRpb25zLnByb3BzIHx8IHt9LCAoaSwgcmV0LCAuLi5yZXN0KSA9PiB7XG5cdFx0XHRcdGNvbnN0IHZhbHVlID0gcmVzdC5sZW5ndGggPyByZXN0WzBdIDogcmV0O1xuXHRcdFx0XHRpZiAoJCQuY3R4ICYmIG5vdF9lcXVhbCgkJC5jdHhbaV0sICgkJC5jdHhbaV0gPSB2YWx1ZSkpKSB7XG5cdFx0XHRcdFx0aWYgKCEkJC5za2lwX2JvdW5kICYmICQkLmJvdW5kW2ldKSAkJC5ib3VuZFtpXSh2YWx1ZSk7XG5cdFx0XHRcdFx0aWYgKHJlYWR5KSBtYWtlX2RpcnR5KGNvbXBvbmVudCwgaSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHJldDtcblx0XHQgIH0pXG5cdFx0OiBbXTtcblx0JCQudXBkYXRlKCk7XG5cdHJlYWR5ID0gdHJ1ZTtcblx0cnVuX2FsbCgkJC5iZWZvcmVfdXBkYXRlKTtcblx0Ly8gYGZhbHNlYCBhcyBhIHNwZWNpYWwgY2FzZSBvZiBubyBET00gY29tcG9uZW50XG5cdCQkLmZyYWdtZW50ID0gY3JlYXRlX2ZyYWdtZW50ID8gY3JlYXRlX2ZyYWdtZW50KCQkLmN0eCkgOiBmYWxzZTtcblx0aWYgKG9wdGlvbnMudGFyZ2V0KSB7XG5cdFx0aWYgKG9wdGlvbnMuaHlkcmF0ZSkge1xuXHRcdFx0c3RhcnRfaHlkcmF0aW5nKCk7XG5cdFx0XHQvLyBUT0RPOiB3aGF0IGlzIHRoZSBjb3JyZWN0IHR5cGUgaGVyZT9cblx0XHRcdC8vIEB0cy1leHBlY3QtZXJyb3Jcblx0XHRcdGNvbnN0IG5vZGVzID0gY2hpbGRyZW4ob3B0aW9ucy50YXJnZXQpO1xuXHRcdFx0JCQuZnJhZ21lbnQgJiYgJCQuZnJhZ21lbnQubChub2Rlcyk7XG5cdFx0XHRub2Rlcy5mb3JFYWNoKGRldGFjaCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tbm9uLW51bGwtYXNzZXJ0aW9uXG5cdFx0XHQkJC5mcmFnbWVudCAmJiAkJC5mcmFnbWVudC5jKCk7XG5cdFx0fVxuXHRcdGlmIChvcHRpb25zLmludHJvKSB0cmFuc2l0aW9uX2luKGNvbXBvbmVudC4kJC5mcmFnbWVudCk7XG5cdFx0bW91bnRfY29tcG9uZW50KGNvbXBvbmVudCwgb3B0aW9ucy50YXJnZXQsIG9wdGlvbnMuYW5jaG9yKTtcblx0XHRlbmRfaHlkcmF0aW5nKCk7XG5cdFx0Zmx1c2goKTtcblx0fVxuXHRzZXRfY3VycmVudF9jb21wb25lbnQocGFyZW50X2NvbXBvbmVudCk7XG59XG5cbmV4cG9ydCBsZXQgU3ZlbHRlRWxlbWVudDtcblxuaWYgKHR5cGVvZiBIVE1MRWxlbWVudCA9PT0gJ2Z1bmN0aW9uJykge1xuXHRTdmVsdGVFbGVtZW50ID0gY2xhc3MgZXh0ZW5kcyBIVE1MRWxlbWVudCB7XG5cdFx0LyoqIFRoZSBTdmVsdGUgY29tcG9uZW50IGNvbnN0cnVjdG9yICovXG5cdFx0JCRjdG9yO1xuXHRcdC8qKiBTbG90cyAqL1xuXHRcdCQkcztcblx0XHQvKiogVGhlIFN2ZWx0ZSBjb21wb25lbnQgaW5zdGFuY2UgKi9cblx0XHQkJGM7XG5cdFx0LyoqIFdoZXRoZXIgb3Igbm90IHRoZSBjdXN0b20gZWxlbWVudCBpcyBjb25uZWN0ZWQgKi9cblx0XHQkJGNuID0gZmFsc2U7XG5cdFx0LyoqIENvbXBvbmVudCBwcm9wcyBkYXRhICovXG5cdFx0JCRkID0ge307XG5cdFx0LyoqIGB0cnVlYCBpZiBjdXJyZW50bHkgaW4gdGhlIHByb2Nlc3Mgb2YgcmVmbGVjdGluZyBjb21wb25lbnQgcHJvcHMgYmFjayB0byBhdHRyaWJ1dGVzICovXG5cdFx0JCRyID0gZmFsc2U7XG5cdFx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBDdXN0b21FbGVtZW50UHJvcERlZmluaXRpb24+fSBQcm9wcyBkZWZpbml0aW9uIChuYW1lLCByZWZsZWN0ZWQsIHR5cGUgZXRjKSAqL1xuXHRcdCQkcF9kID0ge307XG5cdFx0LyoqIEB0eXBlIHtSZWNvcmQ8c3RyaW5nLCBGdW5jdGlvbltdPn0gRXZlbnQgbGlzdGVuZXJzICovXG5cdFx0JCRsID0ge307XG5cdFx0LyoqIEB0eXBlIHtNYXA8RnVuY3Rpb24sIEZ1bmN0aW9uPn0gRXZlbnQgbGlzdGVuZXIgdW5zdWJzY3JpYmUgZnVuY3Rpb25zICovXG5cdFx0JCRsX3UgPSBuZXcgTWFwKCk7XG5cblx0XHRjb25zdHJ1Y3RvcigkJGNvbXBvbmVudEN0b3IsICQkc2xvdHMsIHVzZV9zaGFkb3dfZG9tKSB7XG5cdFx0XHRzdXBlcigpO1xuXHRcdFx0dGhpcy4kJGN0b3IgPSAkJGNvbXBvbmVudEN0b3I7XG5cdFx0XHR0aGlzLiQkcyA9ICQkc2xvdHM7XG5cdFx0XHRpZiAodXNlX3NoYWRvd19kb20pIHtcblx0XHRcdFx0dGhpcy5hdHRhY2hTaGFkb3coeyBtb2RlOiAnb3BlbicgfSk7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0YWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuXHRcdFx0Ly8gV2UgY2FuJ3QgZGV0ZXJtaW5lIHVwZnJvbnQgaWYgdGhlIGV2ZW50IGlzIGEgY3VzdG9tIGV2ZW50IG9yIG5vdCwgc28gd2UgaGF2ZSB0b1xuXHRcdFx0Ly8gbGlzdGVuIHRvIGJvdGguIElmIHNvbWVvbmUgdXNlcyBhIGN1c3RvbSBldmVudCB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgYSByZWd1bGFyXG5cdFx0XHQvLyBicm93c2VyIGV2ZW50LCB0aGlzIGZpcmVzIHR3aWNlIC0gd2UgY2FuJ3QgYXZvaWQgdGhhdC5cblx0XHRcdHRoaXMuJCRsW3R5cGVdID0gdGhpcy4kJGxbdHlwZV0gfHwgW107XG5cdFx0XHR0aGlzLiQkbFt0eXBlXS5wdXNoKGxpc3RlbmVyKTtcblx0XHRcdGlmICh0aGlzLiQkYykge1xuXHRcdFx0XHRjb25zdCB1bnN1YiA9IHRoaXMuJCRjLiRvbih0eXBlLCBsaXN0ZW5lcik7XG5cdFx0XHRcdHRoaXMuJCRsX3Uuc2V0KGxpc3RlbmVyLCB1bnN1Yik7XG5cdFx0XHR9XG5cdFx0XHRzdXBlci5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcblx0XHR9XG5cblx0XHRyZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7XG5cdFx0XHRzdXBlci5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTtcblx0XHRcdGlmICh0aGlzLiQkYykge1xuXHRcdFx0XHRjb25zdCB1bnN1YiA9IHRoaXMuJCRsX3UuZ2V0KGxpc3RlbmVyKTtcblx0XHRcdFx0aWYgKHVuc3ViKSB7XG5cdFx0XHRcdFx0dW5zdWIoKTtcblx0XHRcdFx0XHR0aGlzLiQkbF91LmRlbGV0ZShsaXN0ZW5lcik7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cblx0XHRhc3luYyBjb25uZWN0ZWRDYWxsYmFjaygpIHtcblx0XHRcdHRoaXMuJCRjbiA9IHRydWU7XG5cdFx0XHRpZiAoIXRoaXMuJCRjKSB7XG5cdFx0XHRcdC8vIFdlIHdhaXQgb25lIHRpY2sgdG8gbGV0IHBvc3NpYmxlIGNoaWxkIHNsb3QgZWxlbWVudHMgYmUgY3JlYXRlZC9tb3VudGVkXG5cdFx0XHRcdGF3YWl0IFByb21pc2UucmVzb2x2ZSgpO1xuXHRcdFx0XHRpZiAoIXRoaXMuJCRjbikge1xuXHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0fVxuXHRcdFx0XHRmdW5jdGlvbiBjcmVhdGVfc2xvdChuYW1lKSB7XG5cdFx0XHRcdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdFx0XHRcdGxldCBub2RlO1xuXHRcdFx0XHRcdFx0Y29uc3Qgb2JqID0ge1xuXHRcdFx0XHRcdFx0XHRjOiBmdW5jdGlvbiBjcmVhdGUoKSB7XG5cdFx0XHRcdFx0XHRcdFx0bm9kZSA9IGVsZW1lbnQoJ3Nsb3QnKTtcblx0XHRcdFx0XHRcdFx0XHRpZiAobmFtZSAhPT0gJ2RlZmF1bHQnKSB7XG5cdFx0XHRcdFx0XHRcdFx0XHRhdHRyKG5vZGUsICduYW1lJywgbmFtZSk7XG5cdFx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0XHR9LFxuXHRcdFx0XHRcdFx0XHQvKipcblx0XHRcdFx0XHRcdFx0ICogQHBhcmFtIHtIVE1MRWxlbWVudH0gdGFyZ2V0XG5cdFx0XHRcdFx0XHRcdCAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IFthbmNob3JdXG5cdFx0XHRcdFx0XHRcdCAqL1xuXHRcdFx0XHRcdFx0XHRtOiBmdW5jdGlvbiBtb3VudCh0YXJnZXQsIGFuY2hvcikge1xuXHRcdFx0XHRcdFx0XHRcdGluc2VydCh0YXJnZXQsIG5vZGUsIGFuY2hvcik7XG5cdFx0XHRcdFx0XHRcdH0sXG5cdFx0XHRcdFx0XHRcdGQ6IGZ1bmN0aW9uIGRlc3Ryb3koZGV0YWNoaW5nKSB7XG5cdFx0XHRcdFx0XHRcdFx0aWYgKGRldGFjaGluZykge1xuXHRcdFx0XHRcdFx0XHRcdFx0ZGV0YWNoKG5vZGUpO1xuXHRcdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdHJldHVybiBvYmo7XG5cdFx0XHRcdFx0fTtcblx0XHRcdFx0fVxuXHRcdFx0XHRjb25zdCAkJHNsb3RzID0ge307XG5cdFx0XHRcdGNvbnN0IGV4aXN0aW5nX3Nsb3RzID0gZ2V0X2N1c3RvbV9lbGVtZW50c19zbG90cyh0aGlzKTtcblx0XHRcdFx0Zm9yIChjb25zdCBuYW1lIG9mIHRoaXMuJCRzKSB7XG5cdFx0XHRcdFx0aWYgKG5hbWUgaW4gZXhpc3Rpbmdfc2xvdHMpIHtcblx0XHRcdFx0XHRcdCQkc2xvdHNbbmFtZV0gPSBbY3JlYXRlX3Nsb3QobmFtZSldO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHRmb3IgKGNvbnN0IGF0dHJpYnV0ZSBvZiB0aGlzLmF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0XHQvLyB0aGlzLiQkZGF0YSB0YWtlcyBwcmVjZWRlbmNlIG92ZXIgdGhpcy5hdHRyaWJ1dGVzXG5cdFx0XHRcdFx0Y29uc3QgbmFtZSA9IHRoaXMuJCRnX3AoYXR0cmlidXRlLm5hbWUpO1xuXHRcdFx0XHRcdGlmICghKG5hbWUgaW4gdGhpcy4kJGQpKSB7XG5cdFx0XHRcdFx0XHR0aGlzLiQkZFtuYW1lXSA9IGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShuYW1lLCBhdHRyaWJ1dGUudmFsdWUsIHRoaXMuJCRwX2QsICd0b1Byb3AnKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0dGhpcy4kJGMgPSBuZXcgdGhpcy4kJGN0b3Ioe1xuXHRcdFx0XHRcdHRhcmdldDogdGhpcy5zaGFkb3dSb290IHx8IHRoaXMsXG5cdFx0XHRcdFx0cHJvcHM6IHtcblx0XHRcdFx0XHRcdC4uLnRoaXMuJCRkLFxuXHRcdFx0XHRcdFx0JCRzbG90cyxcblx0XHRcdFx0XHRcdCQkc2NvcGU6IHtcblx0XHRcdFx0XHRcdFx0Y3R4OiBbXVxuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0Ly8gUmVmbGVjdCBjb21wb25lbnQgcHJvcHMgYXMgYXR0cmlidXRlc1xuXHRcdFx0XHRjb25zdCByZWZsZWN0X2F0dHJpYnV0ZXMgPSAoKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy4kJHIgPSB0cnVlO1xuXHRcdFx0XHRcdGZvciAoY29uc3Qga2V5IGluIHRoaXMuJCRwX2QpIHtcblx0XHRcdFx0XHRcdHRoaXMuJCRkW2tleV0gPSB0aGlzLiQkYy4kJC5jdHhbdGhpcy4kJGMuJCQucHJvcHNba2V5XV07XG5cdFx0XHRcdFx0XHRpZiAodGhpcy4kJHBfZFtrZXldLnJlZmxlY3QpIHtcblx0XHRcdFx0XHRcdFx0Y29uc3QgYXR0cmlidXRlX3ZhbHVlID0gZ2V0X2N1c3RvbV9lbGVtZW50X3ZhbHVlKFxuXHRcdFx0XHRcdFx0XHRcdGtleSxcblx0XHRcdFx0XHRcdFx0XHR0aGlzLiQkZFtrZXldLFxuXHRcdFx0XHRcdFx0XHRcdHRoaXMuJCRwX2QsXG5cdFx0XHRcdFx0XHRcdFx0J3RvQXR0cmlidXRlJ1xuXHRcdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0XHRpZiAoYXR0cmlidXRlX3ZhbHVlID09IG51bGwpIHtcblx0XHRcdFx0XHRcdFx0XHR0aGlzLnJlbW92ZUF0dHJpYnV0ZSh0aGlzLiQkcF9kW2tleV0uYXR0cmlidXRlIHx8IGtleSk7XG5cdFx0XHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHRcdFx0dGhpcy5zZXRBdHRyaWJ1dGUodGhpcy4kJHBfZFtrZXldLmF0dHJpYnV0ZSB8fCBrZXksIGF0dHJpYnV0ZV92YWx1ZSk7XG5cdFx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0dGhpcy4kJHIgPSBmYWxzZTtcblx0XHRcdFx0fTtcblx0XHRcdFx0dGhpcy4kJGMuJCQuYWZ0ZXJfdXBkYXRlLnB1c2gocmVmbGVjdF9hdHRyaWJ1dGVzKTtcblx0XHRcdFx0cmVmbGVjdF9hdHRyaWJ1dGVzKCk7IC8vIG9uY2UgaW5pdGlhbGx5IGJlY2F1c2UgYWZ0ZXJfdXBkYXRlIGlzIGFkZGVkIHRvbyBsYXRlIGZvciBmaXJzdCByZW5kZXJcblxuXHRcdFx0XHRmb3IgKGNvbnN0IHR5cGUgaW4gdGhpcy4kJGwpIHtcblx0XHRcdFx0XHRmb3IgKGNvbnN0IGxpc3RlbmVyIG9mIHRoaXMuJCRsW3R5cGVdKSB7XG5cdFx0XHRcdFx0XHRjb25zdCB1bnN1YiA9IHRoaXMuJCRjLiRvbih0eXBlLCBsaXN0ZW5lcik7XG5cdFx0XHRcdFx0XHR0aGlzLiQkbF91LnNldChsaXN0ZW5lciwgdW5zdWIpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fVxuXHRcdFx0XHR0aGlzLiQkbCA9IHt9O1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdC8vIFdlIGRvbid0IG5lZWQgdGhpcyB3aGVuIHdvcmtpbmcgd2l0aGluIFN2ZWx0ZSBjb2RlLCBidXQgZm9yIGNvbXBhdGliaWxpdHkgb2YgcGVvcGxlIHVzaW5nIHRoaXMgb3V0c2lkZSBvZiBTdmVsdGVcblx0XHQvLyBhbmQgc2V0dGluZyBhdHRyaWJ1dGVzIHRocm91Z2ggc2V0QXR0cmlidXRlIGV0YywgdGhpcyBpcyBoZWxwZnVsXG5cdFx0YXR0cmlidXRlQ2hhbmdlZENhbGxiYWNrKGF0dHIsIF9vbGRWYWx1ZSwgbmV3VmFsdWUpIHtcblx0XHRcdGlmICh0aGlzLiQkcikgcmV0dXJuO1xuXHRcdFx0YXR0ciA9IHRoaXMuJCRnX3AoYXR0cik7XG5cdFx0XHR0aGlzLiQkZFthdHRyXSA9IGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShhdHRyLCBuZXdWYWx1ZSwgdGhpcy4kJHBfZCwgJ3RvUHJvcCcpO1xuXHRcdFx0dGhpcy4kJGM/LiRzZXQoeyBbYXR0cl06IHRoaXMuJCRkW2F0dHJdIH0pO1xuXHRcdH1cblxuXHRcdGRpc2Nvbm5lY3RlZENhbGxiYWNrKCkge1xuXHRcdFx0dGhpcy4kJGNuID0gZmFsc2U7XG5cdFx0XHQvLyBJbiBhIG1pY3JvdGFzaywgYmVjYXVzZSB0aGlzIGNvdWxkIGJlIGEgbW92ZSB3aXRoaW4gdGhlIERPTVxuXHRcdFx0UHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG5cdFx0XHRcdGlmICghdGhpcy4kJGNuKSB7XG5cdFx0XHRcdFx0dGhpcy4kJGMuJGRlc3Ryb3koKTtcblx0XHRcdFx0XHR0aGlzLiQkYyA9IHVuZGVmaW5lZDtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fVxuXG5cdFx0JCRnX3AoYXR0cmlidXRlX25hbWUpIHtcblx0XHRcdHJldHVybiAoXG5cdFx0XHRcdE9iamVjdC5rZXlzKHRoaXMuJCRwX2QpLmZpbmQoXG5cdFx0XHRcdFx0KGtleSkgPT5cblx0XHRcdFx0XHRcdHRoaXMuJCRwX2Rba2V5XS5hdHRyaWJ1dGUgPT09IGF0dHJpYnV0ZV9uYW1lIHx8XG5cdFx0XHRcdFx0XHQoIXRoaXMuJCRwX2Rba2V5XS5hdHRyaWJ1dGUgJiYga2V5LnRvTG93ZXJDYXNlKCkgPT09IGF0dHJpYnV0ZV9uYW1lKVxuXHRcdFx0XHQpIHx8IGF0dHJpYnV0ZV9uYW1lXG5cdFx0XHQpO1xuXHRcdH1cblx0fTtcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gcHJvcFxuICogQHBhcmFtIHthbnl9IHZhbHVlXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvbj59IHByb3BzX2RlZmluaXRpb25cbiAqIEBwYXJhbSB7J3RvQXR0cmlidXRlJyB8ICd0b1Byb3AnfSBbdHJhbnNmb3JtXVxuICovXG5mdW5jdGlvbiBnZXRfY3VzdG9tX2VsZW1lbnRfdmFsdWUocHJvcCwgdmFsdWUsIHByb3BzX2RlZmluaXRpb24sIHRyYW5zZm9ybSkge1xuXHRjb25zdCB0eXBlID0gcHJvcHNfZGVmaW5pdGlvbltwcm9wXT8udHlwZTtcblx0dmFsdWUgPSB0eXBlID09PSAnQm9vbGVhbicgJiYgdHlwZW9mIHZhbHVlICE9PSAnYm9vbGVhbicgPyB2YWx1ZSAhPSBudWxsIDogdmFsdWU7XG5cdGlmICghdHJhbnNmb3JtIHx8ICFwcm9wc19kZWZpbml0aW9uW3Byb3BdKSB7XG5cdFx0cmV0dXJuIHZhbHVlO1xuXHR9IGVsc2UgaWYgKHRyYW5zZm9ybSA9PT0gJ3RvQXR0cmlidXRlJykge1xuXHRcdHN3aXRjaCAodHlwZSkge1xuXHRcdFx0Y2FzZSAnT2JqZWN0Jzpcblx0XHRcdGNhc2UgJ0FycmF5Jzpcblx0XHRcdFx0cmV0dXJuIHZhbHVlID09IG51bGwgPyBudWxsIDogSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuXHRcdFx0Y2FzZSAnQm9vbGVhbic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSA/ICcnIDogbnVsbDtcblx0XHRcdGNhc2UgJ051bWJlcic6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSA9PSBudWxsID8gbnVsbCA6IHZhbHVlO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblx0fSBlbHNlIHtcblx0XHRzd2l0Y2ggKHR5cGUpIHtcblx0XHRcdGNhc2UgJ09iamVjdCc6XG5cdFx0XHRjYXNlICdBcnJheSc6XG5cdFx0XHRcdHJldHVybiB2YWx1ZSAmJiBKU09OLnBhcnNlKHZhbHVlKTtcblx0XHRcdGNhc2UgJ0Jvb2xlYW4nOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWU7IC8vIGNvbnZlcnNpb24gYWxyZWFkeSBoYW5kbGVkIGFib3ZlXG5cdFx0XHRjYXNlICdOdW1iZXInOlxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgIT0gbnVsbCA/ICt2YWx1ZSA6IHZhbHVlO1xuXHRcdFx0ZGVmYXVsdDpcblx0XHRcdFx0cmV0dXJuIHZhbHVlO1xuXHRcdH1cblx0fVxufVxuXG4vKipcbiAqIEBpbnRlcm5hbFxuICpcbiAqIFR1cm4gYSBTdmVsdGUgY29tcG9uZW50IGludG8gYSBjdXN0b20gZWxlbWVudC5cbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLkNvbXBvbmVudFR5cGV9IENvbXBvbmVudCAgQSBTdmVsdGUgY29tcG9uZW50IGNvbnN0cnVjdG9yXG4gKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIEN1c3RvbUVsZW1lbnRQcm9wRGVmaW5pdGlvbj59IHByb3BzX2RlZmluaXRpb24gIFRoZSBwcm9wcyB0byBvYnNlcnZlXG4gKiBAcGFyYW0ge3N0cmluZ1tdfSBzbG90cyAgVGhlIHNsb3RzIHRvIGNyZWF0ZVxuICogQHBhcmFtIHtzdHJpbmdbXX0gYWNjZXNzb3JzICBPdGhlciBhY2Nlc3NvcnMgYmVzaWRlcyB0aGUgb25lcyBmb3IgcHJvcHMgdGhlIGNvbXBvbmVudCBoYXNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gdXNlX3NoYWRvd19kb20gIFdoZXRoZXIgdG8gdXNlIHNoYWRvdyBET01cbiAqIEBwYXJhbSB7KGNlOiBuZXcgKCkgPT4gSFRNTEVsZW1lbnQpID0+IG5ldyAoKSA9PiBIVE1MRWxlbWVudH0gW2V4dGVuZF1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZV9jdXN0b21fZWxlbWVudChcblx0Q29tcG9uZW50LFxuXHRwcm9wc19kZWZpbml0aW9uLFxuXHRzbG90cyxcblx0YWNjZXNzb3JzLFxuXHR1c2Vfc2hhZG93X2RvbSxcblx0ZXh0ZW5kXG4pIHtcblx0bGV0IENsYXNzID0gY2xhc3MgZXh0ZW5kcyBTdmVsdGVFbGVtZW50IHtcblx0XHRjb25zdHJ1Y3RvcigpIHtcblx0XHRcdHN1cGVyKENvbXBvbmVudCwgc2xvdHMsIHVzZV9zaGFkb3dfZG9tKTtcblx0XHRcdHRoaXMuJCRwX2QgPSBwcm9wc19kZWZpbml0aW9uO1xuXHRcdH1cblx0XHRzdGF0aWMgZ2V0IG9ic2VydmVkQXR0cmlidXRlcygpIHtcblx0XHRcdHJldHVybiBPYmplY3Qua2V5cyhwcm9wc19kZWZpbml0aW9uKS5tYXAoKGtleSkgPT5cblx0XHRcdFx0KHByb3BzX2RlZmluaXRpb25ba2V5XS5hdHRyaWJ1dGUgfHwga2V5KS50b0xvd2VyQ2FzZSgpXG5cdFx0XHQpO1xuXHRcdH1cblx0fTtcblx0T2JqZWN0LmtleXMocHJvcHNfZGVmaW5pdGlvbikuZm9yRWFjaCgocHJvcCkgPT4ge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDbGFzcy5wcm90b3R5cGUsIHByb3AsIHtcblx0XHRcdGdldCgpIHtcblx0XHRcdFx0cmV0dXJuIHRoaXMuJCRjICYmIHByb3AgaW4gdGhpcy4kJGMgPyB0aGlzLiQkY1twcm9wXSA6IHRoaXMuJCRkW3Byb3BdO1xuXHRcdFx0fSxcblx0XHRcdHNldCh2YWx1ZSkge1xuXHRcdFx0XHR2YWx1ZSA9IGdldF9jdXN0b21fZWxlbWVudF92YWx1ZShwcm9wLCB2YWx1ZSwgcHJvcHNfZGVmaW5pdGlvbik7XG5cdFx0XHRcdHRoaXMuJCRkW3Byb3BdID0gdmFsdWU7XG5cdFx0XHRcdHRoaXMuJCRjPy4kc2V0KHsgW3Byb3BdOiB2YWx1ZSB9KTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cdGFjY2Vzc29ycy5mb3JFYWNoKChhY2Nlc3NvcikgPT4ge1xuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShDbGFzcy5wcm90b3R5cGUsIGFjY2Vzc29yLCB7XG5cdFx0XHRnZXQoKSB7XG5cdFx0XHRcdHJldHVybiB0aGlzLiQkYz8uW2FjY2Vzc29yXTtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cdGlmIChleHRlbmQpIHtcblx0XHQvLyBAdHMtZXhwZWN0LWVycm9yIC0gYXNzaWduaW5nIGhlcmUgaXMgZmluZVxuXHRcdENsYXNzID0gZXh0ZW5kKENsYXNzKTtcblx0fVxuXHRDb21wb25lbnQuZWxlbWVudCA9IC8qKiBAdHlwZSB7YW55fSAqLyAoQ2xhc3MpO1xuXHRyZXR1cm4gQ2xhc3M7XG59XG5cbi8qKlxuICogQmFzZSBjbGFzcyBmb3IgU3ZlbHRlIGNvbXBvbmVudHMuIFVzZWQgd2hlbiBkZXY9ZmFsc2UuXG4gKlxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbUHJvcHM9YW55XVxuICogQHRlbXBsYXRlIHtSZWNvcmQ8c3RyaW5nLCBhbnk+fSBbRXZlbnRzPWFueV1cbiAqL1xuZXhwb3J0IGNsYXNzIFN2ZWx0ZUNvbXBvbmVudCB7XG5cdC8qKlxuXHQgKiAjIyMgUFJJVkFURSBBUElcblx0ICpcblx0ICogRG8gbm90IHVzZSwgbWF5IGNoYW5nZSBhdCBhbnkgdGltZVxuXHQgKlxuXHQgKiBAdHlwZSB7YW55fVxuXHQgKi9cblx0JCQgPSB1bmRlZmluZWQ7XG5cdC8qKlxuXHQgKiAjIyMgUFJJVkFURSBBUElcblx0ICpcblx0ICogRG8gbm90IHVzZSwgbWF5IGNoYW5nZSBhdCBhbnkgdGltZVxuXHQgKlxuXHQgKiBAdHlwZSB7YW55fVxuXHQgKi9cblx0JCRzZXQgPSB1bmRlZmluZWQ7XG5cblx0LyoqIEByZXR1cm5zIHt2b2lkfSAqL1xuXHQkZGVzdHJveSgpIHtcblx0XHRkZXN0cm95X2NvbXBvbmVudCh0aGlzLCAxKTtcblx0XHR0aGlzLiRkZXN0cm95ID0gbm9vcDtcblx0fVxuXG5cdC8qKlxuXHQgKiBAdGVtcGxhdGUge0V4dHJhY3Q8a2V5b2YgRXZlbnRzLCBzdHJpbmc+fSBLXG5cdCAqIEBwYXJhbSB7S30gdHlwZVxuXHQgKiBAcGFyYW0geygoZTogRXZlbnRzW0tdKSA9PiB2b2lkKSB8IG51bGwgfCB1bmRlZmluZWR9IGNhbGxiYWNrXG5cdCAqIEByZXR1cm5zIHsoKSA9PiB2b2lkfVxuXHQgKi9cblx0JG9uKHR5cGUsIGNhbGxiYWNrKSB7XG5cdFx0aWYgKCFpc19mdW5jdGlvbihjYWxsYmFjaykpIHtcblx0XHRcdHJldHVybiBub29wO1xuXHRcdH1cblx0XHRjb25zdCBjYWxsYmFja3MgPSB0aGlzLiQkLmNhbGxiYWNrc1t0eXBlXSB8fCAodGhpcy4kJC5jYWxsYmFja3NbdHlwZV0gPSBbXSk7XG5cdFx0Y2FsbGJhY2tzLnB1c2goY2FsbGJhY2spO1xuXHRcdHJldHVybiAoKSA9PiB7XG5cdFx0XHRjb25zdCBpbmRleCA9IGNhbGxiYWNrcy5pbmRleE9mKGNhbGxiYWNrKTtcblx0XHRcdGlmIChpbmRleCAhPT0gLTEpIGNhbGxiYWNrcy5zcGxpY2UoaW5kZXgsIDEpO1xuXHRcdH07XG5cdH1cblxuXHQvKipcblx0ICogQHBhcmFtIHtQYXJ0aWFsPFByb3BzPn0gcHJvcHNcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHQkc2V0KHByb3BzKSB7XG5cdFx0aWYgKHRoaXMuJCRzZXQgJiYgIWlzX2VtcHR5KHByb3BzKSkge1xuXHRcdFx0dGhpcy4kJC5za2lwX2JvdW5kID0gdHJ1ZTtcblx0XHRcdHRoaXMuJCRzZXQocHJvcHMpO1xuXHRcdFx0dGhpcy4kJC5za2lwX2JvdW5kID0gZmFsc2U7XG5cdFx0fVxuXHR9XG59XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gQ3VzdG9tRWxlbWVudFByb3BEZWZpbml0aW9uXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW2F0dHJpYnV0ZV1cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3JlZmxlY3RdXG4gKiBAcHJvcGVydHkgeydTdHJpbmcnfCdCb29sZWFuJ3wnTnVtYmVyJ3wnQXJyYXknfCdPYmplY3QnfSBbdHlwZV1cbiAqL1xuIiwiLy8gZ2VuZXJhdGVkIGR1cmluZyByZWxlYXNlLCBkbyBub3QgbW9kaWZ5XG5cbi8qKlxuICogVGhlIGN1cnJlbnQgdmVyc2lvbiwgYXMgc2V0IGluIHBhY2thZ2UuanNvbi5cbiAqXG4gKiBodHRwczovL3N2ZWx0ZS5kZXYvZG9jcy9zdmVsdGUtY29tcGlsZXIjc3ZlbHRlLXZlcnNpb25cbiAqIEB0eXBlIHtzdHJpbmd9XG4gKi9cbmV4cG9ydCBjb25zdCBWRVJTSU9OID0gJzQuMi4yJztcbmV4cG9ydCBjb25zdCBQVUJMSUNfVkVSU0lPTiA9ICc0JztcbiIsImltcG9ydCB7IFBVQkxJQ19WRVJTSU9OIH0gZnJvbSAnLi4vLi4vLi4vc2hhcmVkL3ZlcnNpb24uanMnO1xuXG5pZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpXG5cdC8vIEB0cy1pZ25vcmVcblx0KHdpbmRvdy5fX3N2ZWx0ZSB8fCAod2luZG93Ll9fc3ZlbHRlID0geyB2OiBuZXcgU2V0KCkgfSkpLnYuYWRkKFBVQkxJQ19WRVJTSU9OKTtcbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gIGV4cG9ydCBsZXQgc3JjOiBzdHJpbmc7XG4gIGV4cG9ydCBsZXQgZGVzY3JpcHRpb246IHN0cmluZyB8IHVuZGVmaW5lZDtcbiAgZXhwb3J0IGxldCBpbmRleDogbnVtYmVyO1xuICBleHBvcnQgbGV0IHBlcm1hbmVudE92ZXJsYXkgPSBmYWxzZTtcbjwvc2NyaXB0PlxuXG48ZGl2IGNsYXNzPXtgZ3JvdXAgcmVsYXRpdmUgaW1hZ2UtbGF5b3V0cy1pbWFnZS0ke2luZGV4fWB9PlxuICA8aW1nXG4gICAgY2xhc3M9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlciBvYmplY3QtY2VudGVyXCJcbiAgICB7c3JjfVxuICAgIGFsdD17ZGVzY3JpcHRpb259XG4gIC8+XG4gIHsjaWYgZGVzY3JpcHRpb259XG4gICAgPGRpdlxuICAgICAgY2xhc3M9XCJhYnNvbHV0ZSBib3R0b20tMCBsZWZ0LTAgcmlnaHQtMCBmbGV4IGl0ZW1zLWVuZCBwLTRcIlxuICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgIGNsYXNzOm9wYWNpdHktMD17IXBlcm1hbmVudE92ZXJsYXl9XG4gICAgICBjbGFzczpncm91cC1ob3ZlcjpvcGFjaXR5LTEwMD17IXBlcm1hbmVudE92ZXJsYXl9XG4gICAgPlxuICAgICAgPGRpdlxuICAgICAgICBjbGFzcz1cInctZnVsbCByb3VuZGVkLW1kIGJnLXdoaXRlIGJnLW9wYWNpdHktNzUgcHgtNCBweS0yIHRleHQtY2VudGVyIHRleHQtc20gZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBiYWNrZHJvcC1ibHVyIGJhY2tkcm9wLWZpbHRlclwiXG4gICAgICA+XG4gICAgICAgIHtkZXNjcmlwdGlvbn1cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICB7L2lmfVxuPC9kaXY+XG5cbjxzdHlsZT5cbiAgLmltYWdlLWxheW91dHMtaW1hZ2UtMCB7XG4gICAgZ3JpZC1hcmVhOiBpbWFnZS0wO1xuICB9XG4gIC5pbWFnZS1sYXlvdXRzLWltYWdlLTEge1xuICAgIGdyaWQtYXJlYTogaW1hZ2UtMTtcbiAgfVxuICAuaW1hZ2UtbGF5b3V0cy1pbWFnZS0yIHtcbiAgICBncmlkLWFyZWE6IGltYWdlLTI7XG4gIH1cbiAgLmltYWdlLWxheW91dHMtaW1hZ2UtMyB7XG4gICAgZ3JpZC1hcmVhOiBpbWFnZS0zO1xuICB9XG4gIC5pbWFnZS1sYXlvdXRzLWltYWdlLTQge1xuICAgIGdyaWQtYXJlYTogaW1hZ2UtNDtcbiAgfVxuICAuaW1hZ2UtbGF5b3V0cy1pbWFnZS01IHtcbiAgICBncmlkLWFyZWE6IGltYWdlLTU7XG4gIH1cbiAgLmltYWdlLWxheW91dHMtaW1hZ2UtNiB7XG4gICAgZ3JpZC1hcmVhOiBpbWFnZS02O1xuICB9XG48L3N0eWxlPlxuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgZXhwb3J0IGxldCBjYXB0aW9uOiBzdHJpbmcgfCB1bmRlZmluZWQgPSBcIlwiO1xuPC9zY3JpcHQ+XG5cbnsjaWYgY2FwdGlvbiAmJiBjYXB0aW9uICE9PSBcIlwifVxuICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgdGV4dC14cyB0ZXh0LWdyYXktODAwIG15LTJcIj57Y2FwdGlvbn08L2Rpdj5cbnsvaWZ9XG4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICBpbXBvcnQgdHlwZSB7IFJlYWR5SW1hZ2VMaW5rIH0gZnJvbSBcIi4uL3V0aWxzL2ltYWdlc1wiO1xuICBpbXBvcnQgTGVnYWN5R3JpZEltYWdlIGZyb20gXCIuL0xlZ2FjeUdyaWRJbWFnZS5zdmVsdGVcIjtcbiAgaW1wb3J0IENhcHRpb24gZnJvbSBcIi4vQ2FwdGlvbi5zdmVsdGVcIjtcblxuICBleHBvcnQgbGV0IGxheW91dDogXCJhXCIgfCBcImJcIiB8IFwiY1wiIHwgXCJkXCIgfCBcImVcIiB8IFwiZlwiIHwgXCJnXCIgfCBcImhcIiB8IFwiaVwiIHwgXCJzaW5nbGVcIiA9IFwiYVwiO1xuICBleHBvcnQgbGV0IGltYWdlczogUmVhZHlJbWFnZUxpbmtbXSA9IFtdO1xuICBleHBvcnQgbGV0IHJlcXVpcmVkSW1hZ2VzID0gMDtcbiAgZXhwb3J0IGxldCBjYXB0aW9uOiBzdHJpbmcgPSBcIlwiO1xuICBleHBvcnQgbGV0IGRlc2NyaXB0aW9uczogc3RyaW5nW10gPSBbXTtcbiAgZXhwb3J0IGxldCBwZXJtYW5lbnRPdmVybGF5ID0gZmFsc2U7XG5cbiAgbGV0IGRpc3BsYXlJbWFnZXM6IFJlYWR5SW1hZ2VMaW5rW10gPSBbXTtcblxuICAvLyBJZiB0aGUgbnVtYmVyIG9mIGltYWdlVXJscyBpcyBsZXNzIHRoYW4gcmVxdWlyZWRJbWFnZXMsIGZpbGwgdGhlIHJlbWFpbmluZyB3aXRoIFwicGxhY2Vob2xkZXIuanBnXCJcbiAgaWYgKGltYWdlcy5sZW5ndGggPCByZXF1aXJlZEltYWdlcykge1xuICAgIGRpc3BsYXlJbWFnZXMgPSBbXG4gICAgICAuLi5pbWFnZXMsXG4gICAgICAuLi5BcnJheShyZXF1aXJlZEltYWdlcyAtIGltYWdlcy5sZW5ndGgpLmZpbGwoe1xuICAgICAgICB0eXBlOiBcImV4dGVybmFsXCIsXG4gICAgICAgIGxpbms6IFwiaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzY0MHg0ODBcIixcbiAgICAgIH0pLFxuICAgIF07XG4gIH0gZWxzZSB7XG4gICAgZGlzcGxheUltYWdlcyA9IGltYWdlcy5zbGljZSgwLCByZXF1aXJlZEltYWdlcyk7XG4gIH1cbjwvc2NyaXB0PlxuXG48ZGl2XG4gIGNsYXNzPXtgaW1hZ2UtbGF5b3V0cyBpbWFnZS1sYXlvdXRzLWdyaWQgaW1hZ2UtbGF5b3V0cy1sYXlvdXQtJHtsYXlvdXR9IGN1cnNvci1kZWZhdWx0YH1cbj5cbiAgeyNlYWNoIGRpc3BsYXlJbWFnZXMgYXMgaW1hZ2UsIGluZGV4IChpbWFnZS5saW5rKX1cbiAgICA8TGVnYWN5R3JpZEltYWdlXG4gICAgICB7aW5kZXh9XG4gICAgICBzcmM9e2ltYWdlLmxpbmt9XG4gICAgICBkZXNjcmlwdGlvbj17ZGVzY3JpcHRpb25zW2luZGV4XSA/PyBpbWFnZS5hbHQgPz8gYEltYWdlICR7aW5kZXggKyAxfWB9XG4gICAgICB7cGVybWFuZW50T3ZlcmxheX1cbiAgICAvPlxuICB7L2VhY2h9XG48L2Rpdj5cbjxDYXB0aW9uIHtjYXB0aW9ufSAvPlxuXG48c3R5bGU+XG4gIDpnbG9iYWwoLmltYWdlLWxheW91dHMgYnV0dG9uKSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdW5zZXQ7XG4gICAgYm94LXNoYWRvdzogdW5zZXQ7XG4gIH1cblxuICAuaW1hZ2UtbGF5b3V0cy1ncmlkIHtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtZ2FwOiAwLjVyZW07XG4gIH1cblxuICAuaW1hZ2UtbGF5b3V0cy1sYXlvdXQtYSB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xuICAgIGdyaWQtdGVtcGxhdGUtYXJlYXM6IFwiaW1hZ2UtMCBpbWFnZS0xXCI7XG4gIH1cblxuICAuaW1hZ2UtbGF5b3V0cy1sYXlvdXQtYiB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAyZnIgMWZyO1xuICAgIGdyaWQtdGVtcGxhdGUtYXJlYXM6IFwiaW1hZ2UtMCBpbWFnZS0xXCI7XG4gIH1cblxuICAuaW1hZ2UtbGF5b3V0cy1sYXlvdXQtYyB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMmZyO1xuICAgIGdyaWQtdGVtcGxhdGUtYXJlYXM6IFwiaW1hZ2UtMSBpbWFnZS0wXCI7XG4gIH1cblxuICAuaW1hZ2UtbGF5b3V0cy1sYXlvdXQtZCB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAyZnIgMWZyO1xuICAgIGdyaWQtdGVtcGxhdGUtYXJlYXM6XG4gICAgICBcImltYWdlLTAgaW1hZ2UtMVwiXG4gICAgICBcImltYWdlLTAgaW1hZ2UtMlwiO1xuICB9XG5cbiAgLmltYWdlLWxheW91dHMtbGF5b3V0LWUge1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDJmcjtcbiAgICBncmlkLXRlbXBsYXRlLWFyZWFzOlxuICAgICAgXCJpbWFnZS0xIGltYWdlLTBcIlxuICAgICAgXCJpbWFnZS0yIGltYWdlLTBcIjtcbiAgfVxuXG4gIC5pbWFnZS1sYXlvdXRzLWxheW91dC1mIHtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDNmciAxZnI7XG4gICAgZ3JpZC10ZW1wbGF0ZS1hcmVhczpcbiAgICAgIFwiaW1hZ2UtMCBpbWFnZS0xXCJcbiAgICAgIFwiaW1hZ2UtMCBpbWFnZS0yXCJcbiAgICAgIFwiaW1hZ2UtMCBpbWFnZS0zXCI7XG4gIH1cblxuICAuaW1hZ2UtbGF5b3V0cy1sYXlvdXQtZyB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgM2ZyO1xuICAgIGdyaWQtdGVtcGxhdGUtYXJlYXM6XG4gICAgICBcImltYWdlLTEgaW1hZ2UtMFwiXG4gICAgICBcImltYWdlLTIgaW1hZ2UtMFwiXG4gICAgICBcImltYWdlLTMgaW1hZ2UtMFwiO1xuICB9XG5cbiAgLmltYWdlLWxheW91dHMtbGF5b3V0LWgge1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmciAxZnI7XG4gICAgZ3JpZC10ZW1wbGF0ZS1hcmVhczogXCJpbWFnZS0wIGltYWdlLTEgaW1hZ2UtMlwiO1xuICB9XG5cbiAgLmltYWdlLWxheW91dHMtbGF5b3V0LWkge1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmciAxZnIgMWZyO1xuICAgIGdyaWQtdGVtcGxhdGUtYXJlYXM6IFwiaW1hZ2UtMCBpbWFnZS0xIGltYWdlLTIgaW1hZ2UtM1wiO1xuICB9XG5cbiAgLmltYWdlLWxheW91dHMtbGF5b3V0LXNpbmdsZSB7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnI7XG4gICAgZ3JpZC10ZW1wbGF0ZS1hcmVhczogXCJpbWFnZS0wXCI7XG4gIH1cbjwvc3R5bGU+XG4iLCJleHBvcnQgdHlwZSBMYXlvdXRUeXBlID1cbiAgfCBcImFcIlxuICB8IFwiYlwiXG4gIHwgXCJjXCJcbiAgfCBcImRcIlxuICB8IFwiZVwiXG4gIHwgXCJmXCJcbiAgfCBcImdcIlxuICB8IFwiaFwiXG4gIHwgXCJpXCJcbiAgfCBcInNpbmdsZVwiO1xuZXhwb3J0IGNvbnN0IGxheW91dEltYWdlczogUmVjb3JkPExheW91dFR5cGUsIG51bWJlcj4gPSB7XG4gIGE6IDIsXG4gIGI6IDIsXG4gIGM6IDIsXG4gIGQ6IDMsXG4gIGU6IDMsXG4gIGY6IDQsXG4gIGc6IDQsXG4gIGg6IDMsXG4gIGk6IDQsXG4gIHNpbmdsZTogMSxcbn07XG4iLCIvLyBCb3Jyb3dlZCBmcm9tIGh0dHBzOi8vZ2l0aHViLmNvbS9hZ2F0aGF1eS93aWtpbGlua3MtdG8tbWRsaW5rcy1vYnNpZGlhblxuY29uc3QgcmVnZXhXaWtpID0gL1xcW1xcWyhbXlxcXV0rKVxcXVxcXS87XG5jb25zdCByZWdleFBhcmVudGhlc2lzID0gL1xcKCguKj8pXFwpLztcbmNvbnN0IHJlZ2V4QnJhY2tldHMgPSAvXFxbKC4qPylcXF0vO1xuY29uc3QgcmVnZXhXaWtpR2xvYmFsID0gL1xcW1xcWyhbXlxcXV0qKVxcXVxcXS9nO1xuY29uc3QgcmVnZXhNZEdsb2JhbCA9IC9cXFsoW15cXF1dKilcXF1cXCgoW15cXChdKilcXCkvZztcblxuLy8gZXhwb3J0IHR5cGUgSW1hZ2VMaW5rID1cbi8vICAgfCB7XG4vLyAgICAgICB0eXBlOiBcImxvY2FsXCIgfCBcImV4dGVybmFsXCI7XG4vLyAgICAgICBsaW5rOiBzdHJpbmc7XG4vLyAgICAgfVxuLy8gICB8IHtcbi8vICAgICAgIHR5cGU6IFwicGxhY2Vob2xkZXJcIjtcbi8vICAgICB9O1xuXG5leHBvcnQgdHlwZSBFeHRlcm5hbEltYWdlTGluayA9IHtcbiAgdHlwZTogXCJleHRlcm5hbFwiO1xuICBsaW5rOiBzdHJpbmc7XG4gIGFsdD86IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFdpa2lJbWFnZUxpbmsgPSB7XG4gIHR5cGU6IFwid2lraVwiO1xuICBsaW5rOiBzdHJpbmc7XG4gIGFsdD86IHN0cmluZztcbn07XG5cbmV4cG9ydCB0eXBlIFJlc29sdmVkSW1hZ2VMaW5rID0ge1xuICB0eXBlOiBcInJlc29sdmVkXCI7XG4gIGxpbms6IHN0cmluZztcbiAgYWx0Pzogc3RyaW5nO1xufTtcblxuZXhwb3J0IHR5cGUgSW1hZ2VMaW5rID0gRXh0ZXJuYWxJbWFnZUxpbmsgfCBXaWtpSW1hZ2VMaW5rO1xuZXhwb3J0IHR5cGUgUmVhZHlJbWFnZUxpbmsgPSBFeHRlcm5hbEltYWdlTGluayB8IFJlc29sdmVkSW1hZ2VMaW5rO1xuXG5leHBvcnQgY29uc3QgZ2V0SW1hZ2VGcm9tTGluZSA9IChsaW5lOiBzdHJpbmcpOiBJbWFnZUxpbmsgfCBudWxsID0+IHtcbiAgaWYgKGxpbmUubWF0Y2gocmVnZXhNZEdsb2JhbCkpIHtcbiAgICBjb25zdCBsaW5rID0gbGluZS5tYXRjaChyZWdleFBhcmVudGhlc2lzKT8uWzFdO1xuICAgIGNvbnN0IGFsdCA9IGxpbmUubWF0Y2gocmVnZXhCcmFja2V0cyk/LlsxXTtcbiAgICBpZiAobGluaykge1xuICAgICAgaWYgKGxpbmsudG9Mb3dlckNhc2UoKS5zdGFydHNXaXRoKFwiaHR0cFwiKSkge1xuICAgICAgICByZXR1cm4geyB0eXBlOiBcImV4dGVybmFsXCIsIGxpbmssIGFsdCB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHsgdHlwZTogXCJ3aWtpXCIsIGxpbmssIGFsdCB9O1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmIChsaW5lLm1hdGNoKHJlZ2V4V2lraUdsb2JhbCkpIHtcbiAgICBjb25zdCBsaW5rID0gbGluZS5tYXRjaChyZWdleFdpa2kpPy5bMV07XG4gICAgaWYgKGxpbmspIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwid2lraVwiLFxuICAgICAgICBsaW5rOiBsaW5rLFxuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0SW1hZ2VzID0gKHNvdXJjZTogc3RyaW5nKTogSW1hZ2VMaW5rW10gPT4ge1xuICBjb25zdCBsaW5lcyA9IHNvdXJjZS5zcGxpdChcIlxcblwiKS5maWx0ZXIoKHJvdykgPT4gcm93LnN0YXJ0c1dpdGgoXCIhXCIpKTtcbiAgY29uc3QgaW1hZ2VzID0gbGluZXMubWFwKChsaW5lKSA9PiBnZXRJbWFnZUZyb21MaW5lKGxpbmUpKTtcbiAgcmV0dXJuIGltYWdlcy5maWx0ZXIoKGltYWdlKSA9PiBpbWFnZSAhPT0gbnVsbCkgYXMgSW1hZ2VMaW5rW107XG59O1xuIiwiaW1wb3J0IHsgUGx1Z2luLCB0eXBlIE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCB0eXBlIHsgSW1hZ2VMaW5rLCBSZWFkeUltYWdlTGluayB9IGZyb20gXCIuL2ltYWdlc1wiO1xuXG5leHBvcnQgZnVuY3Rpb24gcmVzb2x2ZUxvY2FsSW1hZ2VzKFxuICBpbWFnZXM6IEltYWdlTGlua1tdLFxuICBjdHg6IE1hcmtkb3duUG9zdFByb2Nlc3NvckNvbnRleHQsXG4gIHBsdWdpbjogUGx1Z2luXG4pOiBSZWFkeUltYWdlTGlua1tdIHtcbiAgLy8gXHR2YXIgZGVzdEZpbGUgPSBwbHVnaW4uYXBwLm1ldGFkYXRhQ2FjaGUuZ2V0Rmlyc3RMaW5rcGF0aERlc3QobGluaywgc291cmNlUGF0aCk7XG4gIC8vIGlmIChkZXN0RmlsZSkge1xuICAvLyBcdGNvbnN0IGltZyA9IHBhcmVudC5jcmVhdGVFbChcImltZ1wiKTtcbiAgLy8gXHRpbWcuc3JjID0gcGx1Z2luLmFwcC52YXVsdC5hZGFwdGVyLmdldFJlc291cmNlUGF0aChkZXN0RmlsZS5wYXRoKTtcbiAgLy8gfVxuICByZXR1cm4gaW1hZ2VzLm1hcCgoaW1hZ2UpID0+IHtcbiAgICBpZiAoaW1hZ2UudHlwZSA9PT0gXCJ3aWtpXCIpIHtcbiAgICAgIGNvbnN0IGRlc3RGaWxlID0gcGx1Z2luLmFwcC5tZXRhZGF0YUNhY2hlLmdldEZpcnN0TGlua3BhdGhEZXN0KFxuICAgICAgICBpbWFnZS5saW5rLFxuICAgICAgICBjdHguc291cmNlUGF0aFxuICAgICAgKTtcbiAgICAgIGlmIChkZXN0RmlsZSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHR5cGU6IFwicmVzb2x2ZWRcIixcbiAgICAgICAgICBsaW5rOiBwbHVnaW4uYXBwLnZhdWx0LmFkYXB0ZXIuZ2V0UmVzb3VyY2VQYXRoKGRlc3RGaWxlLnBhdGgpLFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaW1hZ2UgYXMgUmVhZHlJbWFnZUxpbms7XG4gIH0pO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5cbmZ1bmN0aW9uIGlzTm90aGluZyhzdWJqZWN0KSB7XG4gIHJldHVybiAodHlwZW9mIHN1YmplY3QgPT09ICd1bmRlZmluZWQnKSB8fCAoc3ViamVjdCA9PT0gbnVsbCk7XG59XG5cblxuZnVuY3Rpb24gaXNPYmplY3Qoc3ViamVjdCkge1xuICByZXR1cm4gKHR5cGVvZiBzdWJqZWN0ID09PSAnb2JqZWN0JykgJiYgKHN1YmplY3QgIT09IG51bGwpO1xufVxuXG5cbmZ1bmN0aW9uIHRvQXJyYXkoc2VxdWVuY2UpIHtcbiAgaWYgKEFycmF5LmlzQXJyYXkoc2VxdWVuY2UpKSByZXR1cm4gc2VxdWVuY2U7XG4gIGVsc2UgaWYgKGlzTm90aGluZyhzZXF1ZW5jZSkpIHJldHVybiBbXTtcblxuICByZXR1cm4gWyBzZXF1ZW5jZSBdO1xufVxuXG5cbmZ1bmN0aW9uIGV4dGVuZCh0YXJnZXQsIHNvdXJjZSkge1xuICB2YXIgaW5kZXgsIGxlbmd0aCwga2V5LCBzb3VyY2VLZXlzO1xuXG4gIGlmIChzb3VyY2UpIHtcbiAgICBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTtcblxuICAgIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBzb3VyY2VLZXlzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICAgIGtleSA9IHNvdXJjZUtleXNbaW5kZXhdO1xuICAgICAgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5cbmZ1bmN0aW9uIHJlcGVhdChzdHJpbmcsIGNvdW50KSB7XG4gIHZhciByZXN1bHQgPSAnJywgY3ljbGU7XG5cbiAgZm9yIChjeWNsZSA9IDA7IGN5Y2xlIDwgY291bnQ7IGN5Y2xlICs9IDEpIHtcbiAgICByZXN1bHQgKz0gc3RyaW5nO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuXG5mdW5jdGlvbiBpc05lZ2F0aXZlWmVybyhudW1iZXIpIHtcbiAgcmV0dXJuIChudW1iZXIgPT09IDApICYmIChOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkgPT09IDEgLyBudW1iZXIpO1xufVxuXG5cbm1vZHVsZS5leHBvcnRzLmlzTm90aGluZyAgICAgID0gaXNOb3RoaW5nO1xubW9kdWxlLmV4cG9ydHMuaXNPYmplY3QgICAgICAgPSBpc09iamVjdDtcbm1vZHVsZS5leHBvcnRzLnRvQXJyYXkgICAgICAgID0gdG9BcnJheTtcbm1vZHVsZS5leHBvcnRzLnJlcGVhdCAgICAgICAgID0gcmVwZWF0O1xubW9kdWxlLmV4cG9ydHMuaXNOZWdhdGl2ZVplcm8gPSBpc05lZ2F0aXZlWmVybztcbm1vZHVsZS5leHBvcnRzLmV4dGVuZCAgICAgICAgID0gZXh0ZW5kO1xuIiwiLy8gWUFNTCBlcnJvciBjbGFzcy4gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy84NDU4OTg0XG4vL1xuJ3VzZSBzdHJpY3QnO1xuXG5mdW5jdGlvbiBZQU1MRXhjZXB0aW9uKHJlYXNvbiwgbWFyaykge1xuICAvLyBTdXBlciBjb25zdHJ1Y3RvclxuICBFcnJvci5jYWxsKHRoaXMpO1xuXG4gIHRoaXMubmFtZSA9ICdZQU1MRXhjZXB0aW9uJztcbiAgdGhpcy5yZWFzb24gPSByZWFzb247XG4gIHRoaXMubWFyayA9IG1hcms7XG4gIHRoaXMubWVzc2FnZSA9ICh0aGlzLnJlYXNvbiB8fCAnKHVua25vd24gcmVhc29uKScpICsgKHRoaXMubWFyayA/ICcgJyArIHRoaXMubWFyay50b1N0cmluZygpIDogJycpO1xuXG4gIC8vIEluY2x1ZGUgc3RhY2sgdHJhY2UgaW4gZXJyb3Igb2JqZWN0XG4gIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkge1xuICAgIC8vIENocm9tZSBhbmQgTm9kZUpTXG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgdGhpcy5jb25zdHJ1Y3Rvcik7XG4gIH0gZWxzZSB7XG4gICAgLy8gRkYsIElFIDEwKyBhbmQgU2FmYXJpIDYrLiBGYWxsYmFjayBmb3Igb3RoZXJzXG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2sgfHwgJyc7XG4gIH1cbn1cblxuXG4vLyBJbmhlcml0IGZyb20gRXJyb3JcbllBTUxFeGNlcHRpb24ucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShFcnJvci5wcm90b3R5cGUpO1xuWUFNTEV4Y2VwdGlvbi5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBZQU1MRXhjZXB0aW9uO1xuXG5cbllBTUxFeGNlcHRpb24ucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoY29tcGFjdCkge1xuICB2YXIgcmVzdWx0ID0gdGhpcy5uYW1lICsgJzogJztcblxuICByZXN1bHQgKz0gdGhpcy5yZWFzb24gfHwgJyh1bmtub3duIHJlYXNvbiknO1xuXG4gIGlmICghY29tcGFjdCAmJiB0aGlzLm1hcmspIHtcbiAgICByZXN1bHQgKz0gJyAnICsgdGhpcy5tYXJrLnRvU3RyaW5nKCk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFlBTUxFeGNlcHRpb247XG4iLCIndXNlIHN0cmljdCc7XG5cblxudmFyIGNvbW1vbiA9IHJlcXVpcmUoJy4vY29tbW9uJyk7XG5cblxuZnVuY3Rpb24gTWFyayhuYW1lLCBidWZmZXIsIHBvc2l0aW9uLCBsaW5lLCBjb2x1bW4pIHtcbiAgdGhpcy5uYW1lICAgICA9IG5hbWU7XG4gIHRoaXMuYnVmZmVyICAgPSBidWZmZXI7XG4gIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcbiAgdGhpcy5saW5lICAgICA9IGxpbmU7XG4gIHRoaXMuY29sdW1uICAgPSBjb2x1bW47XG59XG5cblxuTWFyay5wcm90b3R5cGUuZ2V0U25pcHBldCA9IGZ1bmN0aW9uIGdldFNuaXBwZXQoaW5kZW50LCBtYXhMZW5ndGgpIHtcbiAgdmFyIGhlYWQsIHN0YXJ0LCB0YWlsLCBlbmQsIHNuaXBwZXQ7XG5cbiAgaWYgKCF0aGlzLmJ1ZmZlcikgcmV0dXJuIG51bGw7XG5cbiAgaW5kZW50ID0gaW5kZW50IHx8IDQ7XG4gIG1heExlbmd0aCA9IG1heExlbmd0aCB8fCA3NTtcblxuICBoZWFkID0gJyc7XG4gIHN0YXJ0ID0gdGhpcy5wb3NpdGlvbjtcblxuICB3aGlsZSAoc3RhcnQgPiAwICYmICdcXHgwMFxcclxcblxceDg1XFx1MjAyOFxcdTIwMjknLmluZGV4T2YodGhpcy5idWZmZXIuY2hhckF0KHN0YXJ0IC0gMSkpID09PSAtMSkge1xuICAgIHN0YXJ0IC09IDE7XG4gICAgaWYgKHRoaXMucG9zaXRpb24gLSBzdGFydCA+IChtYXhMZW5ndGggLyAyIC0gMSkpIHtcbiAgICAgIGhlYWQgPSAnIC4uLiAnO1xuICAgICAgc3RhcnQgKz0gNTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHRhaWwgPSAnJztcbiAgZW5kID0gdGhpcy5wb3NpdGlvbjtcblxuICB3aGlsZSAoZW5kIDwgdGhpcy5idWZmZXIubGVuZ3RoICYmICdcXHgwMFxcclxcblxceDg1XFx1MjAyOFxcdTIwMjknLmluZGV4T2YodGhpcy5idWZmZXIuY2hhckF0KGVuZCkpID09PSAtMSkge1xuICAgIGVuZCArPSAxO1xuICAgIGlmIChlbmQgLSB0aGlzLnBvc2l0aW9uID4gKG1heExlbmd0aCAvIDIgLSAxKSkge1xuICAgICAgdGFpbCA9ICcgLi4uICc7XG4gICAgICBlbmQgLT0gNTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHNuaXBwZXQgPSB0aGlzLmJ1ZmZlci5zbGljZShzdGFydCwgZW5kKTtcblxuICByZXR1cm4gY29tbW9uLnJlcGVhdCgnICcsIGluZGVudCkgKyBoZWFkICsgc25pcHBldCArIHRhaWwgKyAnXFxuJyArXG4gICAgICAgICBjb21tb24ucmVwZWF0KCcgJywgaW5kZW50ICsgdGhpcy5wb3NpdGlvbiAtIHN0YXJ0ICsgaGVhZC5sZW5ndGgpICsgJ14nO1xufTtcblxuXG5NYXJrLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKGNvbXBhY3QpIHtcbiAgdmFyIHNuaXBwZXQsIHdoZXJlID0gJyc7XG5cbiAgaWYgKHRoaXMubmFtZSkge1xuICAgIHdoZXJlICs9ICdpbiBcIicgKyB0aGlzLm5hbWUgKyAnXCIgJztcbiAgfVxuXG4gIHdoZXJlICs9ICdhdCBsaW5lICcgKyAodGhpcy5saW5lICsgMSkgKyAnLCBjb2x1bW4gJyArICh0aGlzLmNvbHVtbiArIDEpO1xuXG4gIGlmICghY29tcGFjdCkge1xuICAgIHNuaXBwZXQgPSB0aGlzLmdldFNuaXBwZXQoKTtcblxuICAgIGlmIChzbmlwcGV0KSB7XG4gICAgICB3aGVyZSArPSAnOlxcbicgKyBzbmlwcGV0O1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB3aGVyZTtcbn07XG5cblxubW9kdWxlLmV4cG9ydHMgPSBNYXJrO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgWUFNTEV4Y2VwdGlvbiA9IHJlcXVpcmUoJy4vZXhjZXB0aW9uJyk7XG5cbnZhciBUWVBFX0NPTlNUUlVDVE9SX09QVElPTlMgPSBbXG4gICdraW5kJyxcbiAgJ3Jlc29sdmUnLFxuICAnY29uc3RydWN0JyxcbiAgJ2luc3RhbmNlT2YnLFxuICAncHJlZGljYXRlJyxcbiAgJ3JlcHJlc2VudCcsXG4gICdkZWZhdWx0U3R5bGUnLFxuICAnc3R5bGVBbGlhc2VzJ1xuXTtcblxudmFyIFlBTUxfTk9ERV9LSU5EUyA9IFtcbiAgJ3NjYWxhcicsXG4gICdzZXF1ZW5jZScsXG4gICdtYXBwaW5nJ1xuXTtcblxuZnVuY3Rpb24gY29tcGlsZVN0eWxlQWxpYXNlcyhtYXApIHtcbiAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gIGlmIChtYXAgIT09IG51bGwpIHtcbiAgICBPYmplY3Qua2V5cyhtYXApLmZvckVhY2goZnVuY3Rpb24gKHN0eWxlKSB7XG4gICAgICBtYXBbc3R5bGVdLmZvckVhY2goZnVuY3Rpb24gKGFsaWFzKSB7XG4gICAgICAgIHJlc3VsdFtTdHJpbmcoYWxpYXMpXSA9IHN0eWxlO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBUeXBlKHRhZywgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICBPYmplY3Qua2V5cyhvcHRpb25zKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKFRZUEVfQ09OU1RSVUNUT1JfT1BUSU9OUy5pbmRleE9mKG5hbWUpID09PSAtMSkge1xuICAgICAgdGhyb3cgbmV3IFlBTUxFeGNlcHRpb24oJ1Vua25vd24gb3B0aW9uIFwiJyArIG5hbWUgKyAnXCIgaXMgbWV0IGluIGRlZmluaXRpb24gb2YgXCInICsgdGFnICsgJ1wiIFlBTUwgdHlwZS4nKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIFRPRE86IEFkZCB0YWcgZm9ybWF0IGNoZWNrLlxuICB0aGlzLnRhZyAgICAgICAgICA9IHRhZztcbiAgdGhpcy5raW5kICAgICAgICAgPSBvcHRpb25zWydraW5kJ10gICAgICAgICB8fCBudWxsO1xuICB0aGlzLnJlc29sdmUgICAgICA9IG9wdGlvbnNbJ3Jlc29sdmUnXSAgICAgIHx8IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRydWU7IH07XG4gIHRoaXMuY29uc3RydWN0ICAgID0gb3B0aW9uc1snY29uc3RydWN0J10gICAgfHwgZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIGRhdGE7IH07XG4gIHRoaXMuaW5zdGFuY2VPZiAgID0gb3B0aW9uc1snaW5zdGFuY2VPZiddICAgfHwgbnVsbDtcbiAgdGhpcy5wcmVkaWNhdGUgICAgPSBvcHRpb25zWydwcmVkaWNhdGUnXSAgICB8fCBudWxsO1xuICB0aGlzLnJlcHJlc2VudCAgICA9IG9wdGlvbnNbJ3JlcHJlc2VudCddICAgIHx8IG51bGw7XG4gIHRoaXMuZGVmYXVsdFN0eWxlID0gb3B0aW9uc1snZGVmYXVsdFN0eWxlJ10gfHwgbnVsbDtcbiAgdGhpcy5zdHlsZUFsaWFzZXMgPSBjb21waWxlU3R5bGVBbGlhc2VzKG9wdGlvbnNbJ3N0eWxlQWxpYXNlcyddIHx8IG51bGwpO1xuXG4gIGlmIChZQU1MX05PREVfS0lORFMuaW5kZXhPZih0aGlzLmtpbmQpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBZQU1MRXhjZXB0aW9uKCdVbmtub3duIGtpbmQgXCInICsgdGhpcy5raW5kICsgJ1wiIGlzIHNwZWNpZmllZCBmb3IgXCInICsgdGFnICsgJ1wiIFlBTUwgdHlwZS4nKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFR5cGU7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qZXNsaW50LWRpc2FibGUgbWF4LWxlbiovXG5cbnZhciBjb21tb24gICAgICAgID0gcmVxdWlyZSgnLi9jb21tb24nKTtcbnZhciBZQU1MRXhjZXB0aW9uID0gcmVxdWlyZSgnLi9leGNlcHRpb24nKTtcbnZhciBUeXBlICAgICAgICAgID0gcmVxdWlyZSgnLi90eXBlJyk7XG5cblxuZnVuY3Rpb24gY29tcGlsZUxpc3Qoc2NoZW1hLCBuYW1lLCByZXN1bHQpIHtcbiAgdmFyIGV4Y2x1ZGUgPSBbXTtcblxuICBzY2hlbWEuaW5jbHVkZS5mb3JFYWNoKGZ1bmN0aW9uIChpbmNsdWRlZFNjaGVtYSkge1xuICAgIHJlc3VsdCA9IGNvbXBpbGVMaXN0KGluY2x1ZGVkU2NoZW1hLCBuYW1lLCByZXN1bHQpO1xuICB9KTtcblxuICBzY2hlbWFbbmFtZV0uZm9yRWFjaChmdW5jdGlvbiAoY3VycmVudFR5cGUpIHtcbiAgICByZXN1bHQuZm9yRWFjaChmdW5jdGlvbiAocHJldmlvdXNUeXBlLCBwcmV2aW91c0luZGV4KSB7XG4gICAgICBpZiAocHJldmlvdXNUeXBlLnRhZyA9PT0gY3VycmVudFR5cGUudGFnICYmIHByZXZpb3VzVHlwZS5raW5kID09PSBjdXJyZW50VHlwZS5raW5kKSB7XG4gICAgICAgIGV4Y2x1ZGUucHVzaChwcmV2aW91c0luZGV4KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlc3VsdC5wdXNoKGN1cnJlbnRUeXBlKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlc3VsdC5maWx0ZXIoZnVuY3Rpb24gKHR5cGUsIGluZGV4KSB7XG4gICAgcmV0dXJuIGV4Y2x1ZGUuaW5kZXhPZihpbmRleCkgPT09IC0xO1xuICB9KTtcbn1cblxuXG5mdW5jdGlvbiBjb21waWxlTWFwKC8qIGxpc3RzLi4uICovKSB7XG4gIHZhciByZXN1bHQgPSB7XG4gICAgICAgIHNjYWxhcjoge30sXG4gICAgICAgIHNlcXVlbmNlOiB7fSxcbiAgICAgICAgbWFwcGluZzoge30sXG4gICAgICAgIGZhbGxiYWNrOiB7fVxuICAgICAgfSwgaW5kZXgsIGxlbmd0aDtcblxuICBmdW5jdGlvbiBjb2xsZWN0VHlwZSh0eXBlKSB7XG4gICAgcmVzdWx0W3R5cGUua2luZF1bdHlwZS50YWddID0gcmVzdWx0WydmYWxsYmFjayddW3R5cGUudGFnXSA9IHR5cGU7XG4gIH1cblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICBhcmd1bWVudHNbaW5kZXhdLmZvckVhY2goY29sbGVjdFR5cGUpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cblxuZnVuY3Rpb24gU2NoZW1hKGRlZmluaXRpb24pIHtcbiAgdGhpcy5pbmNsdWRlICA9IGRlZmluaXRpb24uaW5jbHVkZSAgfHwgW107XG4gIHRoaXMuaW1wbGljaXQgPSBkZWZpbml0aW9uLmltcGxpY2l0IHx8IFtdO1xuICB0aGlzLmV4cGxpY2l0ID0gZGVmaW5pdGlvbi5leHBsaWNpdCB8fCBbXTtcblxuICB0aGlzLmltcGxpY2l0LmZvckVhY2goZnVuY3Rpb24gKHR5cGUpIHtcbiAgICBpZiAodHlwZS5sb2FkS2luZCAmJiB0eXBlLmxvYWRLaW5kICE9PSAnc2NhbGFyJykge1xuICAgICAgdGhyb3cgbmV3IFlBTUxFeGNlcHRpb24oJ1RoZXJlIGlzIGEgbm9uLXNjYWxhciB0eXBlIGluIHRoZSBpbXBsaWNpdCBsaXN0IG9mIGEgc2NoZW1hLiBJbXBsaWNpdCByZXNvbHZpbmcgb2Ygc3VjaCB0eXBlcyBpcyBub3Qgc3VwcG9ydGVkLicpO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy5jb21waWxlZEltcGxpY2l0ID0gY29tcGlsZUxpc3QodGhpcywgJ2ltcGxpY2l0JywgW10pO1xuICB0aGlzLmNvbXBpbGVkRXhwbGljaXQgPSBjb21waWxlTGlzdCh0aGlzLCAnZXhwbGljaXQnLCBbXSk7XG4gIHRoaXMuY29tcGlsZWRUeXBlTWFwICA9IGNvbXBpbGVNYXAodGhpcy5jb21waWxlZEltcGxpY2l0LCB0aGlzLmNvbXBpbGVkRXhwbGljaXQpO1xufVxuXG5cblNjaGVtYS5ERUZBVUxUID0gbnVsbDtcblxuXG5TY2hlbWEuY3JlYXRlID0gZnVuY3Rpb24gY3JlYXRlU2NoZW1hKCkge1xuICB2YXIgc2NoZW1hcywgdHlwZXM7XG5cbiAgc3dpdGNoIChhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgY2FzZSAxOlxuICAgICAgc2NoZW1hcyA9IFNjaGVtYS5ERUZBVUxUO1xuICAgICAgdHlwZXMgPSBhcmd1bWVudHNbMF07XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgMjpcbiAgICAgIHNjaGVtYXMgPSBhcmd1bWVudHNbMF07XG4gICAgICB0eXBlcyA9IGFyZ3VtZW50c1sxXTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHRocm93IG5ldyBZQU1MRXhjZXB0aW9uKCdXcm9uZyBudW1iZXIgb2YgYXJndW1lbnRzIGZvciBTY2hlbWEuY3JlYXRlIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBzY2hlbWFzID0gY29tbW9uLnRvQXJyYXkoc2NoZW1hcyk7XG4gIHR5cGVzID0gY29tbW9uLnRvQXJyYXkodHlwZXMpO1xuXG4gIGlmICghc2NoZW1hcy5ldmVyeShmdW5jdGlvbiAoc2NoZW1hKSB7IHJldHVybiBzY2hlbWEgaW5zdGFuY2VvZiBTY2hlbWE7IH0pKSB7XG4gICAgdGhyb3cgbmV3IFlBTUxFeGNlcHRpb24oJ1NwZWNpZmllZCBsaXN0IG9mIHN1cGVyIHNjaGVtYXMgKG9yIGEgc2luZ2xlIFNjaGVtYSBvYmplY3QpIGNvbnRhaW5zIGEgbm9uLVNjaGVtYSBvYmplY3QuJyk7XG4gIH1cblxuICBpZiAoIXR5cGVzLmV2ZXJ5KGZ1bmN0aW9uICh0eXBlKSB7IHJldHVybiB0eXBlIGluc3RhbmNlb2YgVHlwZTsgfSkpIHtcbiAgICB0aHJvdyBuZXcgWUFNTEV4Y2VwdGlvbignU3BlY2lmaWVkIGxpc3Qgb2YgWUFNTCB0eXBlcyAob3IgYSBzaW5nbGUgVHlwZSBvYmplY3QpIGNvbnRhaW5zIGEgbm9uLVR5cGUgb2JqZWN0LicpO1xuICB9XG5cbiAgcmV0dXJuIG5ldyBTY2hlbWEoe1xuICAgIGluY2x1ZGU6IHNjaGVtYXMsXG4gICAgZXhwbGljaXQ6IHR5cGVzXG4gIH0pO1xufTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFNjaGVtYTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFR5cGUgPSByZXF1aXJlKCcuLi90eXBlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IFR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOnN0cicsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIGNvbnN0cnVjdDogZnVuY3Rpb24gKGRhdGEpIHsgcmV0dXJuIGRhdGEgIT09IG51bGwgPyBkYXRhIDogJyc7IH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVHlwZSA9IHJlcXVpcmUoJy4uL3R5cGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6c2VxJywge1xuICBraW5kOiAnc2VxdWVuY2UnLFxuICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBkYXRhICE9PSBudWxsID8gZGF0YSA6IFtdOyB9XG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFR5cGUgPSByZXF1aXJlKCcuLi90eXBlJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IFR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOm1hcCcsIHtcbiAga2luZDogJ21hcHBpbmcnLFxuICBjb25zdHJ1Y3Q6IGZ1bmN0aW9uIChkYXRhKSB7IHJldHVybiBkYXRhICE9PSBudWxsID8gZGF0YSA6IHt9OyB9XG59KTtcbiIsIi8vIFN0YW5kYXJkIFlBTUwncyBGYWlsc2FmZSBzY2hlbWEuXG4vLyBodHRwOi8vd3d3LnlhbWwub3JnL3NwZWMvMS4yL3NwZWMuaHRtbCNpZDI4MDIzNDZcblxuXG4ndXNlIHN0cmljdCc7XG5cblxudmFyIFNjaGVtYSA9IHJlcXVpcmUoJy4uL3NjaGVtYScpO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IFNjaGVtYSh7XG4gIGV4cGxpY2l0OiBbXG4gICAgcmVxdWlyZSgnLi4vdHlwZS9zdHInKSxcbiAgICByZXF1aXJlKCcuLi90eXBlL3NlcScpLFxuICAgIHJlcXVpcmUoJy4uL3R5cGUvbWFwJylcbiAgXVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBUeXBlID0gcmVxdWlyZSgnLi4vdHlwZScpO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbE51bGwoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIHRydWU7XG5cbiAgdmFyIG1heCA9IGRhdGEubGVuZ3RoO1xuXG4gIHJldHVybiAobWF4ID09PSAxICYmIGRhdGEgPT09ICd+JykgfHxcbiAgICAgICAgIChtYXggPT09IDQgJiYgKGRhdGEgPT09ICdudWxsJyB8fCBkYXRhID09PSAnTnVsbCcgfHwgZGF0YSA9PT0gJ05VTEwnKSk7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxOdWxsKCkge1xuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gaXNOdWxsKG9iamVjdCkge1xuICByZXR1cm4gb2JqZWN0ID09PSBudWxsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBUeXBlKCd0YWc6eWFtbC5vcmcsMjAwMjpudWxsJywge1xuICBraW5kOiAnc2NhbGFyJyxcbiAgcmVzb2x2ZTogcmVzb2x2ZVlhbWxOdWxsLFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdFlhbWxOdWxsLFxuICBwcmVkaWNhdGU6IGlzTnVsbCxcbiAgcmVwcmVzZW50OiB7XG4gICAgY2Fub25pY2FsOiBmdW5jdGlvbiAoKSB7IHJldHVybiAnfic7ICAgIH0sXG4gICAgbG93ZXJjYXNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiAnbnVsbCc7IH0sXG4gICAgdXBwZXJjYXNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiAnTlVMTCc7IH0sXG4gICAgY2FtZWxjYXNlOiBmdW5jdGlvbiAoKSB7IHJldHVybiAnTnVsbCc7IH1cbiAgfSxcbiAgZGVmYXVsdFN0eWxlOiAnbG93ZXJjYXNlJ1xufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBUeXBlID0gcmVxdWlyZSgnLi4vdHlwZScpO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbEJvb2xlYW4oZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIHZhciBtYXggPSBkYXRhLmxlbmd0aDtcblxuICByZXR1cm4gKG1heCA9PT0gNCAmJiAoZGF0YSA9PT0gJ3RydWUnIHx8IGRhdGEgPT09ICdUcnVlJyB8fCBkYXRhID09PSAnVFJVRScpKSB8fFxuICAgICAgICAgKG1heCA9PT0gNSAmJiAoZGF0YSA9PT0gJ2ZhbHNlJyB8fCBkYXRhID09PSAnRmFsc2UnIHx8IGRhdGEgPT09ICdGQUxTRScpKTtcbn1cblxuZnVuY3Rpb24gY29uc3RydWN0WWFtbEJvb2xlYW4oZGF0YSkge1xuICByZXR1cm4gZGF0YSA9PT0gJ3RydWUnIHx8XG4gICAgICAgICBkYXRhID09PSAnVHJ1ZScgfHxcbiAgICAgICAgIGRhdGEgPT09ICdUUlVFJztcbn1cblxuZnVuY3Rpb24gaXNCb29sZWFuKG9iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IEJvb2xlYW5dJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6Ym9vbCcsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sQm9vbGVhbixcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sQm9vbGVhbixcbiAgcHJlZGljYXRlOiBpc0Jvb2xlYW4sXG4gIHJlcHJlc2VudDoge1xuICAgIGxvd2VyY2FzZTogZnVuY3Rpb24gKG9iamVjdCkgeyByZXR1cm4gb2JqZWN0ID8gJ3RydWUnIDogJ2ZhbHNlJzsgfSxcbiAgICB1cHBlcmNhc2U6IGZ1bmN0aW9uIChvYmplY3QpIHsgcmV0dXJuIG9iamVjdCA/ICdUUlVFJyA6ICdGQUxTRSc7IH0sXG4gICAgY2FtZWxjYXNlOiBmdW5jdGlvbiAob2JqZWN0KSB7IHJldHVybiBvYmplY3QgPyAnVHJ1ZScgOiAnRmFsc2UnOyB9XG4gIH0sXG4gIGRlZmF1bHRTdHlsZTogJ2xvd2VyY2FzZSdcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY29tbW9uID0gcmVxdWlyZSgnLi4vY29tbW9uJyk7XG52YXIgVHlwZSAgID0gcmVxdWlyZSgnLi4vdHlwZScpO1xuXG5mdW5jdGlvbiBpc0hleENvZGUoYykge1xuICByZXR1cm4gKCgweDMwLyogMCAqLyA8PSBjKSAmJiAoYyA8PSAweDM5LyogOSAqLykpIHx8XG4gICAgICAgICAoKDB4NDEvKiBBICovIDw9IGMpICYmIChjIDw9IDB4NDYvKiBGICovKSkgfHxcbiAgICAgICAgICgoMHg2MS8qIGEgKi8gPD0gYykgJiYgKGMgPD0gMHg2Ni8qIGYgKi8pKTtcbn1cblxuZnVuY3Rpb24gaXNPY3RDb2RlKGMpIHtcbiAgcmV0dXJuICgoMHgzMC8qIDAgKi8gPD0gYykgJiYgKGMgPD0gMHgzNy8qIDcgKi8pKTtcbn1cblxuZnVuY3Rpb24gaXNEZWNDb2RlKGMpIHtcbiAgcmV0dXJuICgoMHgzMC8qIDAgKi8gPD0gYykgJiYgKGMgPD0gMHgzOS8qIDkgKi8pKTtcbn1cblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxJbnRlZ2VyKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICB2YXIgbWF4ID0gZGF0YS5sZW5ndGgsXG4gICAgICBpbmRleCA9IDAsXG4gICAgICBoYXNEaWdpdHMgPSBmYWxzZSxcbiAgICAgIGNoO1xuXG4gIGlmICghbWF4KSByZXR1cm4gZmFsc2U7XG5cbiAgY2ggPSBkYXRhW2luZGV4XTtcblxuICAvLyBzaWduXG4gIGlmIChjaCA9PT0gJy0nIHx8IGNoID09PSAnKycpIHtcbiAgICBjaCA9IGRhdGFbKytpbmRleF07XG4gIH1cblxuICBpZiAoY2ggPT09ICcwJykge1xuICAgIC8vIDBcbiAgICBpZiAoaW5kZXggKyAxID09PSBtYXgpIHJldHVybiB0cnVlO1xuICAgIGNoID0gZGF0YVsrK2luZGV4XTtcblxuICAgIC8vIGJhc2UgMiwgYmFzZSA4LCBiYXNlIDE2XG5cbiAgICBpZiAoY2ggPT09ICdiJykge1xuICAgICAgLy8gYmFzZSAyXG4gICAgICBpbmRleCsrO1xuXG4gICAgICBmb3IgKDsgaW5kZXggPCBtYXg7IGluZGV4KyspIHtcbiAgICAgICAgY2ggPSBkYXRhW2luZGV4XTtcbiAgICAgICAgaWYgKGNoID09PSAnXycpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoY2ggIT09ICcwJyAmJiBjaCAhPT0gJzEnKSByZXR1cm4gZmFsc2U7XG4gICAgICAgIGhhc0RpZ2l0cyA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzRGlnaXRzICYmIGNoICE9PSAnXyc7XG4gICAgfVxuXG5cbiAgICBpZiAoY2ggPT09ICd4Jykge1xuICAgICAgLy8gYmFzZSAxNlxuICAgICAgaW5kZXgrKztcblxuICAgICAgZm9yICg7IGluZGV4IDwgbWF4OyBpbmRleCsrKSB7XG4gICAgICAgIGNoID0gZGF0YVtpbmRleF07XG4gICAgICAgIGlmIChjaCA9PT0gJ18nKSBjb250aW51ZTtcbiAgICAgICAgaWYgKCFpc0hleENvZGUoZGF0YS5jaGFyQ29kZUF0KGluZGV4KSkpIHJldHVybiBmYWxzZTtcbiAgICAgICAgaGFzRGlnaXRzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBoYXNEaWdpdHMgJiYgY2ggIT09ICdfJztcbiAgICB9XG5cbiAgICAvLyBiYXNlIDhcbiAgICBmb3IgKDsgaW5kZXggPCBtYXg7IGluZGV4KyspIHtcbiAgICAgIGNoID0gZGF0YVtpbmRleF07XG4gICAgICBpZiAoY2ggPT09ICdfJykgY29udGludWU7XG4gICAgICBpZiAoIWlzT2N0Q29kZShkYXRhLmNoYXJDb2RlQXQoaW5kZXgpKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgaGFzRGlnaXRzID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGhhc0RpZ2l0cyAmJiBjaCAhPT0gJ18nO1xuICB9XG5cbiAgLy8gYmFzZSAxMCAoZXhjZXB0IDApIG9yIGJhc2UgNjBcblxuICAvLyB2YWx1ZSBzaG91bGQgbm90IHN0YXJ0IHdpdGggYF9gO1xuICBpZiAoY2ggPT09ICdfJykgcmV0dXJuIGZhbHNlO1xuXG4gIGZvciAoOyBpbmRleCA8IG1heDsgaW5kZXgrKykge1xuICAgIGNoID0gZGF0YVtpbmRleF07XG4gICAgaWYgKGNoID09PSAnXycpIGNvbnRpbnVlO1xuICAgIGlmIChjaCA9PT0gJzonKSBicmVhaztcbiAgICBpZiAoIWlzRGVjQ29kZShkYXRhLmNoYXJDb2RlQXQoaW5kZXgpKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBoYXNEaWdpdHMgPSB0cnVlO1xuICB9XG5cbiAgLy8gU2hvdWxkIGhhdmUgZGlnaXRzIGFuZCBzaG91bGQgbm90IGVuZCB3aXRoIGBfYFxuICBpZiAoIWhhc0RpZ2l0cyB8fCBjaCA9PT0gJ18nKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gaWYgIWJhc2U2MCAtIGRvbmU7XG4gIGlmIChjaCAhPT0gJzonKSByZXR1cm4gdHJ1ZTtcblxuICAvLyBiYXNlNjAgYWxtb3N0IG5vdCB1c2VkLCBubyBuZWVkcyB0byBvcHRpbWl6ZVxuICByZXR1cm4gL14oOlswLTVdP1swLTldKSskLy50ZXN0KGRhdGEuc2xpY2UoaW5kZXgpKTtcbn1cblxuZnVuY3Rpb24gY29uc3RydWN0WWFtbEludGVnZXIoZGF0YSkge1xuICB2YXIgdmFsdWUgPSBkYXRhLCBzaWduID0gMSwgY2gsIGJhc2UsIGRpZ2l0cyA9IFtdO1xuXG4gIGlmICh2YWx1ZS5pbmRleE9mKCdfJykgIT09IC0xKSB7XG4gICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC9fL2csICcnKTtcbiAgfVxuXG4gIGNoID0gdmFsdWVbMF07XG5cbiAgaWYgKGNoID09PSAnLScgfHwgY2ggPT09ICcrJykge1xuICAgIGlmIChjaCA9PT0gJy0nKSBzaWduID0gLTE7XG4gICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgxKTtcbiAgICBjaCA9IHZhbHVlWzBdO1xuICB9XG5cbiAgaWYgKHZhbHVlID09PSAnMCcpIHJldHVybiAwO1xuXG4gIGlmIChjaCA9PT0gJzAnKSB7XG4gICAgaWYgKHZhbHVlWzFdID09PSAnYicpIHJldHVybiBzaWduICogcGFyc2VJbnQodmFsdWUuc2xpY2UoMiksIDIpO1xuICAgIGlmICh2YWx1ZVsxXSA9PT0gJ3gnKSByZXR1cm4gc2lnbiAqIHBhcnNlSW50KHZhbHVlLCAxNik7XG4gICAgcmV0dXJuIHNpZ24gKiBwYXJzZUludCh2YWx1ZSwgOCk7XG4gIH1cblxuICBpZiAodmFsdWUuaW5kZXhPZignOicpICE9PSAtMSkge1xuICAgIHZhbHVlLnNwbGl0KCc6JykuZm9yRWFjaChmdW5jdGlvbiAodikge1xuICAgICAgZGlnaXRzLnVuc2hpZnQocGFyc2VJbnQodiwgMTApKTtcbiAgICB9KTtcblxuICAgIHZhbHVlID0gMDtcbiAgICBiYXNlID0gMTtcblxuICAgIGRpZ2l0cy5mb3JFYWNoKGZ1bmN0aW9uIChkKSB7XG4gICAgICB2YWx1ZSArPSAoZCAqIGJhc2UpO1xuICAgICAgYmFzZSAqPSA2MDtcbiAgICB9KTtcblxuICAgIHJldHVybiBzaWduICogdmFsdWU7XG5cbiAgfVxuXG4gIHJldHVybiBzaWduICogcGFyc2VJbnQodmFsdWUsIDEwKTtcbn1cblxuZnVuY3Rpb24gaXNJbnRlZ2VyKG9iamVjdCkge1xuICByZXR1cm4gKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpKSA9PT0gJ1tvYmplY3QgTnVtYmVyXScgJiZcbiAgICAgICAgIChvYmplY3QgJSAxID09PSAwICYmICFjb21tb24uaXNOZWdhdGl2ZVplcm8ob2JqZWN0KSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IFR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOmludCcsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sSW50ZWdlcixcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sSW50ZWdlcixcbiAgcHJlZGljYXRlOiBpc0ludGVnZXIsXG4gIHJlcHJlc2VudDoge1xuICAgIGJpbmFyeTogICAgICBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogPj0gMCA/ICcwYicgKyBvYmoudG9TdHJpbmcoMikgOiAnLTBiJyArIG9iai50b1N0cmluZygyKS5zbGljZSgxKTsgfSxcbiAgICBvY3RhbDogICAgICAgZnVuY3Rpb24gKG9iaikgeyByZXR1cm4gb2JqID49IDAgPyAnMCcgICsgb2JqLnRvU3RyaW5nKDgpIDogJy0wJyAgKyBvYmoudG9TdHJpbmcoOCkuc2xpY2UoMSk7IH0sXG4gICAgZGVjaW1hbDogICAgIGZ1bmN0aW9uIChvYmopIHsgcmV0dXJuIG9iai50b1N0cmluZygxMCk7IH0sXG4gICAgLyogZXNsaW50LWRpc2FibGUgbWF4LWxlbiAqL1xuICAgIGhleGFkZWNpbWFsOiBmdW5jdGlvbiAob2JqKSB7IHJldHVybiBvYmogPj0gMCA/ICcweCcgKyBvYmoudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkgOiAgJy0weCcgKyBvYmoudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCkuc2xpY2UoMSk7IH1cbiAgfSxcbiAgZGVmYXVsdFN0eWxlOiAnZGVjaW1hbCcsXG4gIHN0eWxlQWxpYXNlczoge1xuICAgIGJpbmFyeTogICAgICBbIDIsICAnYmluJyBdLFxuICAgIG9jdGFsOiAgICAgICBbIDgsICAnb2N0JyBdLFxuICAgIGRlY2ltYWw6ICAgICBbIDEwLCAnZGVjJyBdLFxuICAgIGhleGFkZWNpbWFsOiBbIDE2LCAnaGV4JyBdXG4gIH1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgY29tbW9uID0gcmVxdWlyZSgnLi4vY29tbW9uJyk7XG52YXIgVHlwZSAgID0gcmVxdWlyZSgnLi4vdHlwZScpO1xuXG52YXIgWUFNTF9GTE9BVF9QQVRURVJOID0gbmV3IFJlZ0V4cChcbiAgLy8gMi41ZTQsIDIuNSBhbmQgaW50ZWdlcnNcbiAgJ14oPzpbLStdPyg/OjB8WzEtOV1bMC05X10qKSg/OlxcXFwuWzAtOV9dKik/KD86W2VFXVstK10/WzAtOV0rKT8nICtcbiAgLy8gLjJlNCwgLjJcbiAgLy8gc3BlY2lhbCBjYXNlLCBzZWVtcyBub3QgZnJvbSBzcGVjXG4gICd8XFxcXC5bMC05X10rKD86W2VFXVstK10/WzAtOV0rKT8nICtcbiAgLy8gMjA6NTlcbiAgJ3xbLStdP1swLTldWzAtOV9dKig/OjpbMC01XT9bMC05XSkrXFxcXC5bMC05X10qJyArXG4gIC8vIC5pbmZcbiAgJ3xbLStdP1xcXFwuKD86aW5mfEluZnxJTkYpJyArXG4gIC8vIC5uYW5cbiAgJ3xcXFxcLig/Om5hbnxOYU58TkFOKSkkJyk7XG5cbmZ1bmN0aW9uIHJlc29sdmVZYW1sRmxvYXQoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICghWUFNTF9GTE9BVF9QQVRURVJOLnRlc3QoZGF0YSkgfHxcbiAgICAgIC8vIFF1aWNrIGhhY2sgdG8gbm90IGFsbG93IGludGVnZXJzIGVuZCB3aXRoIGBfYFxuICAgICAgLy8gUHJvYmFibHkgc2hvdWxkIHVwZGF0ZSByZWdleHAgJiBjaGVjayBzcGVlZFxuICAgICAgZGF0YVtkYXRhLmxlbmd0aCAtIDFdID09PSAnXycpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY29uc3RydWN0WWFtbEZsb2F0KGRhdGEpIHtcbiAgdmFyIHZhbHVlLCBzaWduLCBiYXNlLCBkaWdpdHM7XG5cbiAgdmFsdWUgID0gZGF0YS5yZXBsYWNlKC9fL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICBzaWduICAgPSB2YWx1ZVswXSA9PT0gJy0nID8gLTEgOiAxO1xuICBkaWdpdHMgPSBbXTtcblxuICBpZiAoJystJy5pbmRleE9mKHZhbHVlWzBdKSA+PSAwKSB7XG4gICAgdmFsdWUgPSB2YWx1ZS5zbGljZSgxKTtcbiAgfVxuXG4gIGlmICh2YWx1ZSA9PT0gJy5pbmYnKSB7XG4gICAgcmV0dXJuIChzaWduID09PSAxKSA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSA6IE51bWJlci5ORUdBVElWRV9JTkZJTklUWTtcblxuICB9IGVsc2UgaWYgKHZhbHVlID09PSAnLm5hbicpIHtcbiAgICByZXR1cm4gTmFOO1xuXG4gIH0gZWxzZSBpZiAodmFsdWUuaW5kZXhPZignOicpID49IDApIHtcbiAgICB2YWx1ZS5zcGxpdCgnOicpLmZvckVhY2goZnVuY3Rpb24gKHYpIHtcbiAgICAgIGRpZ2l0cy51bnNoaWZ0KHBhcnNlRmxvYXQodiwgMTApKTtcbiAgICB9KTtcblxuICAgIHZhbHVlID0gMC4wO1xuICAgIGJhc2UgPSAxO1xuXG4gICAgZGlnaXRzLmZvckVhY2goZnVuY3Rpb24gKGQpIHtcbiAgICAgIHZhbHVlICs9IGQgKiBiYXNlO1xuICAgICAgYmFzZSAqPSA2MDtcbiAgICB9KTtcblxuICAgIHJldHVybiBzaWduICogdmFsdWU7XG5cbiAgfVxuICByZXR1cm4gc2lnbiAqIHBhcnNlRmxvYXQodmFsdWUsIDEwKTtcbn1cblxuXG52YXIgU0NJRU5USUZJQ19XSVRIT1VUX0RPVCA9IC9eWy0rXT9bMC05XStlLztcblxuZnVuY3Rpb24gcmVwcmVzZW50WWFtbEZsb2F0KG9iamVjdCwgc3R5bGUpIHtcbiAgdmFyIHJlcztcblxuICBpZiAoaXNOYU4ob2JqZWN0KSkge1xuICAgIHN3aXRjaCAoc3R5bGUpIHtcbiAgICAgIGNhc2UgJ2xvd2VyY2FzZSc6IHJldHVybiAnLm5hbic7XG4gICAgICBjYXNlICd1cHBlcmNhc2UnOiByZXR1cm4gJy5OQU4nO1xuICAgICAgY2FzZSAnY2FtZWxjYXNlJzogcmV0dXJuICcuTmFOJztcbiAgICB9XG4gIH0gZWxzZSBpZiAoTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZID09PSBvYmplY3QpIHtcbiAgICBzd2l0Y2ggKHN0eWxlKSB7XG4gICAgICBjYXNlICdsb3dlcmNhc2UnOiByZXR1cm4gJy5pbmYnO1xuICAgICAgY2FzZSAndXBwZXJjYXNlJzogcmV0dXJuICcuSU5GJztcbiAgICAgIGNhc2UgJ2NhbWVsY2FzZSc6IHJldHVybiAnLkluZic7XG4gICAgfVxuICB9IGVsc2UgaWYgKE51bWJlci5ORUdBVElWRV9JTkZJTklUWSA9PT0gb2JqZWN0KSB7XG4gICAgc3dpdGNoIChzdHlsZSkge1xuICAgICAgY2FzZSAnbG93ZXJjYXNlJzogcmV0dXJuICctLmluZic7XG4gICAgICBjYXNlICd1cHBlcmNhc2UnOiByZXR1cm4gJy0uSU5GJztcbiAgICAgIGNhc2UgJ2NhbWVsY2FzZSc6IHJldHVybiAnLS5JbmYnO1xuICAgIH1cbiAgfSBlbHNlIGlmIChjb21tb24uaXNOZWdhdGl2ZVplcm8ob2JqZWN0KSkge1xuICAgIHJldHVybiAnLTAuMCc7XG4gIH1cblxuICByZXMgPSBvYmplY3QudG9TdHJpbmcoMTApO1xuXG4gIC8vIEpTIHN0cmluZ2lmaWVyIGNhbiBidWlsZCBzY2llbnRpZmljIGZvcm1hdCB3aXRob3V0IGRvdHM6IDVlLTEwMCxcbiAgLy8gd2hpbGUgWUFNTCByZXF1cmVzIGRvdDogNS5lLTEwMC4gRml4IGl0IHdpdGggc2ltcGxlIGhhY2tcblxuICByZXR1cm4gU0NJRU5USUZJQ19XSVRIT1VUX0RPVC50ZXN0KHJlcykgPyByZXMucmVwbGFjZSgnZScsICcuZScpIDogcmVzO1xufVxuXG5mdW5jdGlvbiBpc0Zsb2F0KG9iamVjdCkge1xuICByZXR1cm4gKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpID09PSAnW29iamVjdCBOdW1iZXJdJykgJiZcbiAgICAgICAgIChvYmplY3QgJSAxICE9PSAwIHx8IGNvbW1vbi5pc05lZ2F0aXZlWmVybyhvYmplY3QpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6ZmxvYXQnLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbEZsb2F0LFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdFlhbWxGbG9hdCxcbiAgcHJlZGljYXRlOiBpc0Zsb2F0LFxuICByZXByZXNlbnQ6IHJlcHJlc2VudFlhbWxGbG9hdCxcbiAgZGVmYXVsdFN0eWxlOiAnbG93ZXJjYXNlJ1xufSk7XG4iLCIvLyBTdGFuZGFyZCBZQU1MJ3MgSlNPTiBzY2hlbWEuXG4vLyBodHRwOi8vd3d3LnlhbWwub3JnL3NwZWMvMS4yL3NwZWMuaHRtbCNpZDI4MDMyMzFcbi8vXG4vLyBOT1RFOiBKUy1ZQU1MIGRvZXMgbm90IHN1cHBvcnQgc2NoZW1hLXNwZWNpZmljIHRhZyByZXNvbHV0aW9uIHJlc3RyaWN0aW9ucy5cbi8vIFNvLCB0aGlzIHNjaGVtYSBpcyBub3Qgc3VjaCBzdHJpY3QgYXMgZGVmaW5lZCBpbiB0aGUgWUFNTCBzcGVjaWZpY2F0aW9uLlxuLy8gSXQgYWxsb3dzIG51bWJlcnMgaW4gYmluYXJ5IG5vdGFpb24sIHVzZSBgTnVsbGAgYW5kIGBOVUxMYCBhcyBgbnVsbGAsIGV0Yy5cblxuXG4ndXNlIHN0cmljdCc7XG5cblxudmFyIFNjaGVtYSA9IHJlcXVpcmUoJy4uL3NjaGVtYScpO1xuXG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IFNjaGVtYSh7XG4gIGluY2x1ZGU6IFtcbiAgICByZXF1aXJlKCcuL2ZhaWxzYWZlJylcbiAgXSxcbiAgaW1wbGljaXQ6IFtcbiAgICByZXF1aXJlKCcuLi90eXBlL251bGwnKSxcbiAgICByZXF1aXJlKCcuLi90eXBlL2Jvb2wnKSxcbiAgICByZXF1aXJlKCcuLi90eXBlL2ludCcpLFxuICAgIHJlcXVpcmUoJy4uL3R5cGUvZmxvYXQnKVxuICBdXG59KTtcbiIsIi8vIFN0YW5kYXJkIFlBTUwncyBDb3JlIHNjaGVtYS5cbi8vIGh0dHA6Ly93d3cueWFtbC5vcmcvc3BlYy8xLjIvc3BlYy5odG1sI2lkMjgwNDkyM1xuLy9cbi8vIE5PVEU6IEpTLVlBTUwgZG9lcyBub3Qgc3VwcG9ydCBzY2hlbWEtc3BlY2lmaWMgdGFnIHJlc29sdXRpb24gcmVzdHJpY3Rpb25zLlxuLy8gU28sIENvcmUgc2NoZW1hIGhhcyBubyBkaXN0aW5jdGlvbnMgZnJvbSBKU09OIHNjaGVtYSBpcyBKUy1ZQU1MLlxuXG5cbid1c2Ugc3RyaWN0JztcblxuXG52YXIgU2NoZW1hID0gcmVxdWlyZSgnLi4vc2NoZW1hJyk7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgU2NoZW1hKHtcbiAgaW5jbHVkZTogW1xuICAgIHJlcXVpcmUoJy4vanNvbicpXG4gIF1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVHlwZSA9IHJlcXVpcmUoJy4uL3R5cGUnKTtcblxudmFyIFlBTUxfREFURV9SRUdFWFAgPSBuZXcgUmVnRXhwKFxuICAnXihbMC05XVswLTldWzAtOV1bMC05XSknICAgICAgICAgICsgLy8gWzFdIHllYXJcbiAgJy0oWzAtOV1bMC05XSknICAgICAgICAgICAgICAgICAgICArIC8vIFsyXSBtb250aFxuICAnLShbMC05XVswLTldKSQnKTsgICAgICAgICAgICAgICAgICAgLy8gWzNdIGRheVxuXG52YXIgWUFNTF9USU1FU1RBTVBfUkVHRVhQID0gbmV3IFJlZ0V4cChcbiAgJ14oWzAtOV1bMC05XVswLTldWzAtOV0pJyAgICAgICAgICArIC8vIFsxXSB5ZWFyXG4gICctKFswLTldWzAtOV0/KScgICAgICAgICAgICAgICAgICAgKyAvLyBbMl0gbW9udGhcbiAgJy0oWzAtOV1bMC05XT8pJyAgICAgICAgICAgICAgICAgICArIC8vIFszXSBkYXlcbiAgJyg/OltUdF18WyBcXFxcdF0rKScgICAgICAgICAgICAgICAgICsgLy8gLi4uXG4gICcoWzAtOV1bMC05XT8pJyAgICAgICAgICAgICAgICAgICAgKyAvLyBbNF0gaG91clxuICAnOihbMC05XVswLTldKScgICAgICAgICAgICAgICAgICAgICsgLy8gWzVdIG1pbnV0ZVxuICAnOihbMC05XVswLTldKScgICAgICAgICAgICAgICAgICAgICsgLy8gWzZdIHNlY29uZFxuICAnKD86XFxcXC4oWzAtOV0qKSk/JyAgICAgICAgICAgICAgICAgKyAvLyBbN10gZnJhY3Rpb25cbiAgJyg/OlsgXFxcXHRdKihafChbLStdKShbMC05XVswLTldPyknICsgLy8gWzhdIHR6IFs5XSB0el9zaWduIFsxMF0gdHpfaG91clxuICAnKD86OihbMC05XVswLTldKSk/KSk/JCcpOyAgICAgICAgICAgLy8gWzExXSB0el9taW51dGVcblxuZnVuY3Rpb24gcmVzb2x2ZVlhbWxUaW1lc3RhbXAoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICBpZiAoWUFNTF9EQVRFX1JFR0VYUC5leGVjKGRhdGEpICE9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgaWYgKFlBTUxfVElNRVNUQU1QX1JFR0VYUC5leGVjKGRhdGEpICE9PSBudWxsKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sVGltZXN0YW1wKGRhdGEpIHtcbiAgdmFyIG1hdGNoLCB5ZWFyLCBtb250aCwgZGF5LCBob3VyLCBtaW51dGUsIHNlY29uZCwgZnJhY3Rpb24gPSAwLFxuICAgICAgZGVsdGEgPSBudWxsLCB0el9ob3VyLCB0el9taW51dGUsIGRhdGU7XG5cbiAgbWF0Y2ggPSBZQU1MX0RBVEVfUkVHRVhQLmV4ZWMoZGF0YSk7XG4gIGlmIChtYXRjaCA9PT0gbnVsbCkgbWF0Y2ggPSBZQU1MX1RJTUVTVEFNUF9SRUdFWFAuZXhlYyhkYXRhKTtcblxuICBpZiAobWF0Y2ggPT09IG51bGwpIHRocm93IG5ldyBFcnJvcignRGF0ZSByZXNvbHZlIGVycm9yJyk7XG5cbiAgLy8gbWF0Y2g6IFsxXSB5ZWFyIFsyXSBtb250aCBbM10gZGF5XG5cbiAgeWVhciA9ICsobWF0Y2hbMV0pO1xuICBtb250aCA9ICsobWF0Y2hbMl0pIC0gMTsgLy8gSlMgbW9udGggc3RhcnRzIHdpdGggMFxuICBkYXkgPSArKG1hdGNoWzNdKTtcblxuICBpZiAoIW1hdGNoWzRdKSB7IC8vIG5vIGhvdXJcbiAgICByZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGgsIGRheSkpO1xuICB9XG5cbiAgLy8gbWF0Y2g6IFs0XSBob3VyIFs1XSBtaW51dGUgWzZdIHNlY29uZCBbN10gZnJhY3Rpb25cblxuICBob3VyID0gKyhtYXRjaFs0XSk7XG4gIG1pbnV0ZSA9ICsobWF0Y2hbNV0pO1xuICBzZWNvbmQgPSArKG1hdGNoWzZdKTtcblxuICBpZiAobWF0Y2hbN10pIHtcbiAgICBmcmFjdGlvbiA9IG1hdGNoWzddLnNsaWNlKDAsIDMpO1xuICAgIHdoaWxlIChmcmFjdGlvbi5sZW5ndGggPCAzKSB7IC8vIG1pbGxpLXNlY29uZHNcbiAgICAgIGZyYWN0aW9uICs9ICcwJztcbiAgICB9XG4gICAgZnJhY3Rpb24gPSArZnJhY3Rpb247XG4gIH1cblxuICAvLyBtYXRjaDogWzhdIHR6IFs5XSB0el9zaWduIFsxMF0gdHpfaG91ciBbMTFdIHR6X21pbnV0ZVxuXG4gIGlmIChtYXRjaFs5XSkge1xuICAgIHR6X2hvdXIgPSArKG1hdGNoWzEwXSk7XG4gICAgdHpfbWludXRlID0gKyhtYXRjaFsxMV0gfHwgMCk7XG4gICAgZGVsdGEgPSAodHpfaG91ciAqIDYwICsgdHpfbWludXRlKSAqIDYwMDAwOyAvLyBkZWx0YSBpbiBtaWxpLXNlY29uZHNcbiAgICBpZiAobWF0Y2hbOV0gPT09ICctJykgZGVsdGEgPSAtZGVsdGE7XG4gIH1cblxuICBkYXRlID0gbmV3IERhdGUoRGF0ZS5VVEMoeWVhciwgbW9udGgsIGRheSwgaG91ciwgbWludXRlLCBzZWNvbmQsIGZyYWN0aW9uKSk7XG5cbiAgaWYgKGRlbHRhKSBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgLSBkZWx0YSk7XG5cbiAgcmV0dXJuIGRhdGU7XG59XG5cbmZ1bmN0aW9uIHJlcHJlc2VudFlhbWxUaW1lc3RhbXAob2JqZWN0IC8qLCBzdHlsZSovKSB7XG4gIHJldHVybiBvYmplY3QudG9JU09TdHJpbmcoKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6dGltZXN0YW1wJywge1xuICBraW5kOiAnc2NhbGFyJyxcbiAgcmVzb2x2ZTogcmVzb2x2ZVlhbWxUaW1lc3RhbXAsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbFRpbWVzdGFtcCxcbiAgaW5zdGFuY2VPZjogRGF0ZSxcbiAgcmVwcmVzZW50OiByZXByZXNlbnRZYW1sVGltZXN0YW1wXG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFR5cGUgPSByZXF1aXJlKCcuLi90eXBlJyk7XG5cbmZ1bmN0aW9uIHJlc29sdmVZYW1sTWVyZ2UoZGF0YSkge1xuICByZXR1cm4gZGF0YSA9PT0gJzw8JyB8fCBkYXRhID09PSBudWxsO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBUeXBlKCd0YWc6eWFtbC5vcmcsMjAwMjptZXJnZScsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sTWVyZ2Vcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG4vKmVzbGludC1kaXNhYmxlIG5vLWJpdHdpc2UqL1xuXG52YXIgTm9kZUJ1ZmZlcjtcblxudHJ5IHtcbiAgLy8gQSB0cmljayBmb3IgYnJvd3NlcmlmaWVkIHZlcnNpb24sIHRvIG5vdCBpbmNsdWRlIGBCdWZmZXJgIHNoaW1cbiAgdmFyIF9yZXF1aXJlID0gcmVxdWlyZTtcbiAgTm9kZUJ1ZmZlciA9IF9yZXF1aXJlKCdidWZmZXInKS5CdWZmZXI7XG59IGNhdGNoIChfXykge31cblxudmFyIFR5cGUgICAgICAgPSByZXF1aXJlKCcuLi90eXBlJyk7XG5cblxuLy8gWyA2NCwgNjUsIDY2IF0gLT4gWyBwYWRkaW5nLCBDUiwgTEYgXVxudmFyIEJBU0U2NF9NQVAgPSAnQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ejAxMjM0NTY3ODkrLz1cXG5cXHInO1xuXG5cbmZ1bmN0aW9uIHJlc29sdmVZYW1sQmluYXJ5KGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICB2YXIgY29kZSwgaWR4LCBiaXRsZW4gPSAwLCBtYXggPSBkYXRhLmxlbmd0aCwgbWFwID0gQkFTRTY0X01BUDtcblxuICAvLyBDb252ZXJ0IG9uZSBieSBvbmUuXG4gIGZvciAoaWR4ID0gMDsgaWR4IDwgbWF4OyBpZHgrKykge1xuICAgIGNvZGUgPSBtYXAuaW5kZXhPZihkYXRhLmNoYXJBdChpZHgpKTtcblxuICAgIC8vIFNraXAgQ1IvTEZcbiAgICBpZiAoY29kZSA+IDY0KSBjb250aW51ZTtcblxuICAgIC8vIEZhaWwgb24gaWxsZWdhbCBjaGFyYWN0ZXJzXG4gICAgaWYgKGNvZGUgPCAwKSByZXR1cm4gZmFsc2U7XG5cbiAgICBiaXRsZW4gKz0gNjtcbiAgfVxuXG4gIC8vIElmIHRoZXJlIGFyZSBhbnkgYml0cyBsZWZ0LCBzb3VyY2Ugd2FzIGNvcnJ1cHRlZFxuICByZXR1cm4gKGJpdGxlbiAlIDgpID09PSAwO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sQmluYXJ5KGRhdGEpIHtcbiAgdmFyIGlkeCwgdGFpbGJpdHMsXG4gICAgICBpbnB1dCA9IGRhdGEucmVwbGFjZSgvW1xcclxcbj1dL2csICcnKSwgLy8gcmVtb3ZlIENSL0xGICYgcGFkZGluZyB0byBzaW1wbGlmeSBzY2FuXG4gICAgICBtYXggPSBpbnB1dC5sZW5ndGgsXG4gICAgICBtYXAgPSBCQVNFNjRfTUFQLFxuICAgICAgYml0cyA9IDAsXG4gICAgICByZXN1bHQgPSBbXTtcblxuICAvLyBDb2xsZWN0IGJ5IDYqNCBiaXRzICgzIGJ5dGVzKVxuXG4gIGZvciAoaWR4ID0gMDsgaWR4IDwgbWF4OyBpZHgrKykge1xuICAgIGlmICgoaWR4ICUgNCA9PT0gMCkgJiYgaWR4KSB7XG4gICAgICByZXN1bHQucHVzaCgoYml0cyA+PiAxNikgJiAweEZGKTtcbiAgICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDgpICYgMHhGRik7XG4gICAgICByZXN1bHQucHVzaChiaXRzICYgMHhGRik7XG4gICAgfVxuXG4gICAgYml0cyA9IChiaXRzIDw8IDYpIHwgbWFwLmluZGV4T2YoaW5wdXQuY2hhckF0KGlkeCkpO1xuICB9XG5cbiAgLy8gRHVtcCB0YWlsXG5cbiAgdGFpbGJpdHMgPSAobWF4ICUgNCkgKiA2O1xuXG4gIGlmICh0YWlsYml0cyA9PT0gMCkge1xuICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDE2KSAmIDB4RkYpO1xuICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDgpICYgMHhGRik7XG4gICAgcmVzdWx0LnB1c2goYml0cyAmIDB4RkYpO1xuICB9IGVsc2UgaWYgKHRhaWxiaXRzID09PSAxOCkge1xuICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDEwKSAmIDB4RkYpO1xuICAgIHJlc3VsdC5wdXNoKChiaXRzID4+IDIpICYgMHhGRik7XG4gIH0gZWxzZSBpZiAodGFpbGJpdHMgPT09IDEyKSB7XG4gICAgcmVzdWx0LnB1c2goKGJpdHMgPj4gNCkgJiAweEZGKTtcbiAgfVxuXG4gIC8vIFdyYXAgaW50byBCdWZmZXIgZm9yIE5vZGVKUyBhbmQgbGVhdmUgQXJyYXkgZm9yIGJyb3dzZXJcbiAgaWYgKE5vZGVCdWZmZXIpIHtcbiAgICAvLyBTdXBwb3J0IG5vZGUgNi4rIEJ1ZmZlciBBUEkgd2hlbiBhdmFpbGFibGVcbiAgICByZXR1cm4gTm9kZUJ1ZmZlci5mcm9tID8gTm9kZUJ1ZmZlci5mcm9tKHJlc3VsdCkgOiBuZXcgTm9kZUJ1ZmZlcihyZXN1bHQpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcmVwcmVzZW50WWFtbEJpbmFyeShvYmplY3QgLyosIHN0eWxlKi8pIHtcbiAgdmFyIHJlc3VsdCA9ICcnLCBiaXRzID0gMCwgaWR4LCB0YWlsLFxuICAgICAgbWF4ID0gb2JqZWN0Lmxlbmd0aCxcbiAgICAgIG1hcCA9IEJBU0U2NF9NQVA7XG5cbiAgLy8gQ29udmVydCBldmVyeSB0aHJlZSBieXRlcyB0byA0IEFTQ0lJIGNoYXJhY3RlcnMuXG5cbiAgZm9yIChpZHggPSAwOyBpZHggPCBtYXg7IGlkeCsrKSB7XG4gICAgaWYgKChpZHggJSAzID09PSAwKSAmJiBpZHgpIHtcbiAgICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gMTgpICYgMHgzRl07XG4gICAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDEyKSAmIDB4M0ZdO1xuICAgICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiA2KSAmIDB4M0ZdO1xuICAgICAgcmVzdWx0ICs9IG1hcFtiaXRzICYgMHgzRl07XG4gICAgfVxuXG4gICAgYml0cyA9IChiaXRzIDw8IDgpICsgb2JqZWN0W2lkeF07XG4gIH1cblxuICAvLyBEdW1wIHRhaWxcblxuICB0YWlsID0gbWF4ICUgMztcblxuICBpZiAodGFpbCA9PT0gMCkge1xuICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gMTgpICYgMHgzRl07XG4gICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiAxMikgJiAweDNGXTtcbiAgICByZXN1bHQgKz0gbWFwWyhiaXRzID4+IDYpICYgMHgzRl07XG4gICAgcmVzdWx0ICs9IG1hcFtiaXRzICYgMHgzRl07XG4gIH0gZWxzZSBpZiAodGFpbCA9PT0gMikge1xuICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPj4gMTApICYgMHgzRl07XG4gICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiA0KSAmIDB4M0ZdO1xuICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPDwgMikgJiAweDNGXTtcbiAgICByZXN1bHQgKz0gbWFwWzY0XTtcbiAgfSBlbHNlIGlmICh0YWlsID09PSAxKSB7XG4gICAgcmVzdWx0ICs9IG1hcFsoYml0cyA+PiAyKSAmIDB4M0ZdO1xuICAgIHJlc3VsdCArPSBtYXBbKGJpdHMgPDwgNCkgJiAweDNGXTtcbiAgICByZXN1bHQgKz0gbWFwWzY0XTtcbiAgICByZXN1bHQgKz0gbWFwWzY0XTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGlzQmluYXJ5KG9iamVjdCkge1xuICByZXR1cm4gTm9kZUJ1ZmZlciAmJiBOb2RlQnVmZmVyLmlzQnVmZmVyKG9iamVjdCk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IFR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOmJpbmFyeScsIHtcbiAga2luZDogJ3NjYWxhcicsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sQmluYXJ5LFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdFlhbWxCaW5hcnksXG4gIHByZWRpY2F0ZTogaXNCaW5hcnksXG4gIHJlcHJlc2VudDogcmVwcmVzZW50WWFtbEJpbmFyeVxufSk7XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBUeXBlID0gcmVxdWlyZSgnLi4vdHlwZScpO1xuXG52YXIgX2hhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcbnZhciBfdG9TdHJpbmcgICAgICAgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbE9tYXAoZGF0YSkge1xuICBpZiAoZGF0YSA9PT0gbnVsbCkgcmV0dXJuIHRydWU7XG5cbiAgdmFyIG9iamVjdEtleXMgPSBbXSwgaW5kZXgsIGxlbmd0aCwgcGFpciwgcGFpcktleSwgcGFpckhhc0tleSxcbiAgICAgIG9iamVjdCA9IGRhdGE7XG5cbiAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9iamVjdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgcGFpciA9IG9iamVjdFtpbmRleF07XG4gICAgcGFpckhhc0tleSA9IGZhbHNlO1xuXG4gICAgaWYgKF90b1N0cmluZy5jYWxsKHBhaXIpICE9PSAnW29iamVjdCBPYmplY3RdJykgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChwYWlyS2V5IGluIHBhaXIpIHtcbiAgICAgIGlmIChfaGFzT3duUHJvcGVydHkuY2FsbChwYWlyLCBwYWlyS2V5KSkge1xuICAgICAgICBpZiAoIXBhaXJIYXNLZXkpIHBhaXJIYXNLZXkgPSB0cnVlO1xuICAgICAgICBlbHNlIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoIXBhaXJIYXNLZXkpIHJldHVybiBmYWxzZTtcblxuICAgIGlmIChvYmplY3RLZXlzLmluZGV4T2YocGFpcktleSkgPT09IC0xKSBvYmplY3RLZXlzLnB1c2gocGFpcktleSk7XG4gICAgZWxzZSByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY29uc3RydWN0WWFtbE9tYXAoZGF0YSkge1xuICByZXR1cm4gZGF0YSAhPT0gbnVsbCA/IGRhdGEgOiBbXTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6b21hcCcsIHtcbiAga2luZDogJ3NlcXVlbmNlJyxcbiAgcmVzb2x2ZTogcmVzb2x2ZVlhbWxPbWFwLFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdFlhbWxPbWFwXG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFR5cGUgPSByZXF1aXJlKCcuLi90eXBlJyk7XG5cbnZhciBfdG9TdHJpbmcgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nO1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbFBhaXJzKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiB0cnVlO1xuXG4gIHZhciBpbmRleCwgbGVuZ3RoLCBwYWlyLCBrZXlzLCByZXN1bHQsXG4gICAgICBvYmplY3QgPSBkYXRhO1xuXG4gIHJlc3VsdCA9IG5ldyBBcnJheShvYmplY3QubGVuZ3RoKTtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICBwYWlyID0gb2JqZWN0W2luZGV4XTtcblxuICAgIGlmIChfdG9TdHJpbmcuY2FsbChwYWlyKSAhPT0gJ1tvYmplY3QgT2JqZWN0XScpIHJldHVybiBmYWxzZTtcblxuICAgIGtleXMgPSBPYmplY3Qua2V5cyhwYWlyKTtcblxuICAgIGlmIChrZXlzLmxlbmd0aCAhPT0gMSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmVzdWx0W2luZGV4XSA9IFsga2V5c1swXSwgcGFpcltrZXlzWzBdXSBdO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdFlhbWxQYWlycyhkYXRhKSB7XG4gIGlmIChkYXRhID09PSBudWxsKSByZXR1cm4gW107XG5cbiAgdmFyIGluZGV4LCBsZW5ndGgsIHBhaXIsIGtleXMsIHJlc3VsdCxcbiAgICAgIG9iamVjdCA9IGRhdGE7XG5cbiAgcmVzdWx0ID0gbmV3IEFycmF5KG9iamVjdC5sZW5ndGgpO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBvYmplY3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIHBhaXIgPSBvYmplY3RbaW5kZXhdO1xuXG4gICAga2V5cyA9IE9iamVjdC5rZXlzKHBhaXIpO1xuXG4gICAgcmVzdWx0W2luZGV4XSA9IFsga2V5c1swXSwgcGFpcltrZXlzWzBdXSBdO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6cGFpcnMnLCB7XG4gIGtpbmQ6ICdzZXF1ZW5jZScsXG4gIHJlc29sdmU6IHJlc29sdmVZYW1sUGFpcnMsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0WWFtbFBhaXJzXG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFR5cGUgPSByZXF1aXJlKCcuLi90eXBlJyk7XG5cbnZhciBfaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5mdW5jdGlvbiByZXNvbHZlWWFtbFNldChkYXRhKSB7XG4gIGlmIChkYXRhID09PSBudWxsKSByZXR1cm4gdHJ1ZTtcblxuICB2YXIga2V5LCBvYmplY3QgPSBkYXRhO1xuXG4gIGZvciAoa2V5IGluIG9iamVjdCkge1xuICAgIGlmIChfaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpIHtcbiAgICAgIGlmIChvYmplY3Rba2V5XSAhPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RZYW1sU2V0KGRhdGEpIHtcbiAgcmV0dXJuIGRhdGEgIT09IG51bGwgPyBkYXRhIDoge307XG59XG5cbm1vZHVsZS5leHBvcnRzID0gbmV3IFR5cGUoJ3RhZzp5YW1sLm9yZywyMDAyOnNldCcsIHtcbiAga2luZDogJ21hcHBpbmcnLFxuICByZXNvbHZlOiByZXNvbHZlWWFtbFNldCxcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RZYW1sU2V0XG59KTtcbiIsIi8vIEpTLVlBTUwncyBkZWZhdWx0IHNjaGVtYSBmb3IgYHNhZmVMb2FkYCBmdW5jdGlvbi5cbi8vIEl0IGlzIG5vdCBkZXNjcmliZWQgaW4gdGhlIFlBTUwgc3BlY2lmaWNhdGlvbi5cbi8vXG4vLyBUaGlzIHNjaGVtYSBpcyBiYXNlZCBvbiBzdGFuZGFyZCBZQU1MJ3MgQ29yZSBzY2hlbWEgYW5kIGluY2x1ZGVzIG1vc3Qgb2Zcbi8vIGV4dHJhIHR5cGVzIGRlc2NyaWJlZCBhdCBZQU1MIHRhZyByZXBvc2l0b3J5LiAoaHR0cDovL3lhbWwub3JnL3R5cGUvKVxuXG5cbid1c2Ugc3RyaWN0JztcblxuXG52YXIgU2NoZW1hID0gcmVxdWlyZSgnLi4vc2NoZW1hJyk7XG5cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgU2NoZW1hKHtcbiAgaW5jbHVkZTogW1xuICAgIHJlcXVpcmUoJy4vY29yZScpXG4gIF0sXG4gIGltcGxpY2l0OiBbXG4gICAgcmVxdWlyZSgnLi4vdHlwZS90aW1lc3RhbXAnKSxcbiAgICByZXF1aXJlKCcuLi90eXBlL21lcmdlJylcbiAgXSxcbiAgZXhwbGljaXQ6IFtcbiAgICByZXF1aXJlKCcuLi90eXBlL2JpbmFyeScpLFxuICAgIHJlcXVpcmUoJy4uL3R5cGUvb21hcCcpLFxuICAgIHJlcXVpcmUoJy4uL3R5cGUvcGFpcnMnKSxcbiAgICByZXF1aXJlKCcuLi90eXBlL3NldCcpXG4gIF1cbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgVHlwZSA9IHJlcXVpcmUoJy4uLy4uL3R5cGUnKTtcblxuZnVuY3Rpb24gcmVzb2x2ZUphdmFzY3JpcHRVbmRlZmluZWQoKSB7XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiBjb25zdHJ1Y3RKYXZhc2NyaXB0VW5kZWZpbmVkKCkge1xuICAvKmVzbGludC1kaXNhYmxlIG5vLXVuZGVmaW5lZCovXG4gIHJldHVybiB1bmRlZmluZWQ7XG59XG5cbmZ1bmN0aW9uIHJlcHJlc2VudEphdmFzY3JpcHRVbmRlZmluZWQoKSB7XG4gIHJldHVybiAnJztcbn1cblxuZnVuY3Rpb24gaXNVbmRlZmluZWQob2JqZWN0KSB7XG4gIHJldHVybiB0eXBlb2Ygb2JqZWN0ID09PSAndW5kZWZpbmVkJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6anMvdW5kZWZpbmVkJywge1xuICBraW5kOiAnc2NhbGFyJyxcbiAgcmVzb2x2ZTogcmVzb2x2ZUphdmFzY3JpcHRVbmRlZmluZWQsXG4gIGNvbnN0cnVjdDogY29uc3RydWN0SmF2YXNjcmlwdFVuZGVmaW5lZCxcbiAgcHJlZGljYXRlOiBpc1VuZGVmaW5lZCxcbiAgcmVwcmVzZW50OiByZXByZXNlbnRKYXZhc2NyaXB0VW5kZWZpbmVkXG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIFR5cGUgPSByZXF1aXJlKCcuLi8uLi90eXBlJyk7XG5cbmZ1bmN0aW9uIHJlc29sdmVKYXZhc2NyaXB0UmVnRXhwKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiBmYWxzZTtcbiAgaWYgKGRhdGEubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG5cbiAgdmFyIHJlZ2V4cCA9IGRhdGEsXG4gICAgICB0YWlsICAgPSAvXFwvKFtnaW1dKikkLy5leGVjKGRhdGEpLFxuICAgICAgbW9kaWZpZXJzID0gJyc7XG5cbiAgLy8gaWYgcmVnZXhwIHN0YXJ0cyB3aXRoICcvJyBpdCBjYW4gaGF2ZSBtb2RpZmllcnMgYW5kIG11c3QgYmUgcHJvcGVybHkgY2xvc2VkXG4gIC8vIGAvZm9vL2dpbWAgLSBtb2RpZmllcnMgdGFpbCBjYW4gYmUgbWF4aW11bSAzIGNoYXJzXG4gIGlmIChyZWdleHBbMF0gPT09ICcvJykge1xuICAgIGlmICh0YWlsKSBtb2RpZmllcnMgPSB0YWlsWzFdO1xuXG4gICAgaWYgKG1vZGlmaWVycy5sZW5ndGggPiAzKSByZXR1cm4gZmFsc2U7XG4gICAgLy8gaWYgZXhwcmVzc2lvbiBzdGFydHMgd2l0aCAvLCBpcyBzaG91bGQgYmUgcHJvcGVybHkgdGVybWluYXRlZFxuICAgIGlmIChyZWdleHBbcmVnZXhwLmxlbmd0aCAtIG1vZGlmaWVycy5sZW5ndGggLSAxXSAhPT0gJy8nKSByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY29uc3RydWN0SmF2YXNjcmlwdFJlZ0V4cChkYXRhKSB7XG4gIHZhciByZWdleHAgPSBkYXRhLFxuICAgICAgdGFpbCAgID0gL1xcLyhbZ2ltXSopJC8uZXhlYyhkYXRhKSxcbiAgICAgIG1vZGlmaWVycyA9ICcnO1xuXG4gIC8vIGAvZm9vL2dpbWAgLSB0YWlsIGNhbiBiZSBtYXhpbXVtIDQgY2hhcnNcbiAgaWYgKHJlZ2V4cFswXSA9PT0gJy8nKSB7XG4gICAgaWYgKHRhaWwpIG1vZGlmaWVycyA9IHRhaWxbMV07XG4gICAgcmVnZXhwID0gcmVnZXhwLnNsaWNlKDEsIHJlZ2V4cC5sZW5ndGggLSBtb2RpZmllcnMubGVuZ3RoIC0gMSk7XG4gIH1cblxuICByZXR1cm4gbmV3IFJlZ0V4cChyZWdleHAsIG1vZGlmaWVycyk7XG59XG5cbmZ1bmN0aW9uIHJlcHJlc2VudEphdmFzY3JpcHRSZWdFeHAob2JqZWN0IC8qLCBzdHlsZSovKSB7XG4gIHZhciByZXN1bHQgPSAnLycgKyBvYmplY3Quc291cmNlICsgJy8nO1xuXG4gIGlmIChvYmplY3QuZ2xvYmFsKSByZXN1bHQgKz0gJ2cnO1xuICBpZiAob2JqZWN0Lm11bHRpbGluZSkgcmVzdWx0ICs9ICdtJztcbiAgaWYgKG9iamVjdC5pZ25vcmVDYXNlKSByZXN1bHQgKz0gJ2knO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGlzUmVnRXhwKG9iamVjdCkge1xuICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iamVjdCkgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyBUeXBlKCd0YWc6eWFtbC5vcmcsMjAwMjpqcy9yZWdleHAnLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlSmF2YXNjcmlwdFJlZ0V4cCxcbiAgY29uc3RydWN0OiBjb25zdHJ1Y3RKYXZhc2NyaXB0UmVnRXhwLFxuICBwcmVkaWNhdGU6IGlzUmVnRXhwLFxuICByZXByZXNlbnQ6IHJlcHJlc2VudEphdmFzY3JpcHRSZWdFeHBcbn0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgZXNwcmltYTtcblxuLy8gQnJvd3NlcmlmaWVkIHZlcnNpb24gZG9lcyBub3QgaGF2ZSBlc3ByaW1hXG4vL1xuLy8gMS4gRm9yIG5vZGUuanMganVzdCByZXF1aXJlIG1vZHVsZSBhcyBkZXBzXG4vLyAyLiBGb3IgYnJvd3NlciB0cnkgdG8gcmVxdWlyZSBtdWR1bGUgdmlhIGV4dGVybmFsIEFNRCBzeXN0ZW0uXG4vLyAgICBJZiBub3QgZm91bmQgLSB0cnkgdG8gZmFsbGJhY2sgdG8gd2luZG93LmVzcHJpbWEuIElmIG5vdFxuLy8gICAgZm91bmQgdG9vIC0gdGhlbiBmYWlsIHRvIHBhcnNlLlxuLy9cbnRyeSB7XG4gIC8vIHdvcmthcm91bmQgdG8gZXhjbHVkZSBwYWNrYWdlIGZyb20gYnJvd3NlcmlmeSBsaXN0LlxuICB2YXIgX3JlcXVpcmUgPSByZXF1aXJlO1xuICBlc3ByaW1hID0gX3JlcXVpcmUoJ2VzcHJpbWEnKTtcbn0gY2F0Y2ggKF8pIHtcbiAgLyogZXNsaW50LWRpc2FibGUgbm8tcmVkZWNsYXJlICovXG4gIC8qIGdsb2JhbCB3aW5kb3cgKi9cbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSBlc3ByaW1hID0gd2luZG93LmVzcHJpbWE7XG59XG5cbnZhciBUeXBlID0gcmVxdWlyZSgnLi4vLi4vdHlwZScpO1xuXG5mdW5jdGlvbiByZXNvbHZlSmF2YXNjcmlwdEZ1bmN0aW9uKGRhdGEpIHtcbiAgaWYgKGRhdGEgPT09IG51bGwpIHJldHVybiBmYWxzZTtcblxuICB0cnkge1xuICAgIHZhciBzb3VyY2UgPSAnKCcgKyBkYXRhICsgJyknLFxuICAgICAgICBhc3QgICAgPSBlc3ByaW1hLnBhcnNlKHNvdXJjZSwgeyByYW5nZTogdHJ1ZSB9KTtcblxuICAgIGlmIChhc3QudHlwZSAgICAgICAgICAgICAgICAgICAgIT09ICdQcm9ncmFtJyAgICAgICAgICAgICB8fFxuICAgICAgICBhc3QuYm9keS5sZW5ndGggICAgICAgICAgICAgIT09IDEgICAgICAgICAgICAgICAgICAgICB8fFxuICAgICAgICBhc3QuYm9keVswXS50eXBlICAgICAgICAgICAgIT09ICdFeHByZXNzaW9uU3RhdGVtZW50JyB8fFxuICAgICAgICAoYXN0LmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlICE9PSAnQXJyb3dGdW5jdGlvbkV4cHJlc3Npb24nICYmXG4gICAgICAgICAgYXN0LmJvZHlbMF0uZXhwcmVzc2lvbi50eXBlICE9PSAnRnVuY3Rpb25FeHByZXNzaW9uJykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIGNvbnN0cnVjdEphdmFzY3JpcHRGdW5jdGlvbihkYXRhKSB7XG4gIC8qanNsaW50IGV2aWw6dHJ1ZSovXG5cbiAgdmFyIHNvdXJjZSA9ICcoJyArIGRhdGEgKyAnKScsXG4gICAgICBhc3QgICAgPSBlc3ByaW1hLnBhcnNlKHNvdXJjZSwgeyByYW5nZTogdHJ1ZSB9KSxcbiAgICAgIHBhcmFtcyA9IFtdLFxuICAgICAgYm9keTtcblxuICBpZiAoYXN0LnR5cGUgICAgICAgICAgICAgICAgICAgICE9PSAnUHJvZ3JhbScgICAgICAgICAgICAgfHxcbiAgICAgIGFzdC5ib2R5Lmxlbmd0aCAgICAgICAgICAgICAhPT0gMSAgICAgICAgICAgICAgICAgICAgIHx8XG4gICAgICBhc3QuYm9keVswXS50eXBlICAgICAgICAgICAgIT09ICdFeHByZXNzaW9uU3RhdGVtZW50JyB8fFxuICAgICAgKGFzdC5ib2R5WzBdLmV4cHJlc3Npb24udHlwZSAhPT0gJ0Fycm93RnVuY3Rpb25FeHByZXNzaW9uJyAmJlxuICAgICAgICBhc3QuYm9keVswXS5leHByZXNzaW9uLnR5cGUgIT09ICdGdW5jdGlvbkV4cHJlc3Npb24nKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignRmFpbGVkIHRvIHJlc29sdmUgZnVuY3Rpb24nKTtcbiAgfVxuXG4gIGFzdC5ib2R5WzBdLmV4cHJlc3Npb24ucGFyYW1zLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgcGFyYW1zLnB1c2gocGFyYW0ubmFtZSk7XG4gIH0pO1xuXG4gIGJvZHkgPSBhc3QuYm9keVswXS5leHByZXNzaW9uLmJvZHkucmFuZ2U7XG5cbiAgLy8gRXNwcmltYSdzIHJhbmdlcyBpbmNsdWRlIHRoZSBmaXJzdCAneycgYW5kIHRoZSBsYXN0ICd9JyBjaGFyYWN0ZXJzIG9uXG4gIC8vIGZ1bmN0aW9uIGV4cHJlc3Npb25zLiBTbyBjdXQgdGhlbSBvdXQuXG4gIGlmIChhc3QuYm9keVswXS5leHByZXNzaW9uLmJvZHkudHlwZSA9PT0gJ0Jsb2NrU3RhdGVtZW50Jykge1xuICAgIC8qZXNsaW50LWRpc2FibGUgbm8tbmV3LWZ1bmMqL1xuICAgIHJldHVybiBuZXcgRnVuY3Rpb24ocGFyYW1zLCBzb3VyY2Uuc2xpY2UoYm9keVswXSArIDEsIGJvZHlbMV0gLSAxKSk7XG4gIH1cbiAgLy8gRVM2IGFycm93IGZ1bmN0aW9ucyBjYW4gb21pdCB0aGUgQmxvY2tTdGF0ZW1lbnQuIEluIHRoYXQgY2FzZSwganVzdCByZXR1cm5cbiAgLy8gdGhlIGJvZHkuXG4gIC8qZXNsaW50LWRpc2FibGUgbm8tbmV3LWZ1bmMqL1xuICByZXR1cm4gbmV3IEZ1bmN0aW9uKHBhcmFtcywgJ3JldHVybiAnICsgc291cmNlLnNsaWNlKGJvZHlbMF0sIGJvZHlbMV0pKTtcbn1cblxuZnVuY3Rpb24gcmVwcmVzZW50SmF2YXNjcmlwdEZ1bmN0aW9uKG9iamVjdCAvKiwgc3R5bGUqLykge1xuICByZXR1cm4gb2JqZWN0LnRvU3RyaW5nKCk7XG59XG5cbmZ1bmN0aW9uIGlzRnVuY3Rpb24ob2JqZWN0KSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqZWN0KSA9PT0gJ1tvYmplY3QgRnVuY3Rpb25dJztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBuZXcgVHlwZSgndGFnOnlhbWwub3JnLDIwMDI6anMvZnVuY3Rpb24nLCB7XG4gIGtpbmQ6ICdzY2FsYXInLFxuICByZXNvbHZlOiByZXNvbHZlSmF2YXNjcmlwdEZ1bmN0aW9uLFxuICBjb25zdHJ1Y3Q6IGNvbnN0cnVjdEphdmFzY3JpcHRGdW5jdGlvbixcbiAgcHJlZGljYXRlOiBpc0Z1bmN0aW9uLFxuICByZXByZXNlbnQ6IHJlcHJlc2VudEphdmFzY3JpcHRGdW5jdGlvblxufSk7XG4iLCIvLyBKUy1ZQU1MJ3MgZGVmYXVsdCBzY2hlbWEgZm9yIGBsb2FkYCBmdW5jdGlvbi5cbi8vIEl0IGlzIG5vdCBkZXNjcmliZWQgaW4gdGhlIFlBTUwgc3BlY2lmaWNhdGlvbi5cbi8vXG4vLyBUaGlzIHNjaGVtYSBpcyBiYXNlZCBvbiBKUy1ZQU1MJ3MgZGVmYXVsdCBzYWZlIHNjaGVtYSBhbmQgaW5jbHVkZXNcbi8vIEphdmFTY3JpcHQtc3BlY2lmaWMgdHlwZXM6ICEhanMvdW5kZWZpbmVkLCAhIWpzL3JlZ2V4cCBhbmQgISFqcy9mdW5jdGlvbi5cbi8vXG4vLyBBbHNvIHRoaXMgc2NoZW1hIGlzIHVzZWQgYXMgZGVmYXVsdCBiYXNlIHNjaGVtYSBhdCBgU2NoZW1hLmNyZWF0ZWAgZnVuY3Rpb24uXG5cblxuJ3VzZSBzdHJpY3QnO1xuXG5cbnZhciBTY2hlbWEgPSByZXF1aXJlKCcuLi9zY2hlbWEnKTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IFNjaGVtYS5ERUZBVUxUID0gbmV3IFNjaGVtYSh7XG4gIGluY2x1ZGU6IFtcbiAgICByZXF1aXJlKCcuL2RlZmF1bHRfc2FmZScpXG4gIF0sXG4gIGV4cGxpY2l0OiBbXG4gICAgcmVxdWlyZSgnLi4vdHlwZS9qcy91bmRlZmluZWQnKSxcbiAgICByZXF1aXJlKCcuLi90eXBlL2pzL3JlZ2V4cCcpLFxuICAgIHJlcXVpcmUoJy4uL3R5cGUvanMvZnVuY3Rpb24nKVxuICBdXG59KTtcbiIsIid1c2Ugc3RyaWN0JztcblxuLyplc2xpbnQtZGlzYWJsZSBtYXgtbGVuLG5vLXVzZS1iZWZvcmUtZGVmaW5lKi9cblxudmFyIGNvbW1vbiAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL2NvbW1vbicpO1xudmFyIFlBTUxFeGNlcHRpb24gICAgICAgPSByZXF1aXJlKCcuL2V4Y2VwdGlvbicpO1xudmFyIE1hcmsgICAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL21hcmsnKTtcbnZhciBERUZBVUxUX1NBRkVfU0NIRU1BID0gcmVxdWlyZSgnLi9zY2hlbWEvZGVmYXVsdF9zYWZlJyk7XG52YXIgREVGQVVMVF9GVUxMX1NDSEVNQSA9IHJlcXVpcmUoJy4vc2NoZW1hL2RlZmF1bHRfZnVsbCcpO1xuXG5cbnZhciBfaGFzT3duUHJvcGVydHkgPSBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5O1xuXG5cbnZhciBDT05URVhUX0ZMT1dfSU4gICA9IDE7XG52YXIgQ09OVEVYVF9GTE9XX09VVCAgPSAyO1xudmFyIENPTlRFWFRfQkxPQ0tfSU4gID0gMztcbnZhciBDT05URVhUX0JMT0NLX09VVCA9IDQ7XG5cblxudmFyIENIT01QSU5HX0NMSVAgID0gMTtcbnZhciBDSE9NUElOR19TVFJJUCA9IDI7XG52YXIgQ0hPTVBJTkdfS0VFUCAgPSAzO1xuXG5cbnZhciBQQVRURVJOX05PTl9QUklOVEFCTEUgICAgICAgICA9IC9bXFx4MDAtXFx4MDhcXHgwQlxceDBDXFx4MEUtXFx4MUZcXHg3Ri1cXHg4NFxceDg2LVxceDlGXFx1RkZGRVxcdUZGRkZdfFtcXHVEODAwLVxcdURCRkZdKD8hW1xcdURDMDAtXFx1REZGRl0pfCg/OlteXFx1RDgwMC1cXHVEQkZGXXxeKVtcXHVEQzAwLVxcdURGRkZdLztcbnZhciBQQVRURVJOX05PTl9BU0NJSV9MSU5FX0JSRUFLUyA9IC9bXFx4ODVcXHUyMDI4XFx1MjAyOV0vO1xudmFyIFBBVFRFUk5fRkxPV19JTkRJQ0FUT1JTICAgICAgID0gL1ssXFxbXFxdXFx7XFx9XS87XG52YXIgUEFUVEVSTl9UQUdfSEFORExFICAgICAgICAgICAgPSAvXig/OiF8ISF8IVthLXpcXC1dKyEpJC9pO1xudmFyIFBBVFRFUk5fVEFHX1VSSSAgICAgICAgICAgICAgID0gL14oPzohfFteLFxcW1xcXVxce1xcfV0pKD86JVswLTlhLWZdezJ9fFswLTlhLXpcXC0jO1xcL1xcPzpAJj1cXCtcXCQsX1xcLiF+XFwqJ1xcKFxcKVxcW1xcXV0pKiQvaTtcblxuXG5mdW5jdGlvbiBfY2xhc3Mob2JqKSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKTsgfVxuXG5mdW5jdGlvbiBpc19FT0woYykge1xuICByZXR1cm4gKGMgPT09IDB4MEEvKiBMRiAqLykgfHwgKGMgPT09IDB4MEQvKiBDUiAqLyk7XG59XG5cbmZ1bmN0aW9uIGlzX1dISVRFX1NQQUNFKGMpIHtcbiAgcmV0dXJuIChjID09PSAweDA5LyogVGFiICovKSB8fCAoYyA9PT0gMHgyMC8qIFNwYWNlICovKTtcbn1cblxuZnVuY3Rpb24gaXNfV1NfT1JfRU9MKGMpIHtcbiAgcmV0dXJuIChjID09PSAweDA5LyogVGFiICovKSB8fFxuICAgICAgICAgKGMgPT09IDB4MjAvKiBTcGFjZSAqLykgfHxcbiAgICAgICAgIChjID09PSAweDBBLyogTEYgKi8pIHx8XG4gICAgICAgICAoYyA9PT0gMHgwRC8qIENSICovKTtcbn1cblxuZnVuY3Rpb24gaXNfRkxPV19JTkRJQ0FUT1IoYykge1xuICByZXR1cm4gYyA9PT0gMHgyQy8qICwgKi8gfHxcbiAgICAgICAgIGMgPT09IDB4NUIvKiBbICovIHx8XG4gICAgICAgICBjID09PSAweDVELyogXSAqLyB8fFxuICAgICAgICAgYyA9PT0gMHg3Qi8qIHsgKi8gfHxcbiAgICAgICAgIGMgPT09IDB4N0QvKiB9ICovO1xufVxuXG5mdW5jdGlvbiBmcm9tSGV4Q29kZShjKSB7XG4gIHZhciBsYztcblxuICBpZiAoKDB4MzAvKiAwICovIDw9IGMpICYmIChjIDw9IDB4MzkvKiA5ICovKSkge1xuICAgIHJldHVybiBjIC0gMHgzMDtcbiAgfVxuXG4gIC8qZXNsaW50LWRpc2FibGUgbm8tYml0d2lzZSovXG4gIGxjID0gYyB8IDB4MjA7XG5cbiAgaWYgKCgweDYxLyogYSAqLyA8PSBsYykgJiYgKGxjIDw9IDB4NjYvKiBmICovKSkge1xuICAgIHJldHVybiBsYyAtIDB4NjEgKyAxMDtcbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gZXNjYXBlZEhleExlbihjKSB7XG4gIGlmIChjID09PSAweDc4LyogeCAqLykgeyByZXR1cm4gMjsgfVxuICBpZiAoYyA9PT0gMHg3NS8qIHUgKi8pIHsgcmV0dXJuIDQ7IH1cbiAgaWYgKGMgPT09IDB4NTUvKiBVICovKSB7IHJldHVybiA4OyB9XG4gIHJldHVybiAwO1xufVxuXG5mdW5jdGlvbiBmcm9tRGVjaW1hbENvZGUoYykge1xuICBpZiAoKDB4MzAvKiAwICovIDw9IGMpICYmIChjIDw9IDB4MzkvKiA5ICovKSkge1xuICAgIHJldHVybiBjIC0gMHgzMDtcbiAgfVxuXG4gIHJldHVybiAtMTtcbn1cblxuZnVuY3Rpb24gc2ltcGxlRXNjYXBlU2VxdWVuY2UoYykge1xuICAvKiBlc2xpbnQtZGlzYWJsZSBpbmRlbnQgKi9cbiAgcmV0dXJuIChjID09PSAweDMwLyogMCAqLykgPyAnXFx4MDAnIDpcbiAgICAgICAgKGMgPT09IDB4NjEvKiBhICovKSA/ICdcXHgwNycgOlxuICAgICAgICAoYyA9PT0gMHg2Mi8qIGIgKi8pID8gJ1xceDA4JyA6XG4gICAgICAgIChjID09PSAweDc0LyogdCAqLykgPyAnXFx4MDknIDpcbiAgICAgICAgKGMgPT09IDB4MDkvKiBUYWIgKi8pID8gJ1xceDA5JyA6XG4gICAgICAgIChjID09PSAweDZFLyogbiAqLykgPyAnXFx4MEEnIDpcbiAgICAgICAgKGMgPT09IDB4NzYvKiB2ICovKSA/ICdcXHgwQicgOlxuICAgICAgICAoYyA9PT0gMHg2Ni8qIGYgKi8pID8gJ1xceDBDJyA6XG4gICAgICAgIChjID09PSAweDcyLyogciAqLykgPyAnXFx4MEQnIDpcbiAgICAgICAgKGMgPT09IDB4NjUvKiBlICovKSA/ICdcXHgxQicgOlxuICAgICAgICAoYyA9PT0gMHgyMC8qIFNwYWNlICovKSA/ICcgJyA6XG4gICAgICAgIChjID09PSAweDIyLyogXCIgKi8pID8gJ1xceDIyJyA6XG4gICAgICAgIChjID09PSAweDJGLyogLyAqLykgPyAnLycgOlxuICAgICAgICAoYyA9PT0gMHg1Qy8qIFxcICovKSA/ICdcXHg1QycgOlxuICAgICAgICAoYyA9PT0gMHg0RS8qIE4gKi8pID8gJ1xceDg1JyA6XG4gICAgICAgIChjID09PSAweDVGLyogXyAqLykgPyAnXFx4QTAnIDpcbiAgICAgICAgKGMgPT09IDB4NEMvKiBMICovKSA/ICdcXHUyMDI4JyA6XG4gICAgICAgIChjID09PSAweDUwLyogUCAqLykgPyAnXFx1MjAyOScgOiAnJztcbn1cblxuZnVuY3Rpb24gY2hhckZyb21Db2RlcG9pbnQoYykge1xuICBpZiAoYyA8PSAweEZGRkYpIHtcbiAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZShjKTtcbiAgfVxuICAvLyBFbmNvZGUgVVRGLTE2IHN1cnJvZ2F0ZSBwYWlyXG4gIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1VURi0xNiNDb2RlX3BvaW50c19VLjJCMDEwMDAwX3RvX1UuMkIxMEZGRkZcbiAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoXG4gICAgKChjIC0gMHgwMTAwMDApID4+IDEwKSArIDB4RDgwMCxcbiAgICAoKGMgLSAweDAxMDAwMCkgJiAweDAzRkYpICsgMHhEQzAwXG4gICk7XG59XG5cbnZhciBzaW1wbGVFc2NhcGVDaGVjayA9IG5ldyBBcnJheSgyNTYpOyAvLyBpbnRlZ2VyLCBmb3IgZmFzdCBhY2Nlc3NcbnZhciBzaW1wbGVFc2NhcGVNYXAgPSBuZXcgQXJyYXkoMjU2KTtcbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyBpKyspIHtcbiAgc2ltcGxlRXNjYXBlQ2hlY2tbaV0gPSBzaW1wbGVFc2NhcGVTZXF1ZW5jZShpKSA/IDEgOiAwO1xuICBzaW1wbGVFc2NhcGVNYXBbaV0gPSBzaW1wbGVFc2NhcGVTZXF1ZW5jZShpKTtcbn1cblxuXG5mdW5jdGlvbiBTdGF0ZShpbnB1dCwgb3B0aW9ucykge1xuICB0aGlzLmlucHV0ID0gaW5wdXQ7XG5cbiAgdGhpcy5maWxlbmFtZSAgPSBvcHRpb25zWydmaWxlbmFtZSddICB8fCBudWxsO1xuICB0aGlzLnNjaGVtYSAgICA9IG9wdGlvbnNbJ3NjaGVtYSddICAgIHx8IERFRkFVTFRfRlVMTF9TQ0hFTUE7XG4gIHRoaXMub25XYXJuaW5nID0gb3B0aW9uc1snb25XYXJuaW5nJ10gfHwgbnVsbDtcbiAgdGhpcy5sZWdhY3kgICAgPSBvcHRpb25zWydsZWdhY3knXSAgICB8fCBmYWxzZTtcbiAgdGhpcy5qc29uICAgICAgPSBvcHRpb25zWydqc29uJ10gICAgICB8fCBmYWxzZTtcbiAgdGhpcy5saXN0ZW5lciAgPSBvcHRpb25zWydsaXN0ZW5lciddICB8fCBudWxsO1xuXG4gIHRoaXMuaW1wbGljaXRUeXBlcyA9IHRoaXMuc2NoZW1hLmNvbXBpbGVkSW1wbGljaXQ7XG4gIHRoaXMudHlwZU1hcCAgICAgICA9IHRoaXMuc2NoZW1hLmNvbXBpbGVkVHlwZU1hcDtcblxuICB0aGlzLmxlbmd0aCAgICAgPSBpbnB1dC5sZW5ndGg7XG4gIHRoaXMucG9zaXRpb24gICA9IDA7XG4gIHRoaXMubGluZSAgICAgICA9IDA7XG4gIHRoaXMubGluZVN0YXJ0ICA9IDA7XG4gIHRoaXMubGluZUluZGVudCA9IDA7XG5cbiAgdGhpcy5kb2N1bWVudHMgPSBbXTtcblxuICAvKlxuICB0aGlzLnZlcnNpb247XG4gIHRoaXMuY2hlY2tMaW5lQnJlYWtzO1xuICB0aGlzLnRhZ01hcDtcbiAgdGhpcy5hbmNob3JNYXA7XG4gIHRoaXMudGFnO1xuICB0aGlzLmFuY2hvcjtcbiAgdGhpcy5raW5kO1xuICB0aGlzLnJlc3VsdDsqL1xuXG59XG5cblxuZnVuY3Rpb24gZ2VuZXJhdGVFcnJvcihzdGF0ZSwgbWVzc2FnZSkge1xuICByZXR1cm4gbmV3IFlBTUxFeGNlcHRpb24oXG4gICAgbWVzc2FnZSxcbiAgICBuZXcgTWFyayhzdGF0ZS5maWxlbmFtZSwgc3RhdGUuaW5wdXQsIHN0YXRlLnBvc2l0aW9uLCBzdGF0ZS5saW5lLCAoc3RhdGUucG9zaXRpb24gLSBzdGF0ZS5saW5lU3RhcnQpKSk7XG59XG5cbmZ1bmN0aW9uIHRocm93RXJyb3Ioc3RhdGUsIG1lc3NhZ2UpIHtcbiAgdGhyb3cgZ2VuZXJhdGVFcnJvcihzdGF0ZSwgbWVzc2FnZSk7XG59XG5cbmZ1bmN0aW9uIHRocm93V2FybmluZyhzdGF0ZSwgbWVzc2FnZSkge1xuICBpZiAoc3RhdGUub25XYXJuaW5nKSB7XG4gICAgc3RhdGUub25XYXJuaW5nLmNhbGwobnVsbCwgZ2VuZXJhdGVFcnJvcihzdGF0ZSwgbWVzc2FnZSkpO1xuICB9XG59XG5cblxudmFyIGRpcmVjdGl2ZUhhbmRsZXJzID0ge1xuXG4gIFlBTUw6IGZ1bmN0aW9uIGhhbmRsZVlhbWxEaXJlY3RpdmUoc3RhdGUsIG5hbWUsIGFyZ3MpIHtcblxuICAgIHZhciBtYXRjaCwgbWFqb3IsIG1pbm9yO1xuXG4gICAgaWYgKHN0YXRlLnZlcnNpb24gIT09IG51bGwpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdkdXBsaWNhdGlvbiBvZiAlWUFNTCBkaXJlY3RpdmUnKTtcbiAgICB9XG5cbiAgICBpZiAoYXJncy5sZW5ndGggIT09IDEpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdZQU1MIGRpcmVjdGl2ZSBhY2NlcHRzIGV4YWN0bHkgb25lIGFyZ3VtZW50Jyk7XG4gICAgfVxuXG4gICAgbWF0Y2ggPSAvXihbMC05XSspXFwuKFswLTldKykkLy5leGVjKGFyZ3NbMF0pO1xuXG4gICAgaWYgKG1hdGNoID09PSBudWxsKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnaWxsLWZvcm1lZCBhcmd1bWVudCBvZiB0aGUgWUFNTCBkaXJlY3RpdmUnKTtcbiAgICB9XG5cbiAgICBtYWpvciA9IHBhcnNlSW50KG1hdGNoWzFdLCAxMCk7XG4gICAgbWlub3IgPSBwYXJzZUludChtYXRjaFsyXSwgMTApO1xuXG4gICAgaWYgKG1ham9yICE9PSAxKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndW5hY2NlcHRhYmxlIFlBTUwgdmVyc2lvbiBvZiB0aGUgZG9jdW1lbnQnKTtcbiAgICB9XG5cbiAgICBzdGF0ZS52ZXJzaW9uID0gYXJnc1swXTtcbiAgICBzdGF0ZS5jaGVja0xpbmVCcmVha3MgPSAobWlub3IgPCAyKTtcblxuICAgIGlmIChtaW5vciAhPT0gMSAmJiBtaW5vciAhPT0gMikge1xuICAgICAgdGhyb3dXYXJuaW5nKHN0YXRlLCAndW5zdXBwb3J0ZWQgWUFNTCB2ZXJzaW9uIG9mIHRoZSBkb2N1bWVudCcpO1xuICAgIH1cbiAgfSxcblxuICBUQUc6IGZ1bmN0aW9uIGhhbmRsZVRhZ0RpcmVjdGl2ZShzdGF0ZSwgbmFtZSwgYXJncykge1xuXG4gICAgdmFyIGhhbmRsZSwgcHJlZml4O1xuXG4gICAgaWYgKGFyZ3MubGVuZ3RoICE9PSAyKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnVEFHIGRpcmVjdGl2ZSBhY2NlcHRzIGV4YWN0bHkgdHdvIGFyZ3VtZW50cycpO1xuICAgIH1cblxuICAgIGhhbmRsZSA9IGFyZ3NbMF07XG4gICAgcHJlZml4ID0gYXJnc1sxXTtcblxuICAgIGlmICghUEFUVEVSTl9UQUdfSEFORExFLnRlc3QoaGFuZGxlKSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2lsbC1mb3JtZWQgdGFnIGhhbmRsZSAoZmlyc3QgYXJndW1lbnQpIG9mIHRoZSBUQUcgZGlyZWN0aXZlJyk7XG4gICAgfVxuXG4gICAgaWYgKF9oYXNPd25Qcm9wZXJ0eS5jYWxsKHN0YXRlLnRhZ01hcCwgaGFuZGxlKSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3RoZXJlIGlzIGEgcHJldmlvdXNseSBkZWNsYXJlZCBzdWZmaXggZm9yIFwiJyArIGhhbmRsZSArICdcIiB0YWcgaGFuZGxlJyk7XG4gICAgfVxuXG4gICAgaWYgKCFQQVRURVJOX1RBR19VUkkudGVzdChwcmVmaXgpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnaWxsLWZvcm1lZCB0YWcgcHJlZml4IChzZWNvbmQgYXJndW1lbnQpIG9mIHRoZSBUQUcgZGlyZWN0aXZlJyk7XG4gICAgfVxuXG4gICAgc3RhdGUudGFnTWFwW2hhbmRsZV0gPSBwcmVmaXg7XG4gIH1cbn07XG5cblxuZnVuY3Rpb24gY2FwdHVyZVNlZ21lbnQoc3RhdGUsIHN0YXJ0LCBlbmQsIGNoZWNrSnNvbikge1xuICB2YXIgX3Bvc2l0aW9uLCBfbGVuZ3RoLCBfY2hhcmFjdGVyLCBfcmVzdWx0O1xuXG4gIGlmIChzdGFydCA8IGVuZCkge1xuICAgIF9yZXN1bHQgPSBzdGF0ZS5pbnB1dC5zbGljZShzdGFydCwgZW5kKTtcblxuICAgIGlmIChjaGVja0pzb24pIHtcbiAgICAgIGZvciAoX3Bvc2l0aW9uID0gMCwgX2xlbmd0aCA9IF9yZXN1bHQubGVuZ3RoOyBfcG9zaXRpb24gPCBfbGVuZ3RoOyBfcG9zaXRpb24gKz0gMSkge1xuICAgICAgICBfY2hhcmFjdGVyID0gX3Jlc3VsdC5jaGFyQ29kZUF0KF9wb3NpdGlvbik7XG4gICAgICAgIGlmICghKF9jaGFyYWN0ZXIgPT09IDB4MDkgfHxcbiAgICAgICAgICAgICAgKDB4MjAgPD0gX2NoYXJhY3RlciAmJiBfY2hhcmFjdGVyIDw9IDB4MTBGRkZGKSkpIHtcbiAgICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZXhwZWN0ZWQgdmFsaWQgSlNPTiBjaGFyYWN0ZXInKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoUEFUVEVSTl9OT05fUFJJTlRBQkxFLnRlc3QoX3Jlc3VsdCkpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd0aGUgc3RyZWFtIGNvbnRhaW5zIG5vbi1wcmludGFibGUgY2hhcmFjdGVycycpO1xuICAgIH1cblxuICAgIHN0YXRlLnJlc3VsdCArPSBfcmVzdWx0O1xuICB9XG59XG5cbmZ1bmN0aW9uIG1lcmdlTWFwcGluZ3Moc3RhdGUsIGRlc3RpbmF0aW9uLCBzb3VyY2UsIG92ZXJyaWRhYmxlS2V5cykge1xuICB2YXIgc291cmNlS2V5cywga2V5LCBpbmRleCwgcXVhbnRpdHk7XG5cbiAgaWYgKCFjb21tb24uaXNPYmplY3Qoc291cmNlKSkge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICdjYW5ub3QgbWVyZ2UgbWFwcGluZ3M7IHRoZSBwcm92aWRlZCBzb3VyY2Ugb2JqZWN0IGlzIHVuYWNjZXB0YWJsZScpO1xuICB9XG5cbiAgc291cmNlS2V5cyA9IE9iamVjdC5rZXlzKHNvdXJjZSk7XG5cbiAgZm9yIChpbmRleCA9IDAsIHF1YW50aXR5ID0gc291cmNlS2V5cy5sZW5ndGg7IGluZGV4IDwgcXVhbnRpdHk7IGluZGV4ICs9IDEpIHtcbiAgICBrZXkgPSBzb3VyY2VLZXlzW2luZGV4XTtcblxuICAgIGlmICghX2hhc093blByb3BlcnR5LmNhbGwoZGVzdGluYXRpb24sIGtleSkpIHtcbiAgICAgIGRlc3RpbmF0aW9uW2tleV0gPSBzb3VyY2Vba2V5XTtcbiAgICAgIG92ZXJyaWRhYmxlS2V5c1trZXldID0gdHJ1ZTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc3RvcmVNYXBwaW5nUGFpcihzdGF0ZSwgX3Jlc3VsdCwgb3ZlcnJpZGFibGVLZXlzLCBrZXlUYWcsIGtleU5vZGUsIHZhbHVlTm9kZSwgc3RhcnRMaW5lLCBzdGFydFBvcykge1xuICB2YXIgaW5kZXgsIHF1YW50aXR5O1xuXG4gIC8vIFRoZSBvdXRwdXQgaXMgYSBwbGFpbiBvYmplY3QgaGVyZSwgc28ga2V5cyBjYW4gb25seSBiZSBzdHJpbmdzLlxuICAvLyBXZSBuZWVkIHRvIGNvbnZlcnQga2V5Tm9kZSB0byBhIHN0cmluZywgYnV0IGRvaW5nIHNvIGNhbiBoYW5nIHRoZSBwcm9jZXNzXG4gIC8vIChkZWVwbHkgbmVzdGVkIGFycmF5cyB0aGF0IGV4cGxvZGUgZXhwb25lbnRpYWxseSB1c2luZyBhbGlhc2VzKS5cbiAgaWYgKEFycmF5LmlzQXJyYXkoa2V5Tm9kZSkpIHtcbiAgICBrZXlOb2RlID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoa2V5Tm9kZSk7XG5cbiAgICBmb3IgKGluZGV4ID0gMCwgcXVhbnRpdHkgPSBrZXlOb2RlLmxlbmd0aDsgaW5kZXggPCBxdWFudGl0eTsgaW5kZXggKz0gMSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5Tm9kZVtpbmRleF0pKSB7XG4gICAgICAgIHRocm93RXJyb3Ioc3RhdGUsICduZXN0ZWQgYXJyYXlzIGFyZSBub3Qgc3VwcG9ydGVkIGluc2lkZSBrZXlzJyk7XG4gICAgICB9XG5cbiAgICAgIGlmICh0eXBlb2Yga2V5Tm9kZSA9PT0gJ29iamVjdCcgJiYgX2NsYXNzKGtleU5vZGVbaW5kZXhdKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgICAga2V5Tm9kZVtpbmRleF0gPSAnW29iamVjdCBPYmplY3RdJztcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBBdm9pZCBjb2RlIGV4ZWN1dGlvbiBpbiBsb2FkKCkgdmlhIHRvU3RyaW5nIHByb3BlcnR5XG4gIC8vIChzdGlsbCB1c2UgaXRzIG93biB0b1N0cmluZyBmb3IgYXJyYXlzLCB0aW1lc3RhbXBzLFxuICAvLyBhbmQgd2hhdGV2ZXIgdXNlciBzY2hlbWEgZXh0ZW5zaW9ucyBoYXBwZW4gdG8gaGF2ZSBAQHRvU3RyaW5nVGFnKVxuICBpZiAodHlwZW9mIGtleU5vZGUgPT09ICdvYmplY3QnICYmIF9jbGFzcyhrZXlOb2RlKSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICBrZXlOb2RlID0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gIH1cblxuXG4gIGtleU5vZGUgPSBTdHJpbmcoa2V5Tm9kZSk7XG5cbiAgaWYgKF9yZXN1bHQgPT09IG51bGwpIHtcbiAgICBfcmVzdWx0ID0ge307XG4gIH1cblxuICBpZiAoa2V5VGFnID09PSAndGFnOnlhbWwub3JnLDIwMDI6bWVyZ2UnKSB7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWVOb2RlKSkge1xuICAgICAgZm9yIChpbmRleCA9IDAsIHF1YW50aXR5ID0gdmFsdWVOb2RlLmxlbmd0aDsgaW5kZXggPCBxdWFudGl0eTsgaW5kZXggKz0gMSkge1xuICAgICAgICBtZXJnZU1hcHBpbmdzKHN0YXRlLCBfcmVzdWx0LCB2YWx1ZU5vZGVbaW5kZXhdLCBvdmVycmlkYWJsZUtleXMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBtZXJnZU1hcHBpbmdzKHN0YXRlLCBfcmVzdWx0LCB2YWx1ZU5vZGUsIG92ZXJyaWRhYmxlS2V5cyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmICghc3RhdGUuanNvbiAmJlxuICAgICAgICAhX2hhc093blByb3BlcnR5LmNhbGwob3ZlcnJpZGFibGVLZXlzLCBrZXlOb2RlKSAmJlxuICAgICAgICBfaGFzT3duUHJvcGVydHkuY2FsbChfcmVzdWx0LCBrZXlOb2RlKSkge1xuICAgICAgc3RhdGUubGluZSA9IHN0YXJ0TGluZSB8fCBzdGF0ZS5saW5lO1xuICAgICAgc3RhdGUucG9zaXRpb24gPSBzdGFydFBvcyB8fCBzdGF0ZS5wb3NpdGlvbjtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdkdXBsaWNhdGVkIG1hcHBpbmcga2V5Jyk7XG4gICAgfVxuICAgIF9yZXN1bHRba2V5Tm9kZV0gPSB2YWx1ZU5vZGU7XG4gICAgZGVsZXRlIG92ZXJyaWRhYmxlS2V5c1trZXlOb2RlXTtcbiAgfVxuXG4gIHJldHVybiBfcmVzdWx0O1xufVxuXG5mdW5jdGlvbiByZWFkTGluZUJyZWFrKHN0YXRlKSB7XG4gIHZhciBjaDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIGlmIChjaCA9PT0gMHgwQS8qIExGICovKSB7XG4gICAgc3RhdGUucG9zaXRpb24rKztcbiAgfSBlbHNlIGlmIChjaCA9PT0gMHgwRC8qIENSICovKSB7XG4gICAgc3RhdGUucG9zaXRpb24rKztcbiAgICBpZiAoc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbikgPT09IDB4MEEvKiBMRiAqLykge1xuICAgICAgc3RhdGUucG9zaXRpb24rKztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2EgbGluZSBicmVhayBpcyBleHBlY3RlZCcpO1xuICB9XG5cbiAgc3RhdGUubGluZSArPSAxO1xuICBzdGF0ZS5saW5lU3RhcnQgPSBzdGF0ZS5wb3NpdGlvbjtcbn1cblxuZnVuY3Rpb24gc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgYWxsb3dDb21tZW50cywgY2hlY2tJbmRlbnQpIHtcbiAgdmFyIGxpbmVCcmVha3MgPSAwLFxuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICB3aGlsZSAoY2ggIT09IDApIHtcbiAgICB3aGlsZSAoaXNfV0hJVEVfU1BBQ0UoY2gpKSB7XG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgfVxuXG4gICAgaWYgKGFsbG93Q29tbWVudHMgJiYgY2ggPT09IDB4MjMvKiAjICovKSB7XG4gICAgICBkbyB7XG4gICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICAgIH0gd2hpbGUgKGNoICE9PSAweDBBLyogTEYgKi8gJiYgY2ggIT09IDB4MEQvKiBDUiAqLyAmJiBjaCAhPT0gMCk7XG4gICAgfVxuXG4gICAgaWYgKGlzX0VPTChjaCkpIHtcbiAgICAgIHJlYWRMaW5lQnJlYWsoc3RhdGUpO1xuXG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuICAgICAgbGluZUJyZWFrcysrO1xuICAgICAgc3RhdGUubGluZUluZGVudCA9IDA7XG5cbiAgICAgIHdoaWxlIChjaCA9PT0gMHgyMC8qIFNwYWNlICovKSB7XG4gICAgICAgIHN0YXRlLmxpbmVJbmRlbnQrKztcbiAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoY2hlY2tJbmRlbnQgIT09IC0xICYmIGxpbmVCcmVha3MgIT09IDAgJiYgc3RhdGUubGluZUluZGVudCA8IGNoZWNrSW5kZW50KSB7XG4gICAgdGhyb3dXYXJuaW5nKHN0YXRlLCAnZGVmaWNpZW50IGluZGVudGF0aW9uJyk7XG4gIH1cblxuICByZXR1cm4gbGluZUJyZWFrcztcbn1cblxuZnVuY3Rpb24gdGVzdERvY3VtZW50U2VwYXJhdG9yKHN0YXRlKSB7XG4gIHZhciBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbixcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChfcG9zaXRpb24pO1xuXG4gIC8vIENvbmRpdGlvbiBzdGF0ZS5wb3NpdGlvbiA9PT0gc3RhdGUubGluZVN0YXJ0IGlzIHRlc3RlZFxuICAvLyBpbiBwYXJlbnQgb24gZWFjaCBjYWxsLCBmb3IgZWZmaWNpZW5jeS4gTm8gbmVlZHMgdG8gdGVzdCBoZXJlIGFnYWluLlxuICBpZiAoKGNoID09PSAweDJELyogLSAqLyB8fCBjaCA9PT0gMHgyRS8qIC4gKi8pICYmXG4gICAgICBjaCA9PT0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChfcG9zaXRpb24gKyAxKSAmJlxuICAgICAgY2ggPT09IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoX3Bvc2l0aW9uICsgMikpIHtcblxuICAgIF9wb3NpdGlvbiArPSAzO1xuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KF9wb3NpdGlvbik7XG5cbiAgICBpZiAoY2ggPT09IDAgfHwgaXNfV1NfT1JfRU9MKGNoKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiB3cml0ZUZvbGRlZExpbmVzKHN0YXRlLCBjb3VudCkge1xuICBpZiAoY291bnQgPT09IDEpIHtcbiAgICBzdGF0ZS5yZXN1bHQgKz0gJyAnO1xuICB9IGVsc2UgaWYgKGNvdW50ID4gMSkge1xuICAgIHN0YXRlLnJlc3VsdCArPSBjb21tb24ucmVwZWF0KCdcXG4nLCBjb3VudCAtIDEpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gcmVhZFBsYWluU2NhbGFyKHN0YXRlLCBub2RlSW5kZW50LCB3aXRoaW5GbG93Q29sbGVjdGlvbikge1xuICB2YXIgcHJlY2VkaW5nLFxuICAgICAgZm9sbG93aW5nLFxuICAgICAgY2FwdHVyZVN0YXJ0LFxuICAgICAgY2FwdHVyZUVuZCxcbiAgICAgIGhhc1BlbmRpbmdDb250ZW50LFxuICAgICAgX2xpbmUsXG4gICAgICBfbGluZVN0YXJ0LFxuICAgICAgX2xpbmVJbmRlbnQsXG4gICAgICBfa2luZCA9IHN0YXRlLmtpbmQsXG4gICAgICBfcmVzdWx0ID0gc3RhdGUucmVzdWx0LFxuICAgICAgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoaXNfV1NfT1JfRU9MKGNoKSAgICAgIHx8XG4gICAgICBpc19GTE9XX0lORElDQVRPUihjaCkgfHxcbiAgICAgIGNoID09PSAweDIzLyogIyAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4MjYvKiAmICovICAgIHx8XG4gICAgICBjaCA9PT0gMHgyQS8qICogKi8gICAgfHxcbiAgICAgIGNoID09PSAweDIxLyogISAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4N0MvKiB8ICovICAgIHx8XG4gICAgICBjaCA9PT0gMHgzRS8qID4gKi8gICAgfHxcbiAgICAgIGNoID09PSAweDI3LyogJyAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4MjIvKiBcIiAqLyAgICB8fFxuICAgICAgY2ggPT09IDB4MjUvKiAlICovICAgIHx8XG4gICAgICBjaCA9PT0gMHg0MC8qIEAgKi8gICAgfHxcbiAgICAgIGNoID09PSAweDYwLyogYCAqLykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChjaCA9PT0gMHgzRi8qID8gKi8gfHwgY2ggPT09IDB4MkQvKiAtICovKSB7XG4gICAgZm9sbG93aW5nID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbiArIDEpO1xuXG4gICAgaWYgKGlzX1dTX09SX0VPTChmb2xsb3dpbmcpIHx8XG4gICAgICAgIHdpdGhpbkZsb3dDb2xsZWN0aW9uICYmIGlzX0ZMT1dfSU5ESUNBVE9SKGZvbGxvd2luZykpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cblxuICBzdGF0ZS5raW5kID0gJ3NjYWxhcic7XG4gIHN0YXRlLnJlc3VsdCA9ICcnO1xuICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG4gIGhhc1BlbmRpbmdDb250ZW50ID0gZmFsc2U7XG5cbiAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgaWYgKGNoID09PSAweDNBLyogOiAqLykge1xuICAgICAgZm9sbG93aW5nID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbiArIDEpO1xuXG4gICAgICBpZiAoaXNfV1NfT1JfRU9MKGZvbGxvd2luZykgfHxcbiAgICAgICAgICB3aXRoaW5GbG93Q29sbGVjdGlvbiAmJiBpc19GTE9XX0lORElDQVRPUihmb2xsb3dpbmcpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmIChjaCA9PT0gMHgyMy8qICMgKi8pIHtcbiAgICAgIHByZWNlZGluZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gLSAxKTtcblxuICAgICAgaWYgKGlzX1dTX09SX0VPTChwcmVjZWRpbmcpKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmICgoc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLmxpbmVTdGFydCAmJiB0ZXN0RG9jdW1lbnRTZXBhcmF0b3Ioc3RhdGUpKSB8fFxuICAgICAgICAgICAgICAgd2l0aGluRmxvd0NvbGxlY3Rpb24gJiYgaXNfRkxPV19JTkRJQ0FUT1IoY2gpKSB7XG4gICAgICBicmVhaztcblxuICAgIH0gZWxzZSBpZiAoaXNfRU9MKGNoKSkge1xuICAgICAgX2xpbmUgPSBzdGF0ZS5saW5lO1xuICAgICAgX2xpbmVTdGFydCA9IHN0YXRlLmxpbmVTdGFydDtcbiAgICAgIF9saW5lSW5kZW50ID0gc3RhdGUubGluZUluZGVudDtcbiAgICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIGZhbHNlLCAtMSk7XG5cbiAgICAgIGlmIChzdGF0ZS5saW5lSW5kZW50ID49IG5vZGVJbmRlbnQpIHtcbiAgICAgICAgaGFzUGVuZGluZ0NvbnRlbnQgPSB0cnVlO1xuICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnBvc2l0aW9uID0gY2FwdHVyZUVuZDtcbiAgICAgICAgc3RhdGUubGluZSA9IF9saW5lO1xuICAgICAgICBzdGF0ZS5saW5lU3RhcnQgPSBfbGluZVN0YXJ0O1xuICAgICAgICBzdGF0ZS5saW5lSW5kZW50ID0gX2xpbmVJbmRlbnQ7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChoYXNQZW5kaW5nQ29udGVudCkge1xuICAgICAgY2FwdHVyZVNlZ21lbnQoc3RhdGUsIGNhcHR1cmVTdGFydCwgY2FwdHVyZUVuZCwgZmFsc2UpO1xuICAgICAgd3JpdGVGb2xkZWRMaW5lcyhzdGF0ZSwgc3RhdGUubGluZSAtIF9saW5lKTtcbiAgICAgIGNhcHR1cmVTdGFydCA9IGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcbiAgICAgIGhhc1BlbmRpbmdDb250ZW50ID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFpc19XSElURV9TUEFDRShjaCkpIHtcbiAgICAgIGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbiArIDE7XG4gICAgfVxuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICB9XG5cbiAgY2FwdHVyZVNlZ21lbnQoc3RhdGUsIGNhcHR1cmVTdGFydCwgY2FwdHVyZUVuZCwgZmFsc2UpO1xuXG4gIGlmIChzdGF0ZS5yZXN1bHQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHN0YXRlLmtpbmQgPSBfa2luZDtcbiAgc3RhdGUucmVzdWx0ID0gX3Jlc3VsdDtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiByZWFkU2luZ2xlUXVvdGVkU2NhbGFyKHN0YXRlLCBub2RlSW5kZW50KSB7XG4gIHZhciBjaCxcbiAgICAgIGNhcHR1cmVTdGFydCwgY2FwdHVyZUVuZDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIGlmIChjaCAhPT0gMHgyNy8qICcgKi8pIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdGF0ZS5raW5kID0gJ3NjYWxhcic7XG4gIHN0YXRlLnJlc3VsdCA9ICcnO1xuICBzdGF0ZS5wb3NpdGlvbisrO1xuICBjYXB0dXJlU3RhcnQgPSBjYXB0dXJlRW5kID0gc3RhdGUucG9zaXRpb247XG5cbiAgd2hpbGUgKChjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pKSAhPT0gMCkge1xuICAgIGlmIChjaCA9PT0gMHgyNy8qICcgKi8pIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIHN0YXRlLnBvc2l0aW9uLCB0cnVlKTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICAgICAgaWYgKGNoID09PSAweDI3LyogJyAqLykge1xuICAgICAgICBjYXB0dXJlU3RhcnQgPSBzdGF0ZS5wb3NpdGlvbjtcbiAgICAgICAgc3RhdGUucG9zaXRpb24rKztcbiAgICAgICAgY2FwdHVyZUVuZCA9IHN0YXRlLnBvc2l0aW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG5cbiAgICB9IGVsc2UgaWYgKGlzX0VPTChjaCkpIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIGNhcHR1cmVFbmQsIHRydWUpO1xuICAgICAgd3JpdGVGb2xkZWRMaW5lcyhzdGF0ZSwgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgZmFsc2UsIG5vZGVJbmRlbnQpKTtcbiAgICAgIGNhcHR1cmVTdGFydCA9IGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcblxuICAgIH0gZWxzZSBpZiAoc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLmxpbmVTdGFydCAmJiB0ZXN0RG9jdW1lbnRTZXBhcmF0b3Ioc3RhdGUpKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndW5leHBlY3RlZCBlbmQgb2YgdGhlIGRvY3VtZW50IHdpdGhpbiBhIHNpbmdsZSBxdW90ZWQgc2NhbGFyJyk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgc3RhdGUucG9zaXRpb24rKztcbiAgICAgIGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcbiAgICB9XG4gIH1cblxuICB0aHJvd0Vycm9yKHN0YXRlLCAndW5leHBlY3RlZCBlbmQgb2YgdGhlIHN0cmVhbSB3aXRoaW4gYSBzaW5nbGUgcXVvdGVkIHNjYWxhcicpO1xufVxuXG5mdW5jdGlvbiByZWFkRG91YmxlUXVvdGVkU2NhbGFyKHN0YXRlLCBub2RlSW5kZW50KSB7XG4gIHZhciBjYXB0dXJlU3RhcnQsXG4gICAgICBjYXB0dXJlRW5kLFxuICAgICAgaGV4TGVuZ3RoLFxuICAgICAgaGV4UmVzdWx0LFxuICAgICAgdG1wLFxuICAgICAgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggIT09IDB4MjIvKiBcIiAqLykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0YXRlLmtpbmQgPSAnc2NhbGFyJztcbiAgc3RhdGUucmVzdWx0ID0gJyc7XG4gIHN0YXRlLnBvc2l0aW9uKys7XG4gIGNhcHR1cmVTdGFydCA9IGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcblxuICB3aGlsZSAoKGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbikpICE9PSAwKSB7XG4gICAgaWYgKGNoID09PSAweDIyLyogXCIgKi8pIHtcbiAgICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIHN0YXRlLnBvc2l0aW9uLCB0cnVlKTtcbiAgICAgIHN0YXRlLnBvc2l0aW9uKys7XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIH0gZWxzZSBpZiAoY2ggPT09IDB4NUMvKiBcXCAqLykge1xuICAgICAgY2FwdHVyZVNlZ21lbnQoc3RhdGUsIGNhcHR1cmVTdGFydCwgc3RhdGUucG9zaXRpb24sIHRydWUpO1xuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuXG4gICAgICBpZiAoaXNfRU9MKGNoKSkge1xuICAgICAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCBmYWxzZSwgbm9kZUluZGVudCk7XG5cbiAgICAgICAgLy8gVE9ETzogcmV3b3JrIHRvIGlubGluZSBmbiB3aXRoIG5vIHR5cGUgY2FzdD9cbiAgICAgIH0gZWxzZSBpZiAoY2ggPCAyNTYgJiYgc2ltcGxlRXNjYXBlQ2hlY2tbY2hdKSB7XG4gICAgICAgIHN0YXRlLnJlc3VsdCArPSBzaW1wbGVFc2NhcGVNYXBbY2hdO1xuICAgICAgICBzdGF0ZS5wb3NpdGlvbisrO1xuXG4gICAgICB9IGVsc2UgaWYgKCh0bXAgPSBlc2NhcGVkSGV4TGVuKGNoKSkgPiAwKSB7XG4gICAgICAgIGhleExlbmd0aCA9IHRtcDtcbiAgICAgICAgaGV4UmVzdWx0ID0gMDtcblxuICAgICAgICBmb3IgKDsgaGV4TGVuZ3RoID4gMDsgaGV4TGVuZ3RoLS0pIHtcbiAgICAgICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICAgICAgICBpZiAoKHRtcCA9IGZyb21IZXhDb2RlKGNoKSkgPj0gMCkge1xuICAgICAgICAgICAgaGV4UmVzdWx0ID0gKGhleFJlc3VsdCA8PCA0KSArIHRtcDtcblxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZXhwZWN0ZWQgaGV4YWRlY2ltYWwgY2hhcmFjdGVyJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgc3RhdGUucmVzdWx0ICs9IGNoYXJGcm9tQ29kZXBvaW50KGhleFJlc3VsdCk7XG5cbiAgICAgICAgc3RhdGUucG9zaXRpb24rKztcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3Vua25vd24gZXNjYXBlIHNlcXVlbmNlJyk7XG4gICAgICB9XG5cbiAgICAgIGNhcHR1cmVTdGFydCA9IGNhcHR1cmVFbmQgPSBzdGF0ZS5wb3NpdGlvbjtcblxuICAgIH0gZWxzZSBpZiAoaXNfRU9MKGNoKSkge1xuICAgICAgY2FwdHVyZVNlZ21lbnQoc3RhdGUsIGNhcHR1cmVTdGFydCwgY2FwdHVyZUVuZCwgdHJ1ZSk7XG4gICAgICB3cml0ZUZvbGRlZExpbmVzKHN0YXRlLCBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCBmYWxzZSwgbm9kZUluZGVudCkpO1xuICAgICAgY2FwdHVyZVN0YXJ0ID0gY2FwdHVyZUVuZCA9IHN0YXRlLnBvc2l0aW9uO1xuXG4gICAgfSBlbHNlIGlmIChzdGF0ZS5wb3NpdGlvbiA9PT0gc3RhdGUubGluZVN0YXJ0ICYmIHRlc3REb2N1bWVudFNlcGFyYXRvcihzdGF0ZSkpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmV4cGVjdGVkIGVuZCBvZiB0aGUgZG9jdW1lbnQgd2l0aGluIGEgZG91YmxlIHF1b3RlZCBzY2FsYXInKTtcblxuICAgIH0gZWxzZSB7XG4gICAgICBzdGF0ZS5wb3NpdGlvbisrO1xuICAgICAgY2FwdHVyZUVuZCA9IHN0YXRlLnBvc2l0aW9uO1xuICAgIH1cbiAgfVxuXG4gIHRocm93RXJyb3Ioc3RhdGUsICd1bmV4cGVjdGVkIGVuZCBvZiB0aGUgc3RyZWFtIHdpdGhpbiBhIGRvdWJsZSBxdW90ZWQgc2NhbGFyJyk7XG59XG5cbmZ1bmN0aW9uIHJlYWRGbG93Q29sbGVjdGlvbihzdGF0ZSwgbm9kZUluZGVudCkge1xuICB2YXIgcmVhZE5leHQgPSB0cnVlLFxuICAgICAgX2xpbmUsXG4gICAgICBfdGFnICAgICA9IHN0YXRlLnRhZyxcbiAgICAgIF9yZXN1bHQsXG4gICAgICBfYW5jaG9yICA9IHN0YXRlLmFuY2hvcixcbiAgICAgIGZvbGxvd2luZyxcbiAgICAgIHRlcm1pbmF0b3IsXG4gICAgICBpc1BhaXIsXG4gICAgICBpc0V4cGxpY2l0UGFpcixcbiAgICAgIGlzTWFwcGluZyxcbiAgICAgIG92ZXJyaWRhYmxlS2V5cyA9IHt9LFxuICAgICAga2V5Tm9kZSxcbiAgICAgIGtleVRhZyxcbiAgICAgIHZhbHVlTm9kZSxcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoID09PSAweDVCLyogWyAqLykge1xuICAgIHRlcm1pbmF0b3IgPSAweDVEOy8qIF0gKi9cbiAgICBpc01hcHBpbmcgPSBmYWxzZTtcbiAgICBfcmVzdWx0ID0gW107XG4gIH0gZWxzZSBpZiAoY2ggPT09IDB4N0IvKiB7ICovKSB7XG4gICAgdGVybWluYXRvciA9IDB4N0Q7LyogfSAqL1xuICAgIGlzTWFwcGluZyA9IHRydWU7XG4gICAgX3Jlc3VsdCA9IHt9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICBzdGF0ZS5hbmNob3JNYXBbc3RhdGUuYW5jaG9yXSA9IF9yZXN1bHQ7XG4gIH1cblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG5cbiAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgbm9kZUluZGVudCk7XG5cbiAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gICAgaWYgKGNoID09PSB0ZXJtaW5hdG9yKSB7XG4gICAgICBzdGF0ZS5wb3NpdGlvbisrO1xuICAgICAgc3RhdGUudGFnID0gX3RhZztcbiAgICAgIHN0YXRlLmFuY2hvciA9IF9hbmNob3I7XG4gICAgICBzdGF0ZS5raW5kID0gaXNNYXBwaW5nID8gJ21hcHBpbmcnIDogJ3NlcXVlbmNlJztcbiAgICAgIHN0YXRlLnJlc3VsdCA9IF9yZXN1bHQ7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKCFyZWFkTmV4dCkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ21pc3NlZCBjb21tYSBiZXR3ZWVuIGZsb3cgY29sbGVjdGlvbiBlbnRyaWVzJyk7XG4gICAgfVxuXG4gICAga2V5VGFnID0ga2V5Tm9kZSA9IHZhbHVlTm9kZSA9IG51bGw7XG4gICAgaXNQYWlyID0gaXNFeHBsaWNpdFBhaXIgPSBmYWxzZTtcblxuICAgIGlmIChjaCA9PT0gMHgzRi8qID8gKi8pIHtcbiAgICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcblxuICAgICAgaWYgKGlzX1dTX09SX0VPTChmb2xsb3dpbmcpKSB7XG4gICAgICAgIGlzUGFpciA9IGlzRXhwbGljaXRQYWlyID0gdHJ1ZTtcbiAgICAgICAgc3RhdGUucG9zaXRpb24rKztcbiAgICAgICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgbm9kZUluZGVudCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2xpbmUgPSBzdGF0ZS5saW5lO1xuICAgIGNvbXBvc2VOb2RlKHN0YXRlLCBub2RlSW5kZW50LCBDT05URVhUX0ZMT1dfSU4sIGZhbHNlLCB0cnVlKTtcbiAgICBrZXlUYWcgPSBzdGF0ZS50YWc7XG4gICAga2V5Tm9kZSA9IHN0YXRlLnJlc3VsdDtcbiAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCBub2RlSW5kZW50KTtcblxuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoKGlzRXhwbGljaXRQYWlyIHx8IHN0YXRlLmxpbmUgPT09IF9saW5lKSAmJiBjaCA9PT0gMHgzQS8qIDogKi8pIHtcbiAgICAgIGlzUGFpciA9IHRydWU7XG4gICAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG4gICAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCBub2RlSW5kZW50KTtcbiAgICAgIGNvbXBvc2VOb2RlKHN0YXRlLCBub2RlSW5kZW50LCBDT05URVhUX0ZMT1dfSU4sIGZhbHNlLCB0cnVlKTtcbiAgICAgIHZhbHVlTm9kZSA9IHN0YXRlLnJlc3VsdDtcbiAgICB9XG5cbiAgICBpZiAoaXNNYXBwaW5nKSB7XG4gICAgICBzdG9yZU1hcHBpbmdQYWlyKHN0YXRlLCBfcmVzdWx0LCBvdmVycmlkYWJsZUtleXMsIGtleVRhZywga2V5Tm9kZSwgdmFsdWVOb2RlKTtcbiAgICB9IGVsc2UgaWYgKGlzUGFpcikge1xuICAgICAgX3Jlc3VsdC5wdXNoKHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIG51bGwsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCB2YWx1ZU5vZGUpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgX3Jlc3VsdC5wdXNoKGtleU5vZGUpO1xuICAgIH1cblxuICAgIHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIG5vZGVJbmRlbnQpO1xuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgIGlmIChjaCA9PT0gMHgyQy8qICwgKi8pIHtcbiAgICAgIHJlYWROZXh0ID0gdHJ1ZTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVhZE5leHQgPSBmYWxzZTtcbiAgICB9XG4gIH1cblxuICB0aHJvd0Vycm9yKHN0YXRlLCAndW5leHBlY3RlZCBlbmQgb2YgdGhlIHN0cmVhbSB3aXRoaW4gYSBmbG93IGNvbGxlY3Rpb24nKTtcbn1cblxuZnVuY3Rpb24gcmVhZEJsb2NrU2NhbGFyKHN0YXRlLCBub2RlSW5kZW50KSB7XG4gIHZhciBjYXB0dXJlU3RhcnQsXG4gICAgICBmb2xkaW5nLFxuICAgICAgY2hvbXBpbmcgICAgICAgPSBDSE9NUElOR19DTElQLFxuICAgICAgZGlkUmVhZENvbnRlbnQgPSBmYWxzZSxcbiAgICAgIGRldGVjdGVkSW5kZW50ID0gZmFsc2UsXG4gICAgICB0ZXh0SW5kZW50ICAgICA9IG5vZGVJbmRlbnQsXG4gICAgICBlbXB0eUxpbmVzICAgICA9IDAsXG4gICAgICBhdE1vcmVJbmRlbnRlZCA9IGZhbHNlLFxuICAgICAgdG1wLFxuICAgICAgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggPT09IDB4N0MvKiB8ICovKSB7XG4gICAgZm9sZGluZyA9IGZhbHNlO1xuICB9IGVsc2UgaWYgKGNoID09PSAweDNFLyogPiAqLykge1xuICAgIGZvbGRpbmcgPSB0cnVlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0YXRlLmtpbmQgPSAnc2NhbGFyJztcbiAgc3RhdGUucmVzdWx0ID0gJyc7XG5cbiAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuXG4gICAgaWYgKGNoID09PSAweDJCLyogKyAqLyB8fCBjaCA9PT0gMHgyRC8qIC0gKi8pIHtcbiAgICAgIGlmIChDSE9NUElOR19DTElQID09PSBjaG9tcGluZykge1xuICAgICAgICBjaG9tcGluZyA9IChjaCA9PT0gMHgyQi8qICsgKi8pID8gQ0hPTVBJTkdfS0VFUCA6IENIT01QSU5HX1NUUklQO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3JlcGVhdCBvZiBhIGNob21waW5nIG1vZGUgaWRlbnRpZmllcicpO1xuICAgICAgfVxuXG4gICAgfSBlbHNlIGlmICgodG1wID0gZnJvbURlY2ltYWxDb2RlKGNoKSkgPj0gMCkge1xuICAgICAgaWYgKHRtcCA9PT0gMCkge1xuICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnYmFkIGV4cGxpY2l0IGluZGVudGF0aW9uIHdpZHRoIG9mIGEgYmxvY2sgc2NhbGFyOyBpdCBjYW5ub3QgYmUgbGVzcyB0aGFuIG9uZScpO1xuICAgICAgfSBlbHNlIGlmICghZGV0ZWN0ZWRJbmRlbnQpIHtcbiAgICAgICAgdGV4dEluZGVudCA9IG5vZGVJbmRlbnQgKyB0bXAgLSAxO1xuICAgICAgICBkZXRlY3RlZEluZGVudCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAncmVwZWF0IG9mIGFuIGluZGVudGF0aW9uIHdpZHRoIGlkZW50aWZpZXInKTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICBpZiAoaXNfV0hJVEVfU1BBQ0UoY2gpKSB7XG4gICAgZG8geyBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7IH1cbiAgICB3aGlsZSAoaXNfV0hJVEVfU1BBQ0UoY2gpKTtcblxuICAgIGlmIChjaCA9PT0gMHgyMy8qICMgKi8pIHtcbiAgICAgIGRvIHsgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pOyB9XG4gICAgICB3aGlsZSAoIWlzX0VPTChjaCkgJiYgKGNoICE9PSAwKSk7XG4gICAgfVxuICB9XG5cbiAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgcmVhZExpbmVCcmVhayhzdGF0ZSk7XG4gICAgc3RhdGUubGluZUluZGVudCA9IDA7XG5cbiAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gICAgd2hpbGUgKCghZGV0ZWN0ZWRJbmRlbnQgfHwgc3RhdGUubGluZUluZGVudCA8IHRleHRJbmRlbnQpICYmXG4gICAgICAgICAgIChjaCA9PT0gMHgyMC8qIFNwYWNlICovKSkge1xuICAgICAgc3RhdGUubGluZUluZGVudCsrO1xuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgIH1cblxuICAgIGlmICghZGV0ZWN0ZWRJbmRlbnQgJiYgc3RhdGUubGluZUluZGVudCA+IHRleHRJbmRlbnQpIHtcbiAgICAgIHRleHRJbmRlbnQgPSBzdGF0ZS5saW5lSW5kZW50O1xuICAgIH1cblxuICAgIGlmIChpc19FT0woY2gpKSB7XG4gICAgICBlbXB0eUxpbmVzKys7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICAvLyBFbmQgb2YgdGhlIHNjYWxhci5cbiAgICBpZiAoc3RhdGUubGluZUluZGVudCA8IHRleHRJbmRlbnQpIHtcblxuICAgICAgLy8gUGVyZm9ybSB0aGUgY2hvbXBpbmcuXG4gICAgICBpZiAoY2hvbXBpbmcgPT09IENIT01QSU5HX0tFRVApIHtcbiAgICAgICAgc3RhdGUucmVzdWx0ICs9IGNvbW1vbi5yZXBlYXQoJ1xcbicsIGRpZFJlYWRDb250ZW50ID8gMSArIGVtcHR5TGluZXMgOiBlbXB0eUxpbmVzKTtcbiAgICAgIH0gZWxzZSBpZiAoY2hvbXBpbmcgPT09IENIT01QSU5HX0NMSVApIHtcbiAgICAgICAgaWYgKGRpZFJlYWRDb250ZW50KSB7IC8vIGkuZS4gb25seSBpZiB0aGUgc2NhbGFyIGlzIG5vdCBlbXB0eS5cbiAgICAgICAgICBzdGF0ZS5yZXN1bHQgKz0gJ1xcbic7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLy8gQnJlYWsgdGhpcyBgd2hpbGVgIGN5Y2xlIGFuZCBnbyB0byB0aGUgZnVuY2l0b24ncyBlcGlsb2d1ZS5cbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIC8vIEZvbGRlZCBzdHlsZTogdXNlIGZhbmN5IHJ1bGVzIHRvIGhhbmRsZSBsaW5lIGJyZWFrcy5cbiAgICBpZiAoZm9sZGluZykge1xuXG4gICAgICAvLyBMaW5lcyBzdGFydGluZyB3aXRoIHdoaXRlIHNwYWNlIGNoYXJhY3RlcnMgKG1vcmUtaW5kZW50ZWQgbGluZXMpIGFyZSBub3QgZm9sZGVkLlxuICAgICAgaWYgKGlzX1dISVRFX1NQQUNFKGNoKSkge1xuICAgICAgICBhdE1vcmVJbmRlbnRlZCA9IHRydWU7XG4gICAgICAgIC8vIGV4Y2VwdCBmb3IgdGhlIGZpcnN0IGNvbnRlbnQgbGluZSAoY2YuIEV4YW1wbGUgOC4xKVxuICAgICAgICBzdGF0ZS5yZXN1bHQgKz0gY29tbW9uLnJlcGVhdCgnXFxuJywgZGlkUmVhZENvbnRlbnQgPyAxICsgZW1wdHlMaW5lcyA6IGVtcHR5TGluZXMpO1xuXG4gICAgICAvLyBFbmQgb2YgbW9yZS1pbmRlbnRlZCBibG9jay5cbiAgICAgIH0gZWxzZSBpZiAoYXRNb3JlSW5kZW50ZWQpIHtcbiAgICAgICAgYXRNb3JlSW5kZW50ZWQgPSBmYWxzZTtcbiAgICAgICAgc3RhdGUucmVzdWx0ICs9IGNvbW1vbi5yZXBlYXQoJ1xcbicsIGVtcHR5TGluZXMgKyAxKTtcblxuICAgICAgLy8gSnVzdCBvbmUgbGluZSBicmVhayAtIHBlcmNlaXZlIGFzIHRoZSBzYW1lIGxpbmUuXG4gICAgICB9IGVsc2UgaWYgKGVtcHR5TGluZXMgPT09IDApIHtcbiAgICAgICAgaWYgKGRpZFJlYWRDb250ZW50KSB7IC8vIGkuZS4gb25seSBpZiB3ZSBoYXZlIGFscmVhZHkgcmVhZCBzb21lIHNjYWxhciBjb250ZW50LlxuICAgICAgICAgIHN0YXRlLnJlc3VsdCArPSAnICc7XG4gICAgICAgIH1cblxuICAgICAgLy8gU2V2ZXJhbCBsaW5lIGJyZWFrcyAtIHBlcmNlaXZlIGFzIGRpZmZlcmVudCBsaW5lcy5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnJlc3VsdCArPSBjb21tb24ucmVwZWF0KCdcXG4nLCBlbXB0eUxpbmVzKTtcbiAgICAgIH1cblxuICAgIC8vIExpdGVyYWwgc3R5bGU6IGp1c3QgYWRkIGV4YWN0IG51bWJlciBvZiBsaW5lIGJyZWFrcyBiZXR3ZWVuIGNvbnRlbnQgbGluZXMuXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIEtlZXAgYWxsIGxpbmUgYnJlYWtzIGV4Y2VwdCB0aGUgaGVhZGVyIGxpbmUgYnJlYWsuXG4gICAgICBzdGF0ZS5yZXN1bHQgKz0gY29tbW9uLnJlcGVhdCgnXFxuJywgZGlkUmVhZENvbnRlbnQgPyAxICsgZW1wdHlMaW5lcyA6IGVtcHR5TGluZXMpO1xuICAgIH1cblxuICAgIGRpZFJlYWRDb250ZW50ID0gdHJ1ZTtcbiAgICBkZXRlY3RlZEluZGVudCA9IHRydWU7XG4gICAgZW1wdHlMaW5lcyA9IDA7XG4gICAgY2FwdHVyZVN0YXJ0ID0gc3RhdGUucG9zaXRpb247XG5cbiAgICB3aGlsZSAoIWlzX0VPTChjaCkgJiYgKGNoICE9PSAwKSkge1xuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgIH1cblxuICAgIGNhcHR1cmVTZWdtZW50KHN0YXRlLCBjYXB0dXJlU3RhcnQsIHN0YXRlLnBvc2l0aW9uLCBmYWxzZSk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmVhZEJsb2NrU2VxdWVuY2Uoc3RhdGUsIG5vZGVJbmRlbnQpIHtcbiAgdmFyIF9saW5lLFxuICAgICAgX3RhZyAgICAgID0gc3RhdGUudGFnLFxuICAgICAgX2FuY2hvciAgID0gc3RhdGUuYW5jaG9yLFxuICAgICAgX3Jlc3VsdCAgID0gW10sXG4gICAgICBmb2xsb3dpbmcsXG4gICAgICBkZXRlY3RlZCAgPSBmYWxzZSxcbiAgICAgIGNoO1xuXG4gIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICBzdGF0ZS5hbmNob3JNYXBbc3RhdGUuYW5jaG9yXSA9IF9yZXN1bHQ7XG4gIH1cblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuXG4gICAgaWYgKGNoICE9PSAweDJELyogLSAqLykge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgZm9sbG93aW5nID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbiArIDEpO1xuXG4gICAgaWYgKCFpc19XU19PUl9FT0woZm9sbG93aW5nKSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuXG4gICAgZGV0ZWN0ZWQgPSB0cnVlO1xuICAgIHN0YXRlLnBvc2l0aW9uKys7XG5cbiAgICBpZiAoc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpKSB7XG4gICAgICBpZiAoc3RhdGUubGluZUluZGVudCA8PSBub2RlSW5kZW50KSB7XG4gICAgICAgIF9yZXN1bHQucHVzaChudWxsKTtcbiAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX2xpbmUgPSBzdGF0ZS5saW5lO1xuICAgIGNvbXBvc2VOb2RlKHN0YXRlLCBub2RlSW5kZW50LCBDT05URVhUX0JMT0NLX0lOLCBmYWxzZSwgdHJ1ZSk7XG4gICAgX3Jlc3VsdC5wdXNoKHN0YXRlLnJlc3VsdCk7XG4gICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgIGlmICgoc3RhdGUubGluZSA9PT0gX2xpbmUgfHwgc3RhdGUubGluZUluZGVudCA+IG5vZGVJbmRlbnQpICYmIChjaCAhPT0gMCkpIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICdiYWQgaW5kZW50YXRpb24gb2YgYSBzZXF1ZW5jZSBlbnRyeScpO1xuICAgIH0gZWxzZSBpZiAoc3RhdGUubGluZUluZGVudCA8IG5vZGVJbmRlbnQpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkZXRlY3RlZCkge1xuICAgIHN0YXRlLnRhZyA9IF90YWc7XG4gICAgc3RhdGUuYW5jaG9yID0gX2FuY2hvcjtcbiAgICBzdGF0ZS5raW5kID0gJ3NlcXVlbmNlJztcbiAgICBzdGF0ZS5yZXN1bHQgPSBfcmVzdWx0O1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gcmVhZEJsb2NrTWFwcGluZyhzdGF0ZSwgbm9kZUluZGVudCwgZmxvd0luZGVudCkge1xuICB2YXIgZm9sbG93aW5nLFxuICAgICAgYWxsb3dDb21wYWN0LFxuICAgICAgX2xpbmUsXG4gICAgICBfcG9zLFxuICAgICAgX3RhZyAgICAgICAgICA9IHN0YXRlLnRhZyxcbiAgICAgIF9hbmNob3IgICAgICAgPSBzdGF0ZS5hbmNob3IsXG4gICAgICBfcmVzdWx0ICAgICAgID0ge30sXG4gICAgICBvdmVycmlkYWJsZUtleXMgPSB7fSxcbiAgICAgIGtleVRhZyAgICAgICAgPSBudWxsLFxuICAgICAga2V5Tm9kZSAgICAgICA9IG51bGwsXG4gICAgICB2YWx1ZU5vZGUgICAgID0gbnVsbCxcbiAgICAgIGF0RXhwbGljaXRLZXkgPSBmYWxzZSxcbiAgICAgIGRldGVjdGVkICAgICAgPSBmYWxzZSxcbiAgICAgIGNoO1xuXG4gIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICBzdGF0ZS5hbmNob3JNYXBbc3RhdGUuYW5jaG9yXSA9IF9yZXN1bHQ7XG4gIH1cblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIHdoaWxlIChjaCAhPT0gMCkge1xuICAgIGZvbGxvd2luZyA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24gKyAxKTtcbiAgICBfbGluZSA9IHN0YXRlLmxpbmU7IC8vIFNhdmUgdGhlIGN1cnJlbnQgbGluZS5cbiAgICBfcG9zID0gc3RhdGUucG9zaXRpb247XG5cbiAgICAvL1xuICAgIC8vIEV4cGxpY2l0IG5vdGF0aW9uIGNhc2UuIFRoZXJlIGFyZSB0d28gc2VwYXJhdGUgYmxvY2tzOlxuICAgIC8vIGZpcnN0IGZvciB0aGUga2V5IChkZW5vdGVkIGJ5IFwiP1wiKSBhbmQgc2Vjb25kIGZvciB0aGUgdmFsdWUgKGRlbm90ZWQgYnkgXCI6XCIpXG4gICAgLy9cbiAgICBpZiAoKGNoID09PSAweDNGLyogPyAqLyB8fCBjaCA9PT0gMHgzQS8qIDogKi8pICYmIGlzX1dTX09SX0VPTChmb2xsb3dpbmcpKSB7XG5cbiAgICAgIGlmIChjaCA9PT0gMHgzRi8qID8gKi8pIHtcbiAgICAgICAgaWYgKGF0RXhwbGljaXRLZXkpIHtcbiAgICAgICAgICBzdG9yZU1hcHBpbmdQYWlyKHN0YXRlLCBfcmVzdWx0LCBvdmVycmlkYWJsZUtleXMsIGtleVRhZywga2V5Tm9kZSwgbnVsbCk7XG4gICAgICAgICAga2V5VGFnID0ga2V5Tm9kZSA9IHZhbHVlTm9kZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBkZXRlY3RlZCA9IHRydWU7XG4gICAgICAgIGF0RXhwbGljaXRLZXkgPSB0cnVlO1xuICAgICAgICBhbGxvd0NvbXBhY3QgPSB0cnVlO1xuXG4gICAgICB9IGVsc2UgaWYgKGF0RXhwbGljaXRLZXkpIHtcbiAgICAgICAgLy8gaS5lLiAweDNBLyogOiAqLyA9PT0gY2hhcmFjdGVyIGFmdGVyIHRoZSBleHBsaWNpdCBrZXkuXG4gICAgICAgIGF0RXhwbGljaXRLZXkgPSBmYWxzZTtcbiAgICAgICAgYWxsb3dDb21wYWN0ID0gdHJ1ZTtcblxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2luY29tcGxldGUgZXhwbGljaXQgbWFwcGluZyBwYWlyOyBhIGtleSBub2RlIGlzIG1pc3NlZDsgb3IgZm9sbG93ZWQgYnkgYSBub24tdGFidWxhdGVkIGVtcHR5IGxpbmUnKTtcbiAgICAgIH1cblxuICAgICAgc3RhdGUucG9zaXRpb24gKz0gMTtcbiAgICAgIGNoID0gZm9sbG93aW5nO1xuXG4gICAgLy9cbiAgICAvLyBJbXBsaWNpdCBub3RhdGlvbiBjYXNlLiBGbG93LXN0eWxlIG5vZGUgYXMgdGhlIGtleSBmaXJzdCwgdGhlbiBcIjpcIiwgYW5kIHRoZSB2YWx1ZS5cbiAgICAvL1xuICAgIH0gZWxzZSBpZiAoY29tcG9zZU5vZGUoc3RhdGUsIGZsb3dJbmRlbnQsIENPTlRFWFRfRkxPV19PVVQsIGZhbHNlLCB0cnVlKSkge1xuXG4gICAgICBpZiAoc3RhdGUubGluZSA9PT0gX2xpbmUpIHtcbiAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgICAgICB3aGlsZSAoaXNfV0hJVEVfU1BBQ0UoY2gpKSB7XG4gICAgICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNoID09PSAweDNBLyogOiAqLykge1xuICAgICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICAgICAgICAgIGlmICghaXNfV1NfT1JfRU9MKGNoKSkge1xuICAgICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2Egd2hpdGVzcGFjZSBjaGFyYWN0ZXIgaXMgZXhwZWN0ZWQgYWZ0ZXIgdGhlIGtleS12YWx1ZSBzZXBhcmF0b3Igd2l0aGluIGEgYmxvY2sgbWFwcGluZycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmIChhdEV4cGxpY2l0S2V5KSB7XG4gICAgICAgICAgICBzdG9yZU1hcHBpbmdQYWlyKHN0YXRlLCBfcmVzdWx0LCBvdmVycmlkYWJsZUtleXMsIGtleVRhZywga2V5Tm9kZSwgbnVsbCk7XG4gICAgICAgICAgICBrZXlUYWcgPSBrZXlOb2RlID0gdmFsdWVOb2RlID0gbnVsbDtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBkZXRlY3RlZCA9IHRydWU7XG4gICAgICAgICAgYXRFeHBsaWNpdEtleSA9IGZhbHNlO1xuICAgICAgICAgIGFsbG93Q29tcGFjdCA9IGZhbHNlO1xuICAgICAgICAgIGtleVRhZyA9IHN0YXRlLnRhZztcbiAgICAgICAgICBrZXlOb2RlID0gc3RhdGUucmVzdWx0O1xuXG4gICAgICAgIH0gZWxzZSBpZiAoZGV0ZWN0ZWQpIHtcbiAgICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnY2FuIG5vdCByZWFkIGFuIGltcGxpY2l0IG1hcHBpbmcgcGFpcjsgYSBjb2xvbiBpcyBtaXNzZWQnKTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXRlLnRhZyA9IF90YWc7XG4gICAgICAgICAgc3RhdGUuYW5jaG9yID0gX2FuY2hvcjtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTsgLy8gS2VlcCB0aGUgcmVzdWx0IG9mIGBjb21wb3NlTm9kZWAuXG4gICAgICAgIH1cblxuICAgICAgfSBlbHNlIGlmIChkZXRlY3RlZCkge1xuICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnY2FuIG5vdCByZWFkIGEgYmxvY2sgbWFwcGluZyBlbnRyeTsgYSBtdWx0aWxpbmUga2V5IG1heSBub3QgYmUgYW4gaW1wbGljaXQga2V5Jyk7XG5cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHN0YXRlLnRhZyA9IF90YWc7XG4gICAgICAgIHN0YXRlLmFuY2hvciA9IF9hbmNob3I7XG4gICAgICAgIHJldHVybiB0cnVlOyAvLyBLZWVwIHRoZSByZXN1bHQgb2YgYGNvbXBvc2VOb2RlYC5cbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICBicmVhazsgLy8gUmVhZGluZyBpcyBkb25lLiBHbyB0byB0aGUgZXBpbG9ndWUuXG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBDb21tb24gcmVhZGluZyBjb2RlIGZvciBib3RoIGV4cGxpY2l0IGFuZCBpbXBsaWNpdCBub3RhdGlvbnMuXG4gICAgLy9cbiAgICBpZiAoc3RhdGUubGluZSA9PT0gX2xpbmUgfHwgc3RhdGUubGluZUluZGVudCA+IG5vZGVJbmRlbnQpIHtcbiAgICAgIGlmIChjb21wb3NlTm9kZShzdGF0ZSwgbm9kZUluZGVudCwgQ09OVEVYVF9CTE9DS19PVVQsIHRydWUsIGFsbG93Q29tcGFjdCkpIHtcbiAgICAgICAgaWYgKGF0RXhwbGljaXRLZXkpIHtcbiAgICAgICAgICBrZXlOb2RlID0gc3RhdGUucmVzdWx0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhbHVlTm9kZSA9IHN0YXRlLnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoIWF0RXhwbGljaXRLZXkpIHtcbiAgICAgICAgc3RvcmVNYXBwaW5nUGFpcihzdGF0ZSwgX3Jlc3VsdCwgb3ZlcnJpZGFibGVLZXlzLCBrZXlUYWcsIGtleU5vZGUsIHZhbHVlTm9kZSwgX2xpbmUsIF9wb3MpO1xuICAgICAgICBrZXlUYWcgPSBrZXlOb2RlID0gdmFsdWVOb2RlID0gbnVsbDtcbiAgICAgIH1cblxuICAgICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICBpZiAoc3RhdGUubGluZUluZGVudCA+IG5vZGVJbmRlbnQgJiYgKGNoICE9PSAwKSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2JhZCBpbmRlbnRhdGlvbiBvZiBhIG1hcHBpbmcgZW50cnknKTtcbiAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPCBub2RlSW5kZW50KSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICAvL1xuICAvLyBFcGlsb2d1ZS5cbiAgLy9cblxuICAvLyBTcGVjaWFsIGNhc2U6IGxhc3QgbWFwcGluZydzIG5vZGUgY29udGFpbnMgb25seSB0aGUga2V5IGluIGV4cGxpY2l0IG5vdGF0aW9uLlxuICBpZiAoYXRFeHBsaWNpdEtleSkge1xuICAgIHN0b3JlTWFwcGluZ1BhaXIoc3RhdGUsIF9yZXN1bHQsIG92ZXJyaWRhYmxlS2V5cywga2V5VGFnLCBrZXlOb2RlLCBudWxsKTtcbiAgfVxuXG4gIC8vIEV4cG9zZSB0aGUgcmVzdWx0aW5nIG1hcHBpbmcuXG4gIGlmIChkZXRlY3RlZCkge1xuICAgIHN0YXRlLnRhZyA9IF90YWc7XG4gICAgc3RhdGUuYW5jaG9yID0gX2FuY2hvcjtcbiAgICBzdGF0ZS5raW5kID0gJ21hcHBpbmcnO1xuICAgIHN0YXRlLnJlc3VsdCA9IF9yZXN1bHQ7XG4gIH1cblxuICByZXR1cm4gZGV0ZWN0ZWQ7XG59XG5cbmZ1bmN0aW9uIHJlYWRUYWdQcm9wZXJ0eShzdGF0ZSkge1xuICB2YXIgX3Bvc2l0aW9uLFxuICAgICAgaXNWZXJiYXRpbSA9IGZhbHNlLFxuICAgICAgaXNOYW1lZCAgICA9IGZhbHNlLFxuICAgICAgdGFnSGFuZGxlLFxuICAgICAgdGFnTmFtZSxcbiAgICAgIGNoO1xuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbik7XG5cbiAgaWYgKGNoICE9PSAweDIxLyogISAqLykgcmV0dXJuIGZhbHNlO1xuXG4gIGlmIChzdGF0ZS50YWcgIT09IG51bGwpIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZHVwbGljYXRpb24gb2YgYSB0YWcgcHJvcGVydHknKTtcbiAgfVxuXG4gIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggPT09IDB4M0MvKiA8ICovKSB7XG4gICAgaXNWZXJiYXRpbSA9IHRydWU7XG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuXG4gIH0gZWxzZSBpZiAoY2ggPT09IDB4MjEvKiAhICovKSB7XG4gICAgaXNOYW1lZCA9IHRydWU7XG4gICAgdGFnSGFuZGxlID0gJyEhJztcbiAgICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoKytzdGF0ZS5wb3NpdGlvbik7XG5cbiAgfSBlbHNlIHtcbiAgICB0YWdIYW5kbGUgPSAnISc7XG4gIH1cblxuICBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbjtcblxuICBpZiAoaXNWZXJiYXRpbSkge1xuICAgIGRvIHsgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pOyB9XG4gICAgd2hpbGUgKGNoICE9PSAwICYmIGNoICE9PSAweDNFLyogPiAqLyk7XG5cbiAgICBpZiAoc3RhdGUucG9zaXRpb24gPCBzdGF0ZS5sZW5ndGgpIHtcbiAgICAgIHRhZ05hbWUgPSBzdGF0ZS5pbnB1dC5zbGljZShfcG9zaXRpb24sIHN0YXRlLnBvc2l0aW9uKTtcbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuZXhwZWN0ZWQgZW5kIG9mIHRoZSBzdHJlYW0gd2l0aGluIGEgdmVyYmF0aW0gdGFnJyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHdoaWxlIChjaCAhPT0gMCAmJiAhaXNfV1NfT1JfRU9MKGNoKSkge1xuXG4gICAgICBpZiAoY2ggPT09IDB4MjEvKiAhICovKSB7XG4gICAgICAgIGlmICghaXNOYW1lZCkge1xuICAgICAgICAgIHRhZ0hhbmRsZSA9IHN0YXRlLmlucHV0LnNsaWNlKF9wb3NpdGlvbiAtIDEsIHN0YXRlLnBvc2l0aW9uICsgMSk7XG5cbiAgICAgICAgICBpZiAoIVBBVFRFUk5fVEFHX0hBTkRMRS50ZXN0KHRhZ0hhbmRsZSkpIHtcbiAgICAgICAgICAgIHRocm93RXJyb3Ioc3RhdGUsICduYW1lZCB0YWcgaGFuZGxlIGNhbm5vdCBjb250YWluIHN1Y2ggY2hhcmFjdGVycycpO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlzTmFtZWQgPSB0cnVlO1xuICAgICAgICAgIF9wb3NpdGlvbiA9IHN0YXRlLnBvc2l0aW9uICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndGFnIHN1ZmZpeCBjYW5ub3QgY29udGFpbiBleGNsYW1hdGlvbiBtYXJrcycpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICB9XG5cbiAgICB0YWdOYW1lID0gc3RhdGUuaW5wdXQuc2xpY2UoX3Bvc2l0aW9uLCBzdGF0ZS5wb3NpdGlvbik7XG5cbiAgICBpZiAoUEFUVEVSTl9GTE9XX0lORElDQVRPUlMudGVzdCh0YWdOYW1lKSkge1xuICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3RhZyBzdWZmaXggY2Fubm90IGNvbnRhaW4gZmxvdyBpbmRpY2F0b3IgY2hhcmFjdGVycycpO1xuICAgIH1cbiAgfVxuXG4gIGlmICh0YWdOYW1lICYmICFQQVRURVJOX1RBR19VUkkudGVzdCh0YWdOYW1lKSkge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICd0YWcgbmFtZSBjYW5ub3QgY29udGFpbiBzdWNoIGNoYXJhY3RlcnM6ICcgKyB0YWdOYW1lKTtcbiAgfVxuXG4gIGlmIChpc1ZlcmJhdGltKSB7XG4gICAgc3RhdGUudGFnID0gdGFnTmFtZTtcblxuICB9IGVsc2UgaWYgKF9oYXNPd25Qcm9wZXJ0eS5jYWxsKHN0YXRlLnRhZ01hcCwgdGFnSGFuZGxlKSkge1xuICAgIHN0YXRlLnRhZyA9IHN0YXRlLnRhZ01hcFt0YWdIYW5kbGVdICsgdGFnTmFtZTtcblxuICB9IGVsc2UgaWYgKHRhZ0hhbmRsZSA9PT0gJyEnKSB7XG4gICAgc3RhdGUudGFnID0gJyEnICsgdGFnTmFtZTtcblxuICB9IGVsc2UgaWYgKHRhZ0hhbmRsZSA9PT0gJyEhJykge1xuICAgIHN0YXRlLnRhZyA9ICd0YWc6eWFtbC5vcmcsMjAwMjonICsgdGFnTmFtZTtcblxuICB9IGVsc2Uge1xuICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmRlY2xhcmVkIHRhZyBoYW5kbGUgXCInICsgdGFnSGFuZGxlICsgJ1wiJyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmVhZEFuY2hvclByb3BlcnR5KHN0YXRlKSB7XG4gIHZhciBfcG9zaXRpb24sXG4gICAgICBjaDtcblxuICBjaCA9IHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pO1xuXG4gIGlmIChjaCAhPT0gMHgyNi8qICYgKi8pIHJldHVybiBmYWxzZTtcblxuICBpZiAoc3RhdGUuYW5jaG9yICE9PSBudWxsKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2R1cGxpY2F0aW9uIG9mIGFuIGFuY2hvciBwcm9wZXJ0eScpO1xuICB9XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbjtcblxuICB3aGlsZSAoY2ggIT09IDAgJiYgIWlzX1dTX09SX0VPTChjaCkgJiYgIWlzX0ZMT1dfSU5ESUNBVE9SKGNoKSkge1xuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgfVxuXG4gIGlmIChzdGF0ZS5wb3NpdGlvbiA9PT0gX3Bvc2l0aW9uKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ25hbWUgb2YgYW4gYW5jaG9yIG5vZGUgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBjaGFyYWN0ZXInKTtcbiAgfVxuXG4gIHN0YXRlLmFuY2hvciA9IHN0YXRlLmlucHV0LnNsaWNlKF9wb3NpdGlvbiwgc3RhdGUucG9zaXRpb24pO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gcmVhZEFsaWFzKHN0YXRlKSB7XG4gIHZhciBfcG9zaXRpb24sIGFsaWFzLFxuICAgICAgY2g7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoY2ggIT09IDB4MkEvKiAqICovKSByZXR1cm4gZmFsc2U7XG5cbiAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbjtcblxuICB3aGlsZSAoY2ggIT09IDAgJiYgIWlzX1dTX09SX0VPTChjaCkgJiYgIWlzX0ZMT1dfSU5ESUNBVE9SKGNoKSkge1xuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgfVxuXG4gIGlmIChzdGF0ZS5wb3NpdGlvbiA9PT0gX3Bvc2l0aW9uKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ25hbWUgb2YgYW4gYWxpYXMgbm9kZSBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGNoYXJhY3RlcicpO1xuICB9XG5cbiAgYWxpYXMgPSBzdGF0ZS5pbnB1dC5zbGljZShfcG9zaXRpb24sIHN0YXRlLnBvc2l0aW9uKTtcblxuICBpZiAoIV9oYXNPd25Qcm9wZXJ0eS5jYWxsKHN0YXRlLmFuY2hvck1hcCwgYWxpYXMpKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuaWRlbnRpZmllZCBhbGlhcyBcIicgKyBhbGlhcyArICdcIicpO1xuICB9XG5cbiAgc3RhdGUucmVzdWx0ID0gc3RhdGUuYW5jaG9yTWFwW2FsaWFzXTtcbiAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuICByZXR1cm4gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gY29tcG9zZU5vZGUoc3RhdGUsIHBhcmVudEluZGVudCwgbm9kZUNvbnRleHQsIGFsbG93VG9TZWVrLCBhbGxvd0NvbXBhY3QpIHtcbiAgdmFyIGFsbG93QmxvY2tTdHlsZXMsXG4gICAgICBhbGxvd0Jsb2NrU2NhbGFycyxcbiAgICAgIGFsbG93QmxvY2tDb2xsZWN0aW9ucyxcbiAgICAgIGluZGVudFN0YXR1cyA9IDEsIC8vIDE6IHRoaXM+cGFyZW50LCAwOiB0aGlzPXBhcmVudCwgLTE6IHRoaXM8cGFyZW50XG4gICAgICBhdE5ld0xpbmUgID0gZmFsc2UsXG4gICAgICBoYXNDb250ZW50ID0gZmFsc2UsXG4gICAgICB0eXBlSW5kZXgsXG4gICAgICB0eXBlUXVhbnRpdHksXG4gICAgICB0eXBlLFxuICAgICAgZmxvd0luZGVudCxcbiAgICAgIGJsb2NrSW5kZW50O1xuXG4gIGlmIChzdGF0ZS5saXN0ZW5lciAhPT0gbnVsbCkge1xuICAgIHN0YXRlLmxpc3RlbmVyKCdvcGVuJywgc3RhdGUpO1xuICB9XG5cbiAgc3RhdGUudGFnICAgID0gbnVsbDtcbiAgc3RhdGUuYW5jaG9yID0gbnVsbDtcbiAgc3RhdGUua2luZCAgID0gbnVsbDtcbiAgc3RhdGUucmVzdWx0ID0gbnVsbDtcblxuICBhbGxvd0Jsb2NrU3R5bGVzID0gYWxsb3dCbG9ja1NjYWxhcnMgPSBhbGxvd0Jsb2NrQ29sbGVjdGlvbnMgPVxuICAgIENPTlRFWFRfQkxPQ0tfT1VUID09PSBub2RlQ29udGV4dCB8fFxuICAgIENPTlRFWFRfQkxPQ0tfSU4gID09PSBub2RlQ29udGV4dDtcblxuICBpZiAoYWxsb3dUb1NlZWspIHtcbiAgICBpZiAoc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpKSB7XG4gICAgICBhdE5ld0xpbmUgPSB0cnVlO1xuXG4gICAgICBpZiAoc3RhdGUubGluZUluZGVudCA+IHBhcmVudEluZGVudCkge1xuICAgICAgICBpbmRlbnRTdGF0dXMgPSAxO1xuICAgICAgfSBlbHNlIGlmIChzdGF0ZS5saW5lSW5kZW50ID09PSBwYXJlbnRJbmRlbnQpIHtcbiAgICAgICAgaW5kZW50U3RhdHVzID0gMDtcbiAgICAgIH0gZWxzZSBpZiAoc3RhdGUubGluZUluZGVudCA8IHBhcmVudEluZGVudCkge1xuICAgICAgICBpbmRlbnRTdGF0dXMgPSAtMTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoaW5kZW50U3RhdHVzID09PSAxKSB7XG4gICAgd2hpbGUgKHJlYWRUYWdQcm9wZXJ0eShzdGF0ZSkgfHwgcmVhZEFuY2hvclByb3BlcnR5KHN0YXRlKSkge1xuICAgICAgaWYgKHNraXBTZXBhcmF0aW9uU3BhY2Uoc3RhdGUsIHRydWUsIC0xKSkge1xuICAgICAgICBhdE5ld0xpbmUgPSB0cnVlO1xuICAgICAgICBhbGxvd0Jsb2NrQ29sbGVjdGlvbnMgPSBhbGxvd0Jsb2NrU3R5bGVzO1xuXG4gICAgICAgIGlmIChzdGF0ZS5saW5lSW5kZW50ID4gcGFyZW50SW5kZW50KSB7XG4gICAgICAgICAgaW5kZW50U3RhdHVzID0gMTtcbiAgICAgICAgfSBlbHNlIGlmIChzdGF0ZS5saW5lSW5kZW50ID09PSBwYXJlbnRJbmRlbnQpIHtcbiAgICAgICAgICBpbmRlbnRTdGF0dXMgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKHN0YXRlLmxpbmVJbmRlbnQgPCBwYXJlbnRJbmRlbnQpIHtcbiAgICAgICAgICBpbmRlbnRTdGF0dXMgPSAtMTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWxsb3dCbG9ja0NvbGxlY3Rpb25zID0gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgaWYgKGFsbG93QmxvY2tDb2xsZWN0aW9ucykge1xuICAgIGFsbG93QmxvY2tDb2xsZWN0aW9ucyA9IGF0TmV3TGluZSB8fCBhbGxvd0NvbXBhY3Q7XG4gIH1cblxuICBpZiAoaW5kZW50U3RhdHVzID09PSAxIHx8IENPTlRFWFRfQkxPQ0tfT1VUID09PSBub2RlQ29udGV4dCkge1xuICAgIGlmIChDT05URVhUX0ZMT1dfSU4gPT09IG5vZGVDb250ZXh0IHx8IENPTlRFWFRfRkxPV19PVVQgPT09IG5vZGVDb250ZXh0KSB7XG4gICAgICBmbG93SW5kZW50ID0gcGFyZW50SW5kZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBmbG93SW5kZW50ID0gcGFyZW50SW5kZW50ICsgMTtcbiAgICB9XG5cbiAgICBibG9ja0luZGVudCA9IHN0YXRlLnBvc2l0aW9uIC0gc3RhdGUubGluZVN0YXJ0O1xuXG4gICAgaWYgKGluZGVudFN0YXR1cyA9PT0gMSkge1xuICAgICAgaWYgKGFsbG93QmxvY2tDb2xsZWN0aW9ucyAmJlxuICAgICAgICAgIChyZWFkQmxvY2tTZXF1ZW5jZShzdGF0ZSwgYmxvY2tJbmRlbnQpIHx8XG4gICAgICAgICAgIHJlYWRCbG9ja01hcHBpbmcoc3RhdGUsIGJsb2NrSW5kZW50LCBmbG93SW5kZW50KSkgfHxcbiAgICAgICAgICByZWFkRmxvd0NvbGxlY3Rpb24oc3RhdGUsIGZsb3dJbmRlbnQpKSB7XG4gICAgICAgIGhhc0NvbnRlbnQgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKChhbGxvd0Jsb2NrU2NhbGFycyAmJiByZWFkQmxvY2tTY2FsYXIoc3RhdGUsIGZsb3dJbmRlbnQpKSB8fFxuICAgICAgICAgICAgcmVhZFNpbmdsZVF1b3RlZFNjYWxhcihzdGF0ZSwgZmxvd0luZGVudCkgfHxcbiAgICAgICAgICAgIHJlYWREb3VibGVRdW90ZWRTY2FsYXIoc3RhdGUsIGZsb3dJbmRlbnQpKSB7XG4gICAgICAgICAgaGFzQ29udGVudCA9IHRydWU7XG5cbiAgICAgICAgfSBlbHNlIGlmIChyZWFkQWxpYXMoc3RhdGUpKSB7XG4gICAgICAgICAgaGFzQ29udGVudCA9IHRydWU7XG5cbiAgICAgICAgICBpZiAoc3RhdGUudGFnICE9PSBudWxsIHx8IHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2FsaWFzIG5vZGUgc2hvdWxkIG5vdCBoYXZlIGFueSBwcm9wZXJ0aWVzJyk7XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0gZWxzZSBpZiAocmVhZFBsYWluU2NhbGFyKHN0YXRlLCBmbG93SW5kZW50LCBDT05URVhUX0ZMT1dfSU4gPT09IG5vZGVDb250ZXh0KSkge1xuICAgICAgICAgIGhhc0NvbnRlbnQgPSB0cnVlO1xuXG4gICAgICAgICAgaWYgKHN0YXRlLnRhZyA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhdGUudGFnID0gJz8nO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0ZS5hbmNob3IgIT09IG51bGwpIHtcbiAgICAgICAgICBzdGF0ZS5hbmNob3JNYXBbc3RhdGUuYW5jaG9yXSA9IHN0YXRlLnJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaW5kZW50U3RhdHVzID09PSAwKSB7XG4gICAgICAvLyBTcGVjaWFsIGNhc2U6IGJsb2NrIHNlcXVlbmNlcyBhcmUgYWxsb3dlZCB0byBoYXZlIHNhbWUgaW5kZW50YXRpb24gbGV2ZWwgYXMgdGhlIHBhcmVudC5cbiAgICAgIC8vIGh0dHA6Ly93d3cueWFtbC5vcmcvc3BlYy8xLjIvc3BlYy5odG1sI2lkMjc5OTc4NFxuICAgICAgaGFzQ29udGVudCA9IGFsbG93QmxvY2tDb2xsZWN0aW9ucyAmJiByZWFkQmxvY2tTZXF1ZW5jZShzdGF0ZSwgYmxvY2tJbmRlbnQpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzdGF0ZS50YWcgIT09IG51bGwgJiYgc3RhdGUudGFnICE9PSAnIScpIHtcbiAgICBpZiAoc3RhdGUudGFnID09PSAnPycpIHtcbiAgICAgIC8vIEltcGxpY2l0IHJlc29sdmluZyBpcyBub3QgYWxsb3dlZCBmb3Igbm9uLXNjYWxhciB0eXBlcywgYW5kICc/J1xuICAgICAgLy8gbm9uLXNwZWNpZmljIHRhZyBpcyBvbmx5IGF1dG9tYXRpY2FsbHkgYXNzaWduZWQgdG8gcGxhaW4gc2NhbGFycy5cbiAgICAgIC8vXG4gICAgICAvLyBXZSBvbmx5IG5lZWQgdG8gY2hlY2sga2luZCBjb25mb3JtaXR5IGluIGNhc2UgdXNlciBleHBsaWNpdGx5IGFzc2lnbnMgJz8nXG4gICAgICAvLyB0YWcsIGZvciBleGFtcGxlIGxpa2UgdGhpczogXCIhPD8+IFswXVwiXG4gICAgICAvL1xuICAgICAgaWYgKHN0YXRlLnJlc3VsdCAhPT0gbnVsbCAmJiBzdGF0ZS5raW5kICE9PSAnc2NhbGFyJykge1xuICAgICAgICB0aHJvd0Vycm9yKHN0YXRlLCAndW5hY2NlcHRhYmxlIG5vZGUga2luZCBmb3IgITw/PiB0YWc7IGl0IHNob3VsZCBiZSBcInNjYWxhclwiLCBub3QgXCInICsgc3RhdGUua2luZCArICdcIicpO1xuICAgICAgfVxuXG4gICAgICBmb3IgKHR5cGVJbmRleCA9IDAsIHR5cGVRdWFudGl0eSA9IHN0YXRlLmltcGxpY2l0VHlwZXMubGVuZ3RoOyB0eXBlSW5kZXggPCB0eXBlUXVhbnRpdHk7IHR5cGVJbmRleCArPSAxKSB7XG4gICAgICAgIHR5cGUgPSBzdGF0ZS5pbXBsaWNpdFR5cGVzW3R5cGVJbmRleF07XG5cbiAgICAgICAgaWYgKHR5cGUucmVzb2x2ZShzdGF0ZS5yZXN1bHQpKSB7IC8vIGBzdGF0ZS5yZXN1bHRgIHVwZGF0ZWQgaW4gcmVzb2x2ZXIgaWYgbWF0Y2hlZFxuICAgICAgICAgIHN0YXRlLnJlc3VsdCA9IHR5cGUuY29uc3RydWN0KHN0YXRlLnJlc3VsdCk7XG4gICAgICAgICAgc3RhdGUudGFnID0gdHlwZS50YWc7XG4gICAgICAgICAgaWYgKHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgc3RhdGUuYW5jaG9yTWFwW3N0YXRlLmFuY2hvcl0gPSBzdGF0ZS5yZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChfaGFzT3duUHJvcGVydHkuY2FsbChzdGF0ZS50eXBlTWFwW3N0YXRlLmtpbmQgfHwgJ2ZhbGxiYWNrJ10sIHN0YXRlLnRhZykpIHtcbiAgICAgIHR5cGUgPSBzdGF0ZS50eXBlTWFwW3N0YXRlLmtpbmQgfHwgJ2ZhbGxiYWNrJ11bc3RhdGUudGFnXTtcblxuICAgICAgaWYgKHN0YXRlLnJlc3VsdCAhPT0gbnVsbCAmJiB0eXBlLmtpbmQgIT09IHN0YXRlLmtpbmQpIHtcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ3VuYWNjZXB0YWJsZSBub2RlIGtpbmQgZm9yICE8JyArIHN0YXRlLnRhZyArICc+IHRhZzsgaXQgc2hvdWxkIGJlIFwiJyArIHR5cGUua2luZCArICdcIiwgbm90IFwiJyArIHN0YXRlLmtpbmQgKyAnXCInKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCF0eXBlLnJlc29sdmUoc3RhdGUucmVzdWx0KSkgeyAvLyBgc3RhdGUucmVzdWx0YCB1cGRhdGVkIGluIHJlc29sdmVyIGlmIG1hdGNoZWRcbiAgICAgICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2Nhbm5vdCByZXNvbHZlIGEgbm9kZSB3aXRoICE8JyArIHN0YXRlLnRhZyArICc+IGV4cGxpY2l0IHRhZycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc3RhdGUucmVzdWx0ID0gdHlwZS5jb25zdHJ1Y3Qoc3RhdGUucmVzdWx0KTtcbiAgICAgICAgaWYgKHN0YXRlLmFuY2hvciAhPT0gbnVsbCkge1xuICAgICAgICAgIHN0YXRlLmFuY2hvck1hcFtzdGF0ZS5hbmNob3JdID0gc3RhdGUucmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93RXJyb3Ioc3RhdGUsICd1bmtub3duIHRhZyAhPCcgKyBzdGF0ZS50YWcgKyAnPicpO1xuICAgIH1cbiAgfVxuXG4gIGlmIChzdGF0ZS5saXN0ZW5lciAhPT0gbnVsbCkge1xuICAgIHN0YXRlLmxpc3RlbmVyKCdjbG9zZScsIHN0YXRlKTtcbiAgfVxuICByZXR1cm4gc3RhdGUudGFnICE9PSBudWxsIHx8ICBzdGF0ZS5hbmNob3IgIT09IG51bGwgfHwgaGFzQ29udGVudDtcbn1cblxuZnVuY3Rpb24gcmVhZERvY3VtZW50KHN0YXRlKSB7XG4gIHZhciBkb2N1bWVudFN0YXJ0ID0gc3RhdGUucG9zaXRpb24sXG4gICAgICBfcG9zaXRpb24sXG4gICAgICBkaXJlY3RpdmVOYW1lLFxuICAgICAgZGlyZWN0aXZlQXJncyxcbiAgICAgIGhhc0RpcmVjdGl2ZXMgPSBmYWxzZSxcbiAgICAgIGNoO1xuXG4gIHN0YXRlLnZlcnNpb24gPSBudWxsO1xuICBzdGF0ZS5jaGVja0xpbmVCcmVha3MgPSBzdGF0ZS5sZWdhY3k7XG4gIHN0YXRlLnRhZ01hcCA9IHt9O1xuICBzdGF0ZS5hbmNob3JNYXAgPSB7fTtcblxuICB3aGlsZSAoKGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbikpICE9PSAwKSB7XG4gICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuXG4gICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKTtcblxuICAgIGlmIChzdGF0ZS5saW5lSW5kZW50ID4gMCB8fCBjaCAhPT0gMHgyNS8qICUgKi8pIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cblxuICAgIGhhc0RpcmVjdGl2ZXMgPSB0cnVlO1xuICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbjtcblxuICAgIHdoaWxlIChjaCAhPT0gMCAmJiAhaXNfV1NfT1JfRU9MKGNoKSkge1xuICAgICAgY2ggPSBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KCsrc3RhdGUucG9zaXRpb24pO1xuICAgIH1cblxuICAgIGRpcmVjdGl2ZU5hbWUgPSBzdGF0ZS5pbnB1dC5zbGljZShfcG9zaXRpb24sIHN0YXRlLnBvc2l0aW9uKTtcbiAgICBkaXJlY3RpdmVBcmdzID0gW107XG5cbiAgICBpZiAoZGlyZWN0aXZlTmFtZS5sZW5ndGggPCAxKSB7XG4gICAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZGlyZWN0aXZlIG5hbWUgbXVzdCBub3QgYmUgbGVzcyB0aGFuIG9uZSBjaGFyYWN0ZXIgaW4gbGVuZ3RoJyk7XG4gICAgfVxuXG4gICAgd2hpbGUgKGNoICE9PSAwKSB7XG4gICAgICB3aGlsZSAoaXNfV0hJVEVfU1BBQ0UoY2gpKSB7XG4gICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNoID09PSAweDIzLyogIyAqLykge1xuICAgICAgICBkbyB7IGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTsgfVxuICAgICAgICB3aGlsZSAoY2ggIT09IDAgJiYgIWlzX0VPTChjaCkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cblxuICAgICAgaWYgKGlzX0VPTChjaCkpIGJyZWFrO1xuXG4gICAgICBfcG9zaXRpb24gPSBzdGF0ZS5wb3NpdGlvbjtcblxuICAgICAgd2hpbGUgKGNoICE9PSAwICYmICFpc19XU19PUl9FT0woY2gpKSB7XG4gICAgICAgIGNoID0gc3RhdGUuaW5wdXQuY2hhckNvZGVBdCgrK3N0YXRlLnBvc2l0aW9uKTtcbiAgICAgIH1cblxuICAgICAgZGlyZWN0aXZlQXJncy5wdXNoKHN0YXRlLmlucHV0LnNsaWNlKF9wb3NpdGlvbiwgc3RhdGUucG9zaXRpb24pKTtcbiAgICB9XG5cbiAgICBpZiAoY2ggIT09IDApIHJlYWRMaW5lQnJlYWsoc3RhdGUpO1xuXG4gICAgaWYgKF9oYXNPd25Qcm9wZXJ0eS5jYWxsKGRpcmVjdGl2ZUhhbmRsZXJzLCBkaXJlY3RpdmVOYW1lKSkge1xuICAgICAgZGlyZWN0aXZlSGFuZGxlcnNbZGlyZWN0aXZlTmFtZV0oc3RhdGUsIGRpcmVjdGl2ZU5hbWUsIGRpcmVjdGl2ZUFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvd1dhcm5pbmcoc3RhdGUsICd1bmtub3duIGRvY3VtZW50IGRpcmVjdGl2ZSBcIicgKyBkaXJlY3RpdmVOYW1lICsgJ1wiJyk7XG4gICAgfVxuICB9XG5cbiAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuXG4gIGlmIChzdGF0ZS5saW5lSW5kZW50ID09PSAwICYmXG4gICAgICBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uKSAgICAgPT09IDB4MkQvKiAtICovICYmXG4gICAgICBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uICsgMSkgPT09IDB4MkQvKiAtICovICYmXG4gICAgICBzdGF0ZS5pbnB1dC5jaGFyQ29kZUF0KHN0YXRlLnBvc2l0aW9uICsgMikgPT09IDB4MkQvKiAtICovKSB7XG4gICAgc3RhdGUucG9zaXRpb24gKz0gMztcbiAgICBza2lwU2VwYXJhdGlvblNwYWNlKHN0YXRlLCB0cnVlLCAtMSk7XG5cbiAgfSBlbHNlIGlmIChoYXNEaXJlY3RpdmVzKSB7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ2RpcmVjdGl2ZXMgZW5kIG1hcmsgaXMgZXhwZWN0ZWQnKTtcbiAgfVxuXG4gIGNvbXBvc2VOb2RlKHN0YXRlLCBzdGF0ZS5saW5lSW5kZW50IC0gMSwgQ09OVEVYVF9CTE9DS19PVVQsIGZhbHNlLCB0cnVlKTtcbiAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuXG4gIGlmIChzdGF0ZS5jaGVja0xpbmVCcmVha3MgJiZcbiAgICAgIFBBVFRFUk5fTk9OX0FTQ0lJX0xJTkVfQlJFQUtTLnRlc3Qoc3RhdGUuaW5wdXQuc2xpY2UoZG9jdW1lbnRTdGFydCwgc3RhdGUucG9zaXRpb24pKSkge1xuICAgIHRocm93V2FybmluZyhzdGF0ZSwgJ25vbi1BU0NJSSBsaW5lIGJyZWFrcyBhcmUgaW50ZXJwcmV0ZWQgYXMgY29udGVudCcpO1xuICB9XG5cbiAgc3RhdGUuZG9jdW1lbnRzLnB1c2goc3RhdGUucmVzdWx0KTtcblxuICBpZiAoc3RhdGUucG9zaXRpb24gPT09IHN0YXRlLmxpbmVTdGFydCAmJiB0ZXN0RG9jdW1lbnRTZXBhcmF0b3Ioc3RhdGUpKSB7XG5cbiAgICBpZiAoc3RhdGUuaW5wdXQuY2hhckNvZGVBdChzdGF0ZS5wb3NpdGlvbikgPT09IDB4MkUvKiAuICovKSB7XG4gICAgICBzdGF0ZS5wb3NpdGlvbiArPSAzO1xuICAgICAgc2tpcFNlcGFyYXRpb25TcGFjZShzdGF0ZSwgdHJ1ZSwgLTEpO1xuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoc3RhdGUucG9zaXRpb24gPCAoc3RhdGUubGVuZ3RoIC0gMSkpIHtcbiAgICB0aHJvd0Vycm9yKHN0YXRlLCAnZW5kIG9mIHRoZSBzdHJlYW0gb3IgYSBkb2N1bWVudCBzZXBhcmF0b3IgaXMgZXhwZWN0ZWQnKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm47XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBsb2FkRG9jdW1lbnRzKGlucHV0LCBvcHRpb25zKSB7XG4gIGlucHV0ID0gU3RyaW5nKGlucHV0KTtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgaWYgKGlucHV0Lmxlbmd0aCAhPT0gMCkge1xuXG4gICAgLy8gQWRkIHRhaWxpbmcgYFxcbmAgaWYgbm90IGV4aXN0c1xuICAgIGlmIChpbnB1dC5jaGFyQ29kZUF0KGlucHV0Lmxlbmd0aCAtIDEpICE9PSAweDBBLyogTEYgKi8gJiZcbiAgICAgICAgaW5wdXQuY2hhckNvZGVBdChpbnB1dC5sZW5ndGggLSAxKSAhPT0gMHgwRC8qIENSICovKSB7XG4gICAgICBpbnB1dCArPSAnXFxuJztcbiAgICB9XG5cbiAgICAvLyBTdHJpcCBCT01cbiAgICBpZiAoaW5wdXQuY2hhckNvZGVBdCgwKSA9PT0gMHhGRUZGKSB7XG4gICAgICBpbnB1dCA9IGlucHV0LnNsaWNlKDEpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzdGF0ZSA9IG5ldyBTdGF0ZShpbnB1dCwgb3B0aW9ucyk7XG5cbiAgdmFyIG51bGxwb3MgPSBpbnB1dC5pbmRleE9mKCdcXDAnKTtcblxuICBpZiAobnVsbHBvcyAhPT0gLTEpIHtcbiAgICBzdGF0ZS5wb3NpdGlvbiA9IG51bGxwb3M7XG4gICAgdGhyb3dFcnJvcihzdGF0ZSwgJ251bGwgYnl0ZSBpcyBub3QgYWxsb3dlZCBpbiBpbnB1dCcpO1xuICB9XG5cbiAgLy8gVXNlIDAgYXMgc3RyaW5nIHRlcm1pbmF0b3IuIFRoYXQgc2lnbmlmaWNhbnRseSBzaW1wbGlmaWVzIGJvdW5kcyBjaGVjay5cbiAgc3RhdGUuaW5wdXQgKz0gJ1xcMCc7XG5cbiAgd2hpbGUgKHN0YXRlLmlucHV0LmNoYXJDb2RlQXQoc3RhdGUucG9zaXRpb24pID09PSAweDIwLyogU3BhY2UgKi8pIHtcbiAgICBzdGF0ZS5saW5lSW5kZW50ICs9IDE7XG4gICAgc3RhdGUucG9zaXRpb24gKz0gMTtcbiAgfVxuXG4gIHdoaWxlIChzdGF0ZS5wb3NpdGlvbiA8IChzdGF0ZS5sZW5ndGggLSAxKSkge1xuICAgIHJlYWREb2N1bWVudChzdGF0ZSk7XG4gIH1cblxuICByZXR1cm4gc3RhdGUuZG9jdW1lbnRzO1xufVxuXG5cbmZ1bmN0aW9uIGxvYWRBbGwoaW5wdXQsIGl0ZXJhdG9yLCBvcHRpb25zKSB7XG4gIGlmIChpdGVyYXRvciAhPT0gbnVsbCAmJiB0eXBlb2YgaXRlcmF0b3IgPT09ICdvYmplY3QnICYmIHR5cGVvZiBvcHRpb25zID09PSAndW5kZWZpbmVkJykge1xuICAgIG9wdGlvbnMgPSBpdGVyYXRvcjtcbiAgICBpdGVyYXRvciA9IG51bGw7XG4gIH1cblxuICB2YXIgZG9jdW1lbnRzID0gbG9hZERvY3VtZW50cyhpbnB1dCwgb3B0aW9ucyk7XG5cbiAgaWYgKHR5cGVvZiBpdGVyYXRvciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBkb2N1bWVudHM7XG4gIH1cblxuICBmb3IgKHZhciBpbmRleCA9IDAsIGxlbmd0aCA9IGRvY3VtZW50cy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgaXRlcmF0b3IoZG9jdW1lbnRzW2luZGV4XSk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBsb2FkKGlucHV0LCBvcHRpb25zKSB7XG4gIHZhciBkb2N1bWVudHMgPSBsb2FkRG9jdW1lbnRzKGlucHV0LCBvcHRpb25zKTtcblxuICBpZiAoZG9jdW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIC8qZXNsaW50LWRpc2FibGUgbm8tdW5kZWZpbmVkKi9cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xuICB9IGVsc2UgaWYgKGRvY3VtZW50cy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gZG9jdW1lbnRzWzBdO1xuICB9XG4gIHRocm93IG5ldyBZQU1MRXhjZXB0aW9uKCdleHBlY3RlZCBhIHNpbmdsZSBkb2N1bWVudCBpbiB0aGUgc3RyZWFtLCBidXQgZm91bmQgbW9yZScpO1xufVxuXG5cbmZ1bmN0aW9uIHNhZmVMb2FkQWxsKGlucHV0LCBpdGVyYXRvciwgb3B0aW9ucykge1xuICBpZiAodHlwZW9mIGl0ZXJhdG9yID09PSAnb2JqZWN0JyAmJiBpdGVyYXRvciAhPT0gbnVsbCAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRpb25zID0gaXRlcmF0b3I7XG4gICAgaXRlcmF0b3IgPSBudWxsO1xuICB9XG5cbiAgcmV0dXJuIGxvYWRBbGwoaW5wdXQsIGl0ZXJhdG9yLCBjb21tb24uZXh0ZW5kKHsgc2NoZW1hOiBERUZBVUxUX1NBRkVfU0NIRU1BIH0sIG9wdGlvbnMpKTtcbn1cblxuXG5mdW5jdGlvbiBzYWZlTG9hZChpbnB1dCwgb3B0aW9ucykge1xuICByZXR1cm4gbG9hZChpbnB1dCwgY29tbW9uLmV4dGVuZCh7IHNjaGVtYTogREVGQVVMVF9TQUZFX1NDSEVNQSB9LCBvcHRpb25zKSk7XG59XG5cblxubW9kdWxlLmV4cG9ydHMubG9hZEFsbCAgICAgPSBsb2FkQWxsO1xubW9kdWxlLmV4cG9ydHMubG9hZCAgICAgICAgPSBsb2FkO1xubW9kdWxlLmV4cG9ydHMuc2FmZUxvYWRBbGwgPSBzYWZlTG9hZEFsbDtcbm1vZHVsZS5leHBvcnRzLnNhZmVMb2FkICAgID0gc2FmZUxvYWQ7XG4iLCIndXNlIHN0cmljdCc7XG5cbi8qZXNsaW50LWRpc2FibGUgbm8tdXNlLWJlZm9yZS1kZWZpbmUqL1xuXG52YXIgY29tbW9uICAgICAgICAgICAgICA9IHJlcXVpcmUoJy4vY29tbW9uJyk7XG52YXIgWUFNTEV4Y2VwdGlvbiAgICAgICA9IHJlcXVpcmUoJy4vZXhjZXB0aW9uJyk7XG52YXIgREVGQVVMVF9GVUxMX1NDSEVNQSA9IHJlcXVpcmUoJy4vc2NoZW1hL2RlZmF1bHRfZnVsbCcpO1xudmFyIERFRkFVTFRfU0FGRV9TQ0hFTUEgPSByZXF1aXJlKCcuL3NjaGVtYS9kZWZhdWx0X3NhZmUnKTtcblxudmFyIF90b1N0cmluZyAgICAgICA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgX2hhc093blByb3BlcnR5ID0gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eTtcblxudmFyIENIQVJfVEFCICAgICAgICAgICAgICAgICAgPSAweDA5OyAvKiBUYWIgKi9cbnZhciBDSEFSX0xJTkVfRkVFRCAgICAgICAgICAgID0gMHgwQTsgLyogTEYgKi9cbnZhciBDSEFSX0NBUlJJQUdFX1JFVFVSTiAgICAgID0gMHgwRDsgLyogQ1IgKi9cbnZhciBDSEFSX1NQQUNFICAgICAgICAgICAgICAgID0gMHgyMDsgLyogU3BhY2UgKi9cbnZhciBDSEFSX0VYQ0xBTUFUSU9OICAgICAgICAgID0gMHgyMTsgLyogISAqL1xudmFyIENIQVJfRE9VQkxFX1FVT1RFICAgICAgICAgPSAweDIyOyAvKiBcIiAqL1xudmFyIENIQVJfU0hBUlAgICAgICAgICAgICAgICAgPSAweDIzOyAvKiAjICovXG52YXIgQ0hBUl9QRVJDRU5UICAgICAgICAgICAgICA9IDB4MjU7IC8qICUgKi9cbnZhciBDSEFSX0FNUEVSU0FORCAgICAgICAgICAgID0gMHgyNjsgLyogJiAqL1xudmFyIENIQVJfU0lOR0xFX1FVT1RFICAgICAgICAgPSAweDI3OyAvKiAnICovXG52YXIgQ0hBUl9BU1RFUklTSyAgICAgICAgICAgICA9IDB4MkE7IC8qICogKi9cbnZhciBDSEFSX0NPTU1BICAgICAgICAgICAgICAgID0gMHgyQzsgLyogLCAqL1xudmFyIENIQVJfTUlOVVMgICAgICAgICAgICAgICAgPSAweDJEOyAvKiAtICovXG52YXIgQ0hBUl9DT0xPTiAgICAgICAgICAgICAgICA9IDB4M0E7IC8qIDogKi9cbnZhciBDSEFSX0VRVUFMUyAgICAgICAgICAgICAgID0gMHgzRDsgLyogPSAqL1xudmFyIENIQVJfR1JFQVRFUl9USEFOICAgICAgICAgPSAweDNFOyAvKiA+ICovXG52YXIgQ0hBUl9RVUVTVElPTiAgICAgICAgICAgICA9IDB4M0Y7IC8qID8gKi9cbnZhciBDSEFSX0NPTU1FUkNJQUxfQVQgICAgICAgID0gMHg0MDsgLyogQCAqL1xudmFyIENIQVJfTEVGVF9TUVVBUkVfQlJBQ0tFVCAgPSAweDVCOyAvKiBbICovXG52YXIgQ0hBUl9SSUdIVF9TUVVBUkVfQlJBQ0tFVCA9IDB4NUQ7IC8qIF0gKi9cbnZhciBDSEFSX0dSQVZFX0FDQ0VOVCAgICAgICAgID0gMHg2MDsgLyogYCAqL1xudmFyIENIQVJfTEVGVF9DVVJMWV9CUkFDS0VUICAgPSAweDdCOyAvKiB7ICovXG52YXIgQ0hBUl9WRVJUSUNBTF9MSU5FICAgICAgICA9IDB4N0M7IC8qIHwgKi9cbnZhciBDSEFSX1JJR0hUX0NVUkxZX0JSQUNLRVQgID0gMHg3RDsgLyogfSAqL1xuXG52YXIgRVNDQVBFX1NFUVVFTkNFUyA9IHt9O1xuXG5FU0NBUEVfU0VRVUVOQ0VTWzB4MDBdICAgPSAnXFxcXDAnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDA3XSAgID0gJ1xcXFxhJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgwOF0gICA9ICdcXFxcYic7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MDldICAgPSAnXFxcXHQnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDBBXSAgID0gJ1xcXFxuJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgwQl0gICA9ICdcXFxcdic7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MENdICAgPSAnXFxcXGYnO1xuRVNDQVBFX1NFUVVFTkNFU1sweDBEXSAgID0gJ1xcXFxyJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgxQl0gICA9ICdcXFxcZSc7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MjJdICAgPSAnXFxcXFwiJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHg1Q10gICA9ICdcXFxcXFxcXCc7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4ODVdICAgPSAnXFxcXE4nO1xuRVNDQVBFX1NFUVVFTkNFU1sweEEwXSAgID0gJ1xcXFxfJztcbkVTQ0FQRV9TRVFVRU5DRVNbMHgyMDI4XSA9ICdcXFxcTCc7XG5FU0NBUEVfU0VRVUVOQ0VTWzB4MjAyOV0gPSAnXFxcXFAnO1xuXG52YXIgREVQUkVDQVRFRF9CT09MRUFOU19TWU5UQVggPSBbXG4gICd5JywgJ1knLCAneWVzJywgJ1llcycsICdZRVMnLCAnb24nLCAnT24nLCAnT04nLFxuICAnbicsICdOJywgJ25vJywgJ05vJywgJ05PJywgJ29mZicsICdPZmYnLCAnT0ZGJ1xuXTtcblxuZnVuY3Rpb24gY29tcGlsZVN0eWxlTWFwKHNjaGVtYSwgbWFwKSB7XG4gIHZhciByZXN1bHQsIGtleXMsIGluZGV4LCBsZW5ndGgsIHRhZywgc3R5bGUsIHR5cGU7XG5cbiAgaWYgKG1hcCA9PT0gbnVsbCkgcmV0dXJuIHt9O1xuXG4gIHJlc3VsdCA9IHt9O1xuICBrZXlzID0gT2JqZWN0LmtleXMobWFwKTtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgdGFnID0ga2V5c1tpbmRleF07XG4gICAgc3R5bGUgPSBTdHJpbmcobWFwW3RhZ10pO1xuXG4gICAgaWYgKHRhZy5zbGljZSgwLCAyKSA9PT0gJyEhJykge1xuICAgICAgdGFnID0gJ3RhZzp5YW1sLm9yZywyMDAyOicgKyB0YWcuc2xpY2UoMik7XG4gICAgfVxuICAgIHR5cGUgPSBzY2hlbWEuY29tcGlsZWRUeXBlTWFwWydmYWxsYmFjayddW3RhZ107XG5cbiAgICBpZiAodHlwZSAmJiBfaGFzT3duUHJvcGVydHkuY2FsbCh0eXBlLnN0eWxlQWxpYXNlcywgc3R5bGUpKSB7XG4gICAgICBzdHlsZSA9IHR5cGUuc3R5bGVBbGlhc2VzW3N0eWxlXTtcbiAgICB9XG5cbiAgICByZXN1bHRbdGFnXSA9IHN0eWxlO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gZW5jb2RlSGV4KGNoYXJhY3Rlcikge1xuICB2YXIgc3RyaW5nLCBoYW5kbGUsIGxlbmd0aDtcblxuICBzdHJpbmcgPSBjaGFyYWN0ZXIudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7XG5cbiAgaWYgKGNoYXJhY3RlciA8PSAweEZGKSB7XG4gICAgaGFuZGxlID0gJ3gnO1xuICAgIGxlbmd0aCA9IDI7XG4gIH0gZWxzZSBpZiAoY2hhcmFjdGVyIDw9IDB4RkZGRikge1xuICAgIGhhbmRsZSA9ICd1JztcbiAgICBsZW5ndGggPSA0O1xuICB9IGVsc2UgaWYgKGNoYXJhY3RlciA8PSAweEZGRkZGRkZGKSB7XG4gICAgaGFuZGxlID0gJ1UnO1xuICAgIGxlbmd0aCA9IDg7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFlBTUxFeGNlcHRpb24oJ2NvZGUgcG9pbnQgd2l0aGluIGEgc3RyaW5nIG1heSBub3QgYmUgZ3JlYXRlciB0aGFuIDB4RkZGRkZGRkYnKTtcbiAgfVxuXG4gIHJldHVybiAnXFxcXCcgKyBoYW5kbGUgKyBjb21tb24ucmVwZWF0KCcwJywgbGVuZ3RoIC0gc3RyaW5nLmxlbmd0aCkgKyBzdHJpbmc7XG59XG5cbmZ1bmN0aW9uIFN0YXRlKG9wdGlvbnMpIHtcbiAgdGhpcy5zY2hlbWEgICAgICAgID0gb3B0aW9uc1snc2NoZW1hJ10gfHwgREVGQVVMVF9GVUxMX1NDSEVNQTtcbiAgdGhpcy5pbmRlbnQgICAgICAgID0gTWF0aC5tYXgoMSwgKG9wdGlvbnNbJ2luZGVudCddIHx8IDIpKTtcbiAgdGhpcy5ub0FycmF5SW5kZW50ID0gb3B0aW9uc1snbm9BcnJheUluZGVudCddIHx8IGZhbHNlO1xuICB0aGlzLnNraXBJbnZhbGlkICAgPSBvcHRpb25zWydza2lwSW52YWxpZCddIHx8IGZhbHNlO1xuICB0aGlzLmZsb3dMZXZlbCAgICAgPSAoY29tbW9uLmlzTm90aGluZyhvcHRpb25zWydmbG93TGV2ZWwnXSkgPyAtMSA6IG9wdGlvbnNbJ2Zsb3dMZXZlbCddKTtcbiAgdGhpcy5zdHlsZU1hcCAgICAgID0gY29tcGlsZVN0eWxlTWFwKHRoaXMuc2NoZW1hLCBvcHRpb25zWydzdHlsZXMnXSB8fCBudWxsKTtcbiAgdGhpcy5zb3J0S2V5cyAgICAgID0gb3B0aW9uc1snc29ydEtleXMnXSB8fCBmYWxzZTtcbiAgdGhpcy5saW5lV2lkdGggICAgID0gb3B0aW9uc1snbGluZVdpZHRoJ10gfHwgODA7XG4gIHRoaXMubm9SZWZzICAgICAgICA9IG9wdGlvbnNbJ25vUmVmcyddIHx8IGZhbHNlO1xuICB0aGlzLm5vQ29tcGF0TW9kZSAgPSBvcHRpb25zWydub0NvbXBhdE1vZGUnXSB8fCBmYWxzZTtcbiAgdGhpcy5jb25kZW5zZUZsb3cgID0gb3B0aW9uc1snY29uZGVuc2VGbG93J10gfHwgZmFsc2U7XG5cbiAgdGhpcy5pbXBsaWNpdFR5cGVzID0gdGhpcy5zY2hlbWEuY29tcGlsZWRJbXBsaWNpdDtcbiAgdGhpcy5leHBsaWNpdFR5cGVzID0gdGhpcy5zY2hlbWEuY29tcGlsZWRFeHBsaWNpdDtcblxuICB0aGlzLnRhZyA9IG51bGw7XG4gIHRoaXMucmVzdWx0ID0gJyc7XG5cbiAgdGhpcy5kdXBsaWNhdGVzID0gW107XG4gIHRoaXMudXNlZER1cGxpY2F0ZXMgPSBudWxsO1xufVxuXG4vLyBJbmRlbnRzIGV2ZXJ5IGxpbmUgaW4gYSBzdHJpbmcuIEVtcHR5IGxpbmVzIChcXG4gb25seSkgYXJlIG5vdCBpbmRlbnRlZC5cbmZ1bmN0aW9uIGluZGVudFN0cmluZyhzdHJpbmcsIHNwYWNlcykge1xuICB2YXIgaW5kID0gY29tbW9uLnJlcGVhdCgnICcsIHNwYWNlcyksXG4gICAgICBwb3NpdGlvbiA9IDAsXG4gICAgICBuZXh0ID0gLTEsXG4gICAgICByZXN1bHQgPSAnJyxcbiAgICAgIGxpbmUsXG4gICAgICBsZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuXG4gIHdoaWxlIChwb3NpdGlvbiA8IGxlbmd0aCkge1xuICAgIG5leHQgPSBzdHJpbmcuaW5kZXhPZignXFxuJywgcG9zaXRpb24pO1xuICAgIGlmIChuZXh0ID09PSAtMSkge1xuICAgICAgbGluZSA9IHN0cmluZy5zbGljZShwb3NpdGlvbik7XG4gICAgICBwb3NpdGlvbiA9IGxlbmd0aDtcbiAgICB9IGVsc2Uge1xuICAgICAgbGluZSA9IHN0cmluZy5zbGljZShwb3NpdGlvbiwgbmV4dCArIDEpO1xuICAgICAgcG9zaXRpb24gPSBuZXh0ICsgMTtcbiAgICB9XG5cbiAgICBpZiAobGluZS5sZW5ndGggJiYgbGluZSAhPT0gJ1xcbicpIHJlc3VsdCArPSBpbmQ7XG5cbiAgICByZXN1bHQgKz0gbGluZTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTmV4dExpbmUoc3RhdGUsIGxldmVsKSB7XG4gIHJldHVybiAnXFxuJyArIGNvbW1vbi5yZXBlYXQoJyAnLCBzdGF0ZS5pbmRlbnQgKiBsZXZlbCk7XG59XG5cbmZ1bmN0aW9uIHRlc3RJbXBsaWNpdFJlc29sdmluZyhzdGF0ZSwgc3RyKSB7XG4gIHZhciBpbmRleCwgbGVuZ3RoLCB0eXBlO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBzdGF0ZS5pbXBsaWNpdFR5cGVzLmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICB0eXBlID0gc3RhdGUuaW1wbGljaXRUeXBlc1tpbmRleF07XG5cbiAgICBpZiAodHlwZS5yZXNvbHZlKHN0cikpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuLy8gWzMzXSBzLXdoaXRlIDo6PSBzLXNwYWNlIHwgcy10YWJcbmZ1bmN0aW9uIGlzV2hpdGVzcGFjZShjKSB7XG4gIHJldHVybiBjID09PSBDSEFSX1NQQUNFIHx8IGMgPT09IENIQVJfVEFCO1xufVxuXG4vLyBSZXR1cm5zIHRydWUgaWYgdGhlIGNoYXJhY3RlciBjYW4gYmUgcHJpbnRlZCB3aXRob3V0IGVzY2FwaW5nLlxuLy8gRnJvbSBZQU1MIDEuMjogXCJhbnkgYWxsb3dlZCBjaGFyYWN0ZXJzIGtub3duIHRvIGJlIG5vbi1wcmludGFibGVcbi8vIHNob3VsZCBhbHNvIGJlIGVzY2FwZWQuIFtIb3dldmVyLF0gVGhpcyBpc27igJl0IG1hbmRhdG9yeVwiXG4vLyBEZXJpdmVkIGZyb20gbmItY2hhciAtIFxcdCAtICN4ODUgLSAjeEEwIC0gI3gyMDI4IC0gI3gyMDI5LlxuZnVuY3Rpb24gaXNQcmludGFibGUoYykge1xuICByZXR1cm4gICgweDAwMDIwIDw9IGMgJiYgYyA8PSAweDAwMDA3RSlcbiAgICAgIHx8ICgoMHgwMDBBMSA8PSBjICYmIGMgPD0gMHgwMEQ3RkYpICYmIGMgIT09IDB4MjAyOCAmJiBjICE9PSAweDIwMjkpXG4gICAgICB8fCAoKDB4MEUwMDAgPD0gYyAmJiBjIDw9IDB4MDBGRkZEKSAmJiBjICE9PSAweEZFRkYgLyogQk9NICovKVxuICAgICAgfHwgICgweDEwMDAwIDw9IGMgJiYgYyA8PSAweDEwRkZGRik7XG59XG5cbi8vIFszNF0gbnMtY2hhciA6Oj0gbmItY2hhciAtIHMtd2hpdGVcbi8vIFsyN10gbmItY2hhciA6Oj0gYy1wcmludGFibGUgLSBiLWNoYXIgLSBjLWJ5dGUtb3JkZXItbWFya1xuLy8gWzI2XSBiLWNoYXIgIDo6PSBiLWxpbmUtZmVlZCB8IGItY2FycmlhZ2UtcmV0dXJuXG4vLyBbMjRdIGItbGluZS1mZWVkICAgICAgIDo6PSAgICAgI3hBICAgIC8qIExGICovXG4vLyBbMjVdIGItY2FycmlhZ2UtcmV0dXJuIDo6PSAgICAgI3hEICAgIC8qIENSICovXG4vLyBbM10gIGMtYnl0ZS1vcmRlci1tYXJrIDo6PSAgICAgI3hGRUZGXG5mdW5jdGlvbiBpc05zQ2hhcihjKSB7XG4gIHJldHVybiBpc1ByaW50YWJsZShjKSAmJiAhaXNXaGl0ZXNwYWNlKGMpXG4gICAgLy8gYnl0ZS1vcmRlci1tYXJrXG4gICAgJiYgYyAhPT0gMHhGRUZGXG4gICAgLy8gYi1jaGFyXG4gICAgJiYgYyAhPT0gQ0hBUl9DQVJSSUFHRV9SRVRVUk5cbiAgICAmJiBjICE9PSBDSEFSX0xJTkVfRkVFRDtcbn1cblxuLy8gU2ltcGxpZmllZCB0ZXN0IGZvciB2YWx1ZXMgYWxsb3dlZCBhZnRlciB0aGUgZmlyc3QgY2hhcmFjdGVyIGluIHBsYWluIHN0eWxlLlxuZnVuY3Rpb24gaXNQbGFpblNhZmUoYywgcHJldikge1xuICAvLyBVc2VzIGEgc3Vic2V0IG9mIG5iLWNoYXIgLSBjLWZsb3ctaW5kaWNhdG9yIC0gXCI6XCIgLSBcIiNcIlxuICAvLyB3aGVyZSBuYi1jaGFyIDo6PSBjLXByaW50YWJsZSAtIGItY2hhciAtIGMtYnl0ZS1vcmRlci1tYXJrLlxuICByZXR1cm4gaXNQcmludGFibGUoYykgJiYgYyAhPT0gMHhGRUZGXG4gICAgLy8gLSBjLWZsb3ctaW5kaWNhdG9yXG4gICAgJiYgYyAhPT0gQ0hBUl9DT01NQVxuICAgICYmIGMgIT09IENIQVJfTEVGVF9TUVVBUkVfQlJBQ0tFVFxuICAgICYmIGMgIT09IENIQVJfUklHSFRfU1FVQVJFX0JSQUNLRVRcbiAgICAmJiBjICE9PSBDSEFSX0xFRlRfQ1VSTFlfQlJBQ0tFVFxuICAgICYmIGMgIT09IENIQVJfUklHSFRfQ1VSTFlfQlJBQ0tFVFxuICAgIC8vIC0gXCI6XCIgLSBcIiNcIlxuICAgIC8vIC8qIEFuIG5zLWNoYXIgcHJlY2VkaW5nICovIFwiI1wiXG4gICAgJiYgYyAhPT0gQ0hBUl9DT0xPTlxuICAgICYmICgoYyAhPT0gQ0hBUl9TSEFSUCkgfHwgKHByZXYgJiYgaXNOc0NoYXIocHJldikpKTtcbn1cblxuLy8gU2ltcGxpZmllZCB0ZXN0IGZvciB2YWx1ZXMgYWxsb3dlZCBhcyB0aGUgZmlyc3QgY2hhcmFjdGVyIGluIHBsYWluIHN0eWxlLlxuZnVuY3Rpb24gaXNQbGFpblNhZmVGaXJzdChjKSB7XG4gIC8vIFVzZXMgYSBzdWJzZXQgb2YgbnMtY2hhciAtIGMtaW5kaWNhdG9yXG4gIC8vIHdoZXJlIG5zLWNoYXIgPSBuYi1jaGFyIC0gcy13aGl0ZS5cbiAgcmV0dXJuIGlzUHJpbnRhYmxlKGMpICYmIGMgIT09IDB4RkVGRlxuICAgICYmICFpc1doaXRlc3BhY2UoYykgLy8gLSBzLXdoaXRlXG4gICAgLy8gLSAoYy1pbmRpY2F0b3IgOjo9XG4gICAgLy8g4oCcLeKAnSB8IOKAnD/igJ0gfCDigJw64oCdIHwg4oCcLOKAnSB8IOKAnFvigJ0gfCDigJxd4oCdIHwg4oCce+KAnSB8IOKAnH3igJ1cbiAgICAmJiBjICE9PSBDSEFSX01JTlVTXG4gICAgJiYgYyAhPT0gQ0hBUl9RVUVTVElPTlxuICAgICYmIGMgIT09IENIQVJfQ09MT05cbiAgICAmJiBjICE9PSBDSEFSX0NPTU1BXG4gICAgJiYgYyAhPT0gQ0hBUl9MRUZUX1NRVUFSRV9CUkFDS0VUXG4gICAgJiYgYyAhPT0gQ0hBUl9SSUdIVF9TUVVBUkVfQlJBQ0tFVFxuICAgICYmIGMgIT09IENIQVJfTEVGVF9DVVJMWV9CUkFDS0VUXG4gICAgJiYgYyAhPT0gQ0hBUl9SSUdIVF9DVVJMWV9CUkFDS0VUXG4gICAgLy8gfCDigJwj4oCdIHwg4oCcJuKAnSB8IOKAnCrigJ0gfCDigJwh4oCdIHwg4oCcfOKAnSB8IOKAnD3igJ0gfCDigJw+4oCdIHwg4oCcJ+KAnSB8IOKAnFwi4oCdXG4gICAgJiYgYyAhPT0gQ0hBUl9TSEFSUFxuICAgICYmIGMgIT09IENIQVJfQU1QRVJTQU5EXG4gICAgJiYgYyAhPT0gQ0hBUl9BU1RFUklTS1xuICAgICYmIGMgIT09IENIQVJfRVhDTEFNQVRJT05cbiAgICAmJiBjICE9PSBDSEFSX1ZFUlRJQ0FMX0xJTkVcbiAgICAmJiBjICE9PSBDSEFSX0VRVUFMU1xuICAgICYmIGMgIT09IENIQVJfR1JFQVRFUl9USEFOXG4gICAgJiYgYyAhPT0gQ0hBUl9TSU5HTEVfUVVPVEVcbiAgICAmJiBjICE9PSBDSEFSX0RPVUJMRV9RVU9URVxuICAgIC8vIHwg4oCcJeKAnSB8IOKAnEDigJ0gfCDigJxg4oCdKVxuICAgICYmIGMgIT09IENIQVJfUEVSQ0VOVFxuICAgICYmIGMgIT09IENIQVJfQ09NTUVSQ0lBTF9BVFxuICAgICYmIGMgIT09IENIQVJfR1JBVkVfQUNDRU5UO1xufVxuXG4vLyBEZXRlcm1pbmVzIHdoZXRoZXIgYmxvY2sgaW5kZW50YXRpb24gaW5kaWNhdG9yIGlzIHJlcXVpcmVkLlxuZnVuY3Rpb24gbmVlZEluZGVudEluZGljYXRvcihzdHJpbmcpIHtcbiAgdmFyIGxlYWRpbmdTcGFjZVJlID0gL15cXG4qIC87XG4gIHJldHVybiBsZWFkaW5nU3BhY2VSZS50ZXN0KHN0cmluZyk7XG59XG5cbnZhciBTVFlMRV9QTEFJTiAgID0gMSxcbiAgICBTVFlMRV9TSU5HTEUgID0gMixcbiAgICBTVFlMRV9MSVRFUkFMID0gMyxcbiAgICBTVFlMRV9GT0xERUQgID0gNCxcbiAgICBTVFlMRV9ET1VCTEUgID0gNTtcblxuLy8gRGV0ZXJtaW5lcyB3aGljaCBzY2FsYXIgc3R5bGVzIGFyZSBwb3NzaWJsZSBhbmQgcmV0dXJucyB0aGUgcHJlZmVycmVkIHN0eWxlLlxuLy8gbGluZVdpZHRoID0gLTEgPT4gbm8gbGltaXQuXG4vLyBQcmUtY29uZGl0aW9uczogc3RyLmxlbmd0aCA+IDAuXG4vLyBQb3N0LWNvbmRpdGlvbnM6XG4vLyAgICBTVFlMRV9QTEFJTiBvciBTVFlMRV9TSU5HTEUgPT4gbm8gXFxuIGFyZSBpbiB0aGUgc3RyaW5nLlxuLy8gICAgU1RZTEVfTElURVJBTCA9PiBubyBsaW5lcyBhcmUgc3VpdGFibGUgZm9yIGZvbGRpbmcgKG9yIGxpbmVXaWR0aCBpcyAtMSkuXG4vLyAgICBTVFlMRV9GT0xERUQgPT4gYSBsaW5lID4gbGluZVdpZHRoIGFuZCBjYW4gYmUgZm9sZGVkIChhbmQgbGluZVdpZHRoICE9IC0xKS5cbmZ1bmN0aW9uIGNob29zZVNjYWxhclN0eWxlKHN0cmluZywgc2luZ2xlTGluZU9ubHksIGluZGVudFBlckxldmVsLCBsaW5lV2lkdGgsIHRlc3RBbWJpZ3VvdXNUeXBlKSB7XG4gIHZhciBpO1xuICB2YXIgY2hhciwgcHJldl9jaGFyO1xuICB2YXIgaGFzTGluZUJyZWFrID0gZmFsc2U7XG4gIHZhciBoYXNGb2xkYWJsZUxpbmUgPSBmYWxzZTsgLy8gb25seSBjaGVja2VkIGlmIHNob3VsZFRyYWNrV2lkdGhcbiAgdmFyIHNob3VsZFRyYWNrV2lkdGggPSBsaW5lV2lkdGggIT09IC0xO1xuICB2YXIgcHJldmlvdXNMaW5lQnJlYWsgPSAtMTsgLy8gY291bnQgdGhlIGZpcnN0IGxpbmUgY29ycmVjdGx5XG4gIHZhciBwbGFpbiA9IGlzUGxhaW5TYWZlRmlyc3Qoc3RyaW5nLmNoYXJDb2RlQXQoMCkpXG4gICAgICAgICAgJiYgIWlzV2hpdGVzcGFjZShzdHJpbmcuY2hhckNvZGVBdChzdHJpbmcubGVuZ3RoIC0gMSkpO1xuXG4gIGlmIChzaW5nbGVMaW5lT25seSkge1xuICAgIC8vIENhc2U6IG5vIGJsb2NrIHN0eWxlcy5cbiAgICAvLyBDaGVjayBmb3IgZGlzYWxsb3dlZCBjaGFyYWN0ZXJzIHRvIHJ1bGUgb3V0IHBsYWluIGFuZCBzaW5nbGUuXG4gICAgZm9yIChpID0gMDsgaSA8IHN0cmluZy5sZW5ndGg7IGkrKykge1xuICAgICAgY2hhciA9IHN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgICAgaWYgKCFpc1ByaW50YWJsZShjaGFyKSkge1xuICAgICAgICByZXR1cm4gU1RZTEVfRE9VQkxFO1xuICAgICAgfVxuICAgICAgcHJldl9jaGFyID0gaSA+IDAgPyBzdHJpbmcuY2hhckNvZGVBdChpIC0gMSkgOiBudWxsO1xuICAgICAgcGxhaW4gPSBwbGFpbiAmJiBpc1BsYWluU2FmZShjaGFyLCBwcmV2X2NoYXIpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBDYXNlOiBibG9jayBzdHlsZXMgcGVybWl0dGVkLlxuICAgIGZvciAoaSA9IDA7IGkgPCBzdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgIGNoYXIgPSBzdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgICAgIGlmIChjaGFyID09PSBDSEFSX0xJTkVfRkVFRCkge1xuICAgICAgICBoYXNMaW5lQnJlYWsgPSB0cnVlO1xuICAgICAgICAvLyBDaGVjayBpZiBhbnkgbGluZSBjYW4gYmUgZm9sZGVkLlxuICAgICAgICBpZiAoc2hvdWxkVHJhY2tXaWR0aCkge1xuICAgICAgICAgIGhhc0ZvbGRhYmxlTGluZSA9IGhhc0ZvbGRhYmxlTGluZSB8fFxuICAgICAgICAgICAgLy8gRm9sZGFibGUgbGluZSA9IHRvbyBsb25nLCBhbmQgbm90IG1vcmUtaW5kZW50ZWQuXG4gICAgICAgICAgICAoaSAtIHByZXZpb3VzTGluZUJyZWFrIC0gMSA+IGxpbmVXaWR0aCAmJlxuICAgICAgICAgICAgIHN0cmluZ1twcmV2aW91c0xpbmVCcmVhayArIDFdICE9PSAnICcpO1xuICAgICAgICAgIHByZXZpb3VzTGluZUJyZWFrID0gaTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICghaXNQcmludGFibGUoY2hhcikpIHtcbiAgICAgICAgcmV0dXJuIFNUWUxFX0RPVUJMRTtcbiAgICAgIH1cbiAgICAgIHByZXZfY2hhciA9IGkgPiAwID8gc3RyaW5nLmNoYXJDb2RlQXQoaSAtIDEpIDogbnVsbDtcbiAgICAgIHBsYWluID0gcGxhaW4gJiYgaXNQbGFpblNhZmUoY2hhciwgcHJldl9jaGFyKTtcbiAgICB9XG4gICAgLy8gaW4gY2FzZSB0aGUgZW5kIGlzIG1pc3NpbmcgYSBcXG5cbiAgICBoYXNGb2xkYWJsZUxpbmUgPSBoYXNGb2xkYWJsZUxpbmUgfHwgKHNob3VsZFRyYWNrV2lkdGggJiZcbiAgICAgIChpIC0gcHJldmlvdXNMaW5lQnJlYWsgLSAxID4gbGluZVdpZHRoICYmXG4gICAgICAgc3RyaW5nW3ByZXZpb3VzTGluZUJyZWFrICsgMV0gIT09ICcgJykpO1xuICB9XG4gIC8vIEFsdGhvdWdoIGV2ZXJ5IHN0eWxlIGNhbiByZXByZXNlbnQgXFxuIHdpdGhvdXQgZXNjYXBpbmcsIHByZWZlciBibG9jayBzdHlsZXNcbiAgLy8gZm9yIG11bHRpbGluZSwgc2luY2UgdGhleSdyZSBtb3JlIHJlYWRhYmxlIGFuZCB0aGV5IGRvbid0IGFkZCBlbXB0eSBsaW5lcy5cbiAgLy8gQWxzbyBwcmVmZXIgZm9sZGluZyBhIHN1cGVyLWxvbmcgbGluZS5cbiAgaWYgKCFoYXNMaW5lQnJlYWsgJiYgIWhhc0ZvbGRhYmxlTGluZSkge1xuICAgIC8vIFN0cmluZ3MgaW50ZXJwcmV0YWJsZSBhcyBhbm90aGVyIHR5cGUgaGF2ZSB0byBiZSBxdW90ZWQ7XG4gICAgLy8gZS5nLiB0aGUgc3RyaW5nICd0cnVlJyB2cy4gdGhlIGJvb2xlYW4gdHJ1ZS5cbiAgICByZXR1cm4gcGxhaW4gJiYgIXRlc3RBbWJpZ3VvdXNUeXBlKHN0cmluZylcbiAgICAgID8gU1RZTEVfUExBSU4gOiBTVFlMRV9TSU5HTEU7XG4gIH1cbiAgLy8gRWRnZSBjYXNlOiBibG9jayBpbmRlbnRhdGlvbiBpbmRpY2F0b3IgY2FuIG9ubHkgaGF2ZSBvbmUgZGlnaXQuXG4gIGlmIChpbmRlbnRQZXJMZXZlbCA+IDkgJiYgbmVlZEluZGVudEluZGljYXRvcihzdHJpbmcpKSB7XG4gICAgcmV0dXJuIFNUWUxFX0RPVUJMRTtcbiAgfVxuICAvLyBBdCB0aGlzIHBvaW50IHdlIGtub3cgYmxvY2sgc3R5bGVzIGFyZSB2YWxpZC5cbiAgLy8gUHJlZmVyIGxpdGVyYWwgc3R5bGUgdW5sZXNzIHdlIHdhbnQgdG8gZm9sZC5cbiAgcmV0dXJuIGhhc0ZvbGRhYmxlTGluZSA/IFNUWUxFX0ZPTERFRCA6IFNUWUxFX0xJVEVSQUw7XG59XG5cbi8vIE5vdGU6IGxpbmUgYnJlYWtpbmcvZm9sZGluZyBpcyBpbXBsZW1lbnRlZCBmb3Igb25seSB0aGUgZm9sZGVkIHN0eWxlLlxuLy8gTkIuIFdlIGRyb3AgdGhlIGxhc3QgdHJhaWxpbmcgbmV3bGluZSAoaWYgYW55KSBvZiBhIHJldHVybmVkIGJsb2NrIHNjYWxhclxuLy8gIHNpbmNlIHRoZSBkdW1wZXIgYWRkcyBpdHMgb3duIG5ld2xpbmUuIFRoaXMgYWx3YXlzIHdvcmtzOlxuLy8gICAg4oCiIE5vIGVuZGluZyBuZXdsaW5lID0+IHVuYWZmZWN0ZWQ7IGFscmVhZHkgdXNpbmcgc3RyaXAgXCItXCIgY2hvbXBpbmcuXG4vLyAgICDigKIgRW5kaW5nIG5ld2xpbmUgICAgPT4gcmVtb3ZlZCB0aGVuIHJlc3RvcmVkLlxuLy8gIEltcG9ydGFudGx5LCB0aGlzIGtlZXBzIHRoZSBcIitcIiBjaG9tcCBpbmRpY2F0b3IgZnJvbSBnYWluaW5nIGFuIGV4dHJhIGxpbmUuXG5mdW5jdGlvbiB3cml0ZVNjYWxhcihzdGF0ZSwgc3RyaW5nLCBsZXZlbCwgaXNrZXkpIHtcbiAgc3RhdGUuZHVtcCA9IChmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHN0cmluZy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBcIicnXCI7XG4gICAgfVxuICAgIGlmICghc3RhdGUubm9Db21wYXRNb2RlICYmXG4gICAgICAgIERFUFJFQ0FURURfQk9PTEVBTlNfU1lOVEFYLmluZGV4T2Yoc3RyaW5nKSAhPT0gLTEpIHtcbiAgICAgIHJldHVybiBcIidcIiArIHN0cmluZyArIFwiJ1wiO1xuICAgIH1cblxuICAgIHZhciBpbmRlbnQgPSBzdGF0ZS5pbmRlbnQgKiBNYXRoLm1heCgxLCBsZXZlbCk7IC8vIG5vIDAtaW5kZW50IHNjYWxhcnNcbiAgICAvLyBBcyBpbmRlbnRhdGlvbiBnZXRzIGRlZXBlciwgbGV0IHRoZSB3aWR0aCBkZWNyZWFzZSBtb25vdG9uaWNhbGx5XG4gICAgLy8gdG8gdGhlIGxvd2VyIGJvdW5kIG1pbihzdGF0ZS5saW5lV2lkdGgsIDQwKS5cbiAgICAvLyBOb3RlIHRoYXQgdGhpcyBpbXBsaWVzXG4gICAgLy8gIHN0YXRlLmxpbmVXaWR0aCDiiaQgNDAgKyBzdGF0ZS5pbmRlbnQ6IHdpZHRoIGlzIGZpeGVkIGF0IHRoZSBsb3dlciBib3VuZC5cbiAgICAvLyAgc3RhdGUubGluZVdpZHRoID4gNDAgKyBzdGF0ZS5pbmRlbnQ6IHdpZHRoIGRlY3JlYXNlcyB1bnRpbCB0aGUgbG93ZXIgYm91bmQuXG4gICAgLy8gVGhpcyBiZWhhdmVzIGJldHRlciB0aGFuIGEgY29uc3RhbnQgbWluaW11bSB3aWR0aCB3aGljaCBkaXNhbGxvd3MgbmFycm93ZXIgb3B0aW9ucyxcbiAgICAvLyBvciBhbiBpbmRlbnQgdGhyZXNob2xkIHdoaWNoIGNhdXNlcyB0aGUgd2lkdGggdG8gc3VkZGVubHkgaW5jcmVhc2UuXG4gICAgdmFyIGxpbmVXaWR0aCA9IHN0YXRlLmxpbmVXaWR0aCA9PT0gLTFcbiAgICAgID8gLTEgOiBNYXRoLm1heChNYXRoLm1pbihzdGF0ZS5saW5lV2lkdGgsIDQwKSwgc3RhdGUubGluZVdpZHRoIC0gaW5kZW50KTtcblxuICAgIC8vIFdpdGhvdXQga25vd2luZyBpZiBrZXlzIGFyZSBpbXBsaWNpdC9leHBsaWNpdCwgYXNzdW1lIGltcGxpY2l0IGZvciBzYWZldHkuXG4gICAgdmFyIHNpbmdsZUxpbmVPbmx5ID0gaXNrZXlcbiAgICAgIC8vIE5vIGJsb2NrIHN0eWxlcyBpbiBmbG93IG1vZGUuXG4gICAgICB8fCAoc3RhdGUuZmxvd0xldmVsID4gLTEgJiYgbGV2ZWwgPj0gc3RhdGUuZmxvd0xldmVsKTtcbiAgICBmdW5jdGlvbiB0ZXN0QW1iaWd1aXR5KHN0cmluZykge1xuICAgICAgcmV0dXJuIHRlc3RJbXBsaWNpdFJlc29sdmluZyhzdGF0ZSwgc3RyaW5nKTtcbiAgICB9XG5cbiAgICBzd2l0Y2ggKGNob29zZVNjYWxhclN0eWxlKHN0cmluZywgc2luZ2xlTGluZU9ubHksIHN0YXRlLmluZGVudCwgbGluZVdpZHRoLCB0ZXN0QW1iaWd1aXR5KSkge1xuICAgICAgY2FzZSBTVFlMRV9QTEFJTjpcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIGNhc2UgU1RZTEVfU0lOR0xFOlxuICAgICAgICByZXR1cm4gXCInXCIgKyBzdHJpbmcucmVwbGFjZSgvJy9nLCBcIicnXCIpICsgXCInXCI7XG4gICAgICBjYXNlIFNUWUxFX0xJVEVSQUw6XG4gICAgICAgIHJldHVybiAnfCcgKyBibG9ja0hlYWRlcihzdHJpbmcsIHN0YXRlLmluZGVudClcbiAgICAgICAgICArIGRyb3BFbmRpbmdOZXdsaW5lKGluZGVudFN0cmluZyhzdHJpbmcsIGluZGVudCkpO1xuICAgICAgY2FzZSBTVFlMRV9GT0xERUQ6XG4gICAgICAgIHJldHVybiAnPicgKyBibG9ja0hlYWRlcihzdHJpbmcsIHN0YXRlLmluZGVudClcbiAgICAgICAgICArIGRyb3BFbmRpbmdOZXdsaW5lKGluZGVudFN0cmluZyhmb2xkU3RyaW5nKHN0cmluZywgbGluZVdpZHRoKSwgaW5kZW50KSk7XG4gICAgICBjYXNlIFNUWUxFX0RPVUJMRTpcbiAgICAgICAgcmV0dXJuICdcIicgKyBlc2NhcGVTdHJpbmcoc3RyaW5nLCBsaW5lV2lkdGgpICsgJ1wiJztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBZQU1MRXhjZXB0aW9uKCdpbXBvc3NpYmxlIGVycm9yOiBpbnZhbGlkIHNjYWxhciBzdHlsZScpO1xuICAgIH1cbiAgfSgpKTtcbn1cblxuLy8gUHJlLWNvbmRpdGlvbnM6IHN0cmluZyBpcyB2YWxpZCBmb3IgYSBibG9jayBzY2FsYXIsIDEgPD0gaW5kZW50UGVyTGV2ZWwgPD0gOS5cbmZ1bmN0aW9uIGJsb2NrSGVhZGVyKHN0cmluZywgaW5kZW50UGVyTGV2ZWwpIHtcbiAgdmFyIGluZGVudEluZGljYXRvciA9IG5lZWRJbmRlbnRJbmRpY2F0b3Ioc3RyaW5nKSA/IFN0cmluZyhpbmRlbnRQZXJMZXZlbCkgOiAnJztcblxuICAvLyBub3RlIHRoZSBzcGVjaWFsIGNhc2U6IHRoZSBzdHJpbmcgJ1xcbicgY291bnRzIGFzIGEgXCJ0cmFpbGluZ1wiIGVtcHR5IGxpbmUuXG4gIHZhciBjbGlwID0gICAgICAgICAgc3RyaW5nW3N0cmluZy5sZW5ndGggLSAxXSA9PT0gJ1xcbic7XG4gIHZhciBrZWVwID0gY2xpcCAmJiAoc3RyaW5nW3N0cmluZy5sZW5ndGggLSAyXSA9PT0gJ1xcbicgfHwgc3RyaW5nID09PSAnXFxuJyk7XG4gIHZhciBjaG9tcCA9IGtlZXAgPyAnKycgOiAoY2xpcCA/ICcnIDogJy0nKTtcblxuICByZXR1cm4gaW5kZW50SW5kaWNhdG9yICsgY2hvbXAgKyAnXFxuJztcbn1cblxuLy8gKFNlZSB0aGUgbm90ZSBmb3Igd3JpdGVTY2FsYXIuKVxuZnVuY3Rpb24gZHJvcEVuZGluZ05ld2xpbmUoc3RyaW5nKSB7XG4gIHJldHVybiBzdHJpbmdbc3RyaW5nLmxlbmd0aCAtIDFdID09PSAnXFxuJyA/IHN0cmluZy5zbGljZSgwLCAtMSkgOiBzdHJpbmc7XG59XG5cbi8vIE5vdGU6IGEgbG9uZyBsaW5lIHdpdGhvdXQgYSBzdWl0YWJsZSBicmVhayBwb2ludCB3aWxsIGV4Y2VlZCB0aGUgd2lkdGggbGltaXQuXG4vLyBQcmUtY29uZGl0aW9uczogZXZlcnkgY2hhciBpbiBzdHIgaXNQcmludGFibGUsIHN0ci5sZW5ndGggPiAwLCB3aWR0aCA+IDAuXG5mdW5jdGlvbiBmb2xkU3RyaW5nKHN0cmluZywgd2lkdGgpIHtcbiAgLy8gSW4gZm9sZGVkIHN0eWxlLCAkayQgY29uc2VjdXRpdmUgbmV3bGluZXMgb3V0cHV0IGFzICRrKzEkIG5ld2xpbmVz4oCUXG4gIC8vIHVubGVzcyB0aGV5J3JlIGJlZm9yZSBvciBhZnRlciBhIG1vcmUtaW5kZW50ZWQgbGluZSwgb3IgYXQgdGhlIHZlcnlcbiAgLy8gYmVnaW5uaW5nIG9yIGVuZCwgaW4gd2hpY2ggY2FzZSAkayQgbWFwcyB0byAkayQuXG4gIC8vIFRoZXJlZm9yZSwgcGFyc2UgZWFjaCBjaHVuayBhcyBuZXdsaW5lKHMpIGZvbGxvd2VkIGJ5IGEgY29udGVudCBsaW5lLlxuICB2YXIgbGluZVJlID0gLyhcXG4rKShbXlxcbl0qKS9nO1xuXG4gIC8vIGZpcnN0IGxpbmUgKHBvc3NpYmx5IGFuIGVtcHR5IGxpbmUpXG4gIHZhciByZXN1bHQgPSAoZnVuY3Rpb24gKCkge1xuICAgIHZhciBuZXh0TEYgPSBzdHJpbmcuaW5kZXhPZignXFxuJyk7XG4gICAgbmV4dExGID0gbmV4dExGICE9PSAtMSA/IG5leHRMRiA6IHN0cmluZy5sZW5ndGg7XG4gICAgbGluZVJlLmxhc3RJbmRleCA9IG5leHRMRjtcbiAgICByZXR1cm4gZm9sZExpbmUoc3RyaW5nLnNsaWNlKDAsIG5leHRMRiksIHdpZHRoKTtcbiAgfSgpKTtcbiAgLy8gSWYgd2UgaGF2ZW4ndCByZWFjaGVkIHRoZSBmaXJzdCBjb250ZW50IGxpbmUgeWV0LCBkb24ndCBhZGQgYW4gZXh0cmEgXFxuLlxuICB2YXIgcHJldk1vcmVJbmRlbnRlZCA9IHN0cmluZ1swXSA9PT0gJ1xcbicgfHwgc3RyaW5nWzBdID09PSAnICc7XG4gIHZhciBtb3JlSW5kZW50ZWQ7XG5cbiAgLy8gcmVzdCBvZiB0aGUgbGluZXNcbiAgdmFyIG1hdGNoO1xuICB3aGlsZSAoKG1hdGNoID0gbGluZVJlLmV4ZWMoc3RyaW5nKSkpIHtcbiAgICB2YXIgcHJlZml4ID0gbWF0Y2hbMV0sIGxpbmUgPSBtYXRjaFsyXTtcbiAgICBtb3JlSW5kZW50ZWQgPSAobGluZVswXSA9PT0gJyAnKTtcbiAgICByZXN1bHQgKz0gcHJlZml4XG4gICAgICArICghcHJldk1vcmVJbmRlbnRlZCAmJiAhbW9yZUluZGVudGVkICYmIGxpbmUgIT09ICcnXG4gICAgICAgID8gJ1xcbicgOiAnJylcbiAgICAgICsgZm9sZExpbmUobGluZSwgd2lkdGgpO1xuICAgIHByZXZNb3JlSW5kZW50ZWQgPSBtb3JlSW5kZW50ZWQ7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBHcmVlZHkgbGluZSBicmVha2luZy5cbi8vIFBpY2tzIHRoZSBsb25nZXN0IGxpbmUgdW5kZXIgdGhlIGxpbWl0IGVhY2ggdGltZSxcbi8vIG90aGVyd2lzZSBzZXR0bGVzIGZvciB0aGUgc2hvcnRlc3QgbGluZSBvdmVyIHRoZSBsaW1pdC5cbi8vIE5CLiBNb3JlLWluZGVudGVkIGxpbmVzICpjYW5ub3QqIGJlIGZvbGRlZCwgYXMgdGhhdCB3b3VsZCBhZGQgYW4gZXh0cmEgXFxuLlxuZnVuY3Rpb24gZm9sZExpbmUobGluZSwgd2lkdGgpIHtcbiAgaWYgKGxpbmUgPT09ICcnIHx8IGxpbmVbMF0gPT09ICcgJykgcmV0dXJuIGxpbmU7XG5cbiAgLy8gU2luY2UgYSBtb3JlLWluZGVudGVkIGxpbmUgYWRkcyBhIFxcbiwgYnJlYWtzIGNhbid0IGJlIGZvbGxvd2VkIGJ5IGEgc3BhY2UuXG4gIHZhciBicmVha1JlID0gLyBbXiBdL2c7IC8vIG5vdGU6IHRoZSBtYXRjaCBpbmRleCB3aWxsIGFsd2F5cyBiZSA8PSBsZW5ndGgtMi5cbiAgdmFyIG1hdGNoO1xuICAvLyBzdGFydCBpcyBhbiBpbmNsdXNpdmUgaW5kZXguIGVuZCwgY3VyciwgYW5kIG5leHQgYXJlIGV4Y2x1c2l2ZS5cbiAgdmFyIHN0YXJ0ID0gMCwgZW5kLCBjdXJyID0gMCwgbmV4dCA9IDA7XG4gIHZhciByZXN1bHQgPSAnJztcblxuICAvLyBJbnZhcmlhbnRzOiAwIDw9IHN0YXJ0IDw9IGxlbmd0aC0xLlxuICAvLyAgIDAgPD0gY3VyciA8PSBuZXh0IDw9IG1heCgwLCBsZW5ndGgtMikuIGN1cnIgLSBzdGFydCA8PSB3aWR0aC5cbiAgLy8gSW5zaWRlIHRoZSBsb29wOlxuICAvLyAgIEEgbWF0Y2ggaW1wbGllcyBsZW5ndGggPj0gMiwgc28gY3VyciBhbmQgbmV4dCBhcmUgPD0gbGVuZ3RoLTIuXG4gIHdoaWxlICgobWF0Y2ggPSBicmVha1JlLmV4ZWMobGluZSkpKSB7XG4gICAgbmV4dCA9IG1hdGNoLmluZGV4O1xuICAgIC8vIG1haW50YWluIGludmFyaWFudDogY3VyciAtIHN0YXJ0IDw9IHdpZHRoXG4gICAgaWYgKG5leHQgLSBzdGFydCA+IHdpZHRoKSB7XG4gICAgICBlbmQgPSAoY3VyciA+IHN0YXJ0KSA/IGN1cnIgOiBuZXh0OyAvLyBkZXJpdmUgZW5kIDw9IGxlbmd0aC0yXG4gICAgICByZXN1bHQgKz0gJ1xcbicgKyBsaW5lLnNsaWNlKHN0YXJ0LCBlbmQpO1xuICAgICAgLy8gc2tpcCB0aGUgc3BhY2UgdGhhdCB3YXMgb3V0cHV0IGFzIFxcblxuICAgICAgc3RhcnQgPSBlbmQgKyAxOyAgICAgICAgICAgICAgICAgICAgLy8gZGVyaXZlIHN0YXJ0IDw9IGxlbmd0aC0xXG4gICAgfVxuICAgIGN1cnIgPSBuZXh0O1xuICB9XG5cbiAgLy8gQnkgdGhlIGludmFyaWFudHMsIHN0YXJ0IDw9IGxlbmd0aC0xLCBzbyB0aGVyZSBpcyBzb21ldGhpbmcgbGVmdCBvdmVyLlxuICAvLyBJdCBpcyBlaXRoZXIgdGhlIHdob2xlIHN0cmluZyBvciBhIHBhcnQgc3RhcnRpbmcgZnJvbSBub24td2hpdGVzcGFjZS5cbiAgcmVzdWx0ICs9ICdcXG4nO1xuICAvLyBJbnNlcnQgYSBicmVhayBpZiB0aGUgcmVtYWluZGVyIGlzIHRvbyBsb25nIGFuZCB0aGVyZSBpcyBhIGJyZWFrIGF2YWlsYWJsZS5cbiAgaWYgKGxpbmUubGVuZ3RoIC0gc3RhcnQgPiB3aWR0aCAmJiBjdXJyID4gc3RhcnQpIHtcbiAgICByZXN1bHQgKz0gbGluZS5zbGljZShzdGFydCwgY3VycikgKyAnXFxuJyArIGxpbmUuc2xpY2UoY3VyciArIDEpO1xuICB9IGVsc2Uge1xuICAgIHJlc3VsdCArPSBsaW5lLnNsaWNlKHN0YXJ0KTtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQuc2xpY2UoMSk7IC8vIGRyb3AgZXh0cmEgXFxuIGpvaW5lclxufVxuXG4vLyBFc2NhcGVzIGEgZG91YmxlLXF1b3RlZCBzdHJpbmcuXG5mdW5jdGlvbiBlc2NhcGVTdHJpbmcoc3RyaW5nKSB7XG4gIHZhciByZXN1bHQgPSAnJztcbiAgdmFyIGNoYXIsIG5leHRDaGFyO1xuICB2YXIgZXNjYXBlU2VxO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyaW5nLmxlbmd0aDsgaSsrKSB7XG4gICAgY2hhciA9IHN0cmluZy5jaGFyQ29kZUF0KGkpO1xuICAgIC8vIENoZWNrIGZvciBzdXJyb2dhdGUgcGFpcnMgKHJlZmVyZW5jZSBVbmljb2RlIDMuMCBzZWN0aW9uIFwiMy43IFN1cnJvZ2F0ZXNcIikuXG4gICAgaWYgKGNoYXIgPj0gMHhEODAwICYmIGNoYXIgPD0gMHhEQkZGLyogaGlnaCBzdXJyb2dhdGUgKi8pIHtcbiAgICAgIG5leHRDaGFyID0gc3RyaW5nLmNoYXJDb2RlQXQoaSArIDEpO1xuICAgICAgaWYgKG5leHRDaGFyID49IDB4REMwMCAmJiBuZXh0Q2hhciA8PSAweERGRkYvKiBsb3cgc3Vycm9nYXRlICovKSB7XG4gICAgICAgIC8vIENvbWJpbmUgdGhlIHN1cnJvZ2F0ZSBwYWlyIGFuZCBzdG9yZSBpdCBlc2NhcGVkLlxuICAgICAgICByZXN1bHQgKz0gZW5jb2RlSGV4KChjaGFyIC0gMHhEODAwKSAqIDB4NDAwICsgbmV4dENoYXIgLSAweERDMDAgKyAweDEwMDAwKTtcbiAgICAgICAgLy8gQWR2YW5jZSBpbmRleCBvbmUgZXh0cmEgc2luY2Ugd2UgYWxyZWFkeSB1c2VkIHRoYXQgY2hhciBoZXJlLlxuICAgICAgICBpKys7IGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBlc2NhcGVTZXEgPSBFU0NBUEVfU0VRVUVOQ0VTW2NoYXJdO1xuICAgIHJlc3VsdCArPSAhZXNjYXBlU2VxICYmIGlzUHJpbnRhYmxlKGNoYXIpXG4gICAgICA/IHN0cmluZ1tpXVxuICAgICAgOiBlc2NhcGVTZXEgfHwgZW5jb2RlSGV4KGNoYXIpO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gd3JpdGVGbG93U2VxdWVuY2Uoc3RhdGUsIGxldmVsLCBvYmplY3QpIHtcbiAgdmFyIF9yZXN1bHQgPSAnJyxcbiAgICAgIF90YWcgICAgPSBzdGF0ZS50YWcsXG4gICAgICBpbmRleCxcbiAgICAgIGxlbmd0aDtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0Lmxlbmd0aDsgaW5kZXggPCBsZW5ndGg7IGluZGV4ICs9IDEpIHtcbiAgICAvLyBXcml0ZSBvbmx5IHZhbGlkIGVsZW1lbnRzLlxuICAgIGlmICh3cml0ZU5vZGUoc3RhdGUsIGxldmVsLCBvYmplY3RbaW5kZXhdLCBmYWxzZSwgZmFsc2UpKSB7XG4gICAgICBpZiAoaW5kZXggIT09IDApIF9yZXN1bHQgKz0gJywnICsgKCFzdGF0ZS5jb25kZW5zZUZsb3cgPyAnICcgOiAnJyk7XG4gICAgICBfcmVzdWx0ICs9IHN0YXRlLmR1bXA7XG4gICAgfVxuICB9XG5cbiAgc3RhdGUudGFnID0gX3RhZztcbiAgc3RhdGUuZHVtcCA9ICdbJyArIF9yZXN1bHQgKyAnXSc7XG59XG5cbmZ1bmN0aW9uIHdyaXRlQmxvY2tTZXF1ZW5jZShzdGF0ZSwgbGV2ZWwsIG9iamVjdCwgY29tcGFjdCkge1xuICB2YXIgX3Jlc3VsdCA9ICcnLFxuICAgICAgX3RhZyAgICA9IHN0YXRlLnRhZyxcbiAgICAgIGluZGV4LFxuICAgICAgbGVuZ3RoO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBvYmplY3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIC8vIFdyaXRlIG9ubHkgdmFsaWQgZWxlbWVudHMuXG4gICAgaWYgKHdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwgKyAxLCBvYmplY3RbaW5kZXhdLCB0cnVlLCB0cnVlKSkge1xuICAgICAgaWYgKCFjb21wYWN0IHx8IGluZGV4ICE9PSAwKSB7XG4gICAgICAgIF9yZXN1bHQgKz0gZ2VuZXJhdGVOZXh0TGluZShzdGF0ZSwgbGV2ZWwpO1xuICAgICAgfVxuXG4gICAgICBpZiAoc3RhdGUuZHVtcCAmJiBDSEFSX0xJTkVfRkVFRCA9PT0gc3RhdGUuZHVtcC5jaGFyQ29kZUF0KDApKSB7XG4gICAgICAgIF9yZXN1bHQgKz0gJy0nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3Jlc3VsdCArPSAnLSAnO1xuICAgICAgfVxuXG4gICAgICBfcmVzdWx0ICs9IHN0YXRlLmR1bXA7XG4gICAgfVxuICB9XG5cbiAgc3RhdGUudGFnID0gX3RhZztcbiAgc3RhdGUuZHVtcCA9IF9yZXN1bHQgfHwgJ1tdJzsgLy8gRW1wdHkgc2VxdWVuY2UgaWYgbm8gdmFsaWQgdmFsdWVzLlxufVxuXG5mdW5jdGlvbiB3cml0ZUZsb3dNYXBwaW5nKHN0YXRlLCBsZXZlbCwgb2JqZWN0KSB7XG4gIHZhciBfcmVzdWx0ICAgICAgID0gJycsXG4gICAgICBfdGFnICAgICAgICAgID0gc3RhdGUudGFnLFxuICAgICAgb2JqZWN0S2V5TGlzdCA9IE9iamVjdC5rZXlzKG9iamVjdCksXG4gICAgICBpbmRleCxcbiAgICAgIGxlbmd0aCxcbiAgICAgIG9iamVjdEtleSxcbiAgICAgIG9iamVjdFZhbHVlLFxuICAgICAgcGFpckJ1ZmZlcjtcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0S2V5TGlzdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG5cbiAgICBwYWlyQnVmZmVyID0gJyc7XG4gICAgaWYgKGluZGV4ICE9PSAwKSBwYWlyQnVmZmVyICs9ICcsICc7XG5cbiAgICBpZiAoc3RhdGUuY29uZGVuc2VGbG93KSBwYWlyQnVmZmVyICs9ICdcIic7XG5cbiAgICBvYmplY3RLZXkgPSBvYmplY3RLZXlMaXN0W2luZGV4XTtcbiAgICBvYmplY3RWYWx1ZSA9IG9iamVjdFtvYmplY3RLZXldO1xuXG4gICAgaWYgKCF3cml0ZU5vZGUoc3RhdGUsIGxldmVsLCBvYmplY3RLZXksIGZhbHNlLCBmYWxzZSkpIHtcbiAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIHRoaXMgcGFpciBiZWNhdXNlIG9mIGludmFsaWQga2V5O1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS5kdW1wLmxlbmd0aCA+IDEwMjQpIHBhaXJCdWZmZXIgKz0gJz8gJztcblxuICAgIHBhaXJCdWZmZXIgKz0gc3RhdGUuZHVtcCArIChzdGF0ZS5jb25kZW5zZUZsb3cgPyAnXCInIDogJycpICsgJzonICsgKHN0YXRlLmNvbmRlbnNlRmxvdyA/ICcnIDogJyAnKTtcblxuICAgIGlmICghd3JpdGVOb2RlKHN0YXRlLCBsZXZlbCwgb2JqZWN0VmFsdWUsIGZhbHNlLCBmYWxzZSkpIHtcbiAgICAgIGNvbnRpbnVlOyAvLyBTa2lwIHRoaXMgcGFpciBiZWNhdXNlIG9mIGludmFsaWQgdmFsdWUuXG4gICAgfVxuXG4gICAgcGFpckJ1ZmZlciArPSBzdGF0ZS5kdW1wO1xuXG4gICAgLy8gQm90aCBrZXkgYW5kIHZhbHVlIGFyZSB2YWxpZC5cbiAgICBfcmVzdWx0ICs9IHBhaXJCdWZmZXI7XG4gIH1cblxuICBzdGF0ZS50YWcgPSBfdGFnO1xuICBzdGF0ZS5kdW1wID0gJ3snICsgX3Jlc3VsdCArICd9Jztcbn1cblxuZnVuY3Rpb24gd3JpdGVCbG9ja01hcHBpbmcoc3RhdGUsIGxldmVsLCBvYmplY3QsIGNvbXBhY3QpIHtcbiAgdmFyIF9yZXN1bHQgICAgICAgPSAnJyxcbiAgICAgIF90YWcgICAgICAgICAgPSBzdGF0ZS50YWcsXG4gICAgICBvYmplY3RLZXlMaXN0ID0gT2JqZWN0LmtleXMob2JqZWN0KSxcbiAgICAgIGluZGV4LFxuICAgICAgbGVuZ3RoLFxuICAgICAgb2JqZWN0S2V5LFxuICAgICAgb2JqZWN0VmFsdWUsXG4gICAgICBleHBsaWNpdFBhaXIsXG4gICAgICBwYWlyQnVmZmVyO1xuXG4gIC8vIEFsbG93IHNvcnRpbmcga2V5cyBzbyB0aGF0IHRoZSBvdXRwdXQgZmlsZSBpcyBkZXRlcm1pbmlzdGljXG4gIGlmIChzdGF0ZS5zb3J0S2V5cyA9PT0gdHJ1ZSkge1xuICAgIC8vIERlZmF1bHQgc29ydGluZ1xuICAgIG9iamVjdEtleUxpc3Quc29ydCgpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBzdGF0ZS5zb3J0S2V5cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIEN1c3RvbSBzb3J0IGZ1bmN0aW9uXG4gICAgb2JqZWN0S2V5TGlzdC5zb3J0KHN0YXRlLnNvcnRLZXlzKTtcbiAgfSBlbHNlIGlmIChzdGF0ZS5zb3J0S2V5cykge1xuICAgIC8vIFNvbWV0aGluZyBpcyB3cm9uZ1xuICAgIHRocm93IG5ldyBZQU1MRXhjZXB0aW9uKCdzb3J0S2V5cyBtdXN0IGJlIGEgYm9vbGVhbiBvciBhIGZ1bmN0aW9uJyk7XG4gIH1cblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gb2JqZWN0S2V5TGlzdC5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgcGFpckJ1ZmZlciA9ICcnO1xuXG4gICAgaWYgKCFjb21wYWN0IHx8IGluZGV4ICE9PSAwKSB7XG4gICAgICBwYWlyQnVmZmVyICs9IGdlbmVyYXRlTmV4dExpbmUoc3RhdGUsIGxldmVsKTtcbiAgICB9XG5cbiAgICBvYmplY3RLZXkgPSBvYmplY3RLZXlMaXN0W2luZGV4XTtcbiAgICBvYmplY3RWYWx1ZSA9IG9iamVjdFtvYmplY3RLZXldO1xuXG4gICAgaWYgKCF3cml0ZU5vZGUoc3RhdGUsIGxldmVsICsgMSwgb2JqZWN0S2V5LCB0cnVlLCB0cnVlLCB0cnVlKSkge1xuICAgICAgY29udGludWU7IC8vIFNraXAgdGhpcyBwYWlyIGJlY2F1c2Ugb2YgaW52YWxpZCBrZXkuXG4gICAgfVxuXG4gICAgZXhwbGljaXRQYWlyID0gKHN0YXRlLnRhZyAhPT0gbnVsbCAmJiBzdGF0ZS50YWcgIT09ICc/JykgfHxcbiAgICAgICAgICAgICAgICAgICAoc3RhdGUuZHVtcCAmJiBzdGF0ZS5kdW1wLmxlbmd0aCA+IDEwMjQpO1xuXG4gICAgaWYgKGV4cGxpY2l0UGFpcikge1xuICAgICAgaWYgKHN0YXRlLmR1bXAgJiYgQ0hBUl9MSU5FX0ZFRUQgPT09IHN0YXRlLmR1bXAuY2hhckNvZGVBdCgwKSkge1xuICAgICAgICBwYWlyQnVmZmVyICs9ICc/JztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhaXJCdWZmZXIgKz0gJz8gJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBwYWlyQnVmZmVyICs9IHN0YXRlLmR1bXA7XG5cbiAgICBpZiAoZXhwbGljaXRQYWlyKSB7XG4gICAgICBwYWlyQnVmZmVyICs9IGdlbmVyYXRlTmV4dExpbmUoc3RhdGUsIGxldmVsKTtcbiAgICB9XG5cbiAgICBpZiAoIXdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwgKyAxLCBvYmplY3RWYWx1ZSwgdHJ1ZSwgZXhwbGljaXRQYWlyKSkge1xuICAgICAgY29udGludWU7IC8vIFNraXAgdGhpcyBwYWlyIGJlY2F1c2Ugb2YgaW52YWxpZCB2YWx1ZS5cbiAgICB9XG5cbiAgICBpZiAoc3RhdGUuZHVtcCAmJiBDSEFSX0xJTkVfRkVFRCA9PT0gc3RhdGUuZHVtcC5jaGFyQ29kZUF0KDApKSB7XG4gICAgICBwYWlyQnVmZmVyICs9ICc6JztcbiAgICB9IGVsc2Uge1xuICAgICAgcGFpckJ1ZmZlciArPSAnOiAnO1xuICAgIH1cblxuICAgIHBhaXJCdWZmZXIgKz0gc3RhdGUuZHVtcDtcblxuICAgIC8vIEJvdGgga2V5IGFuZCB2YWx1ZSBhcmUgdmFsaWQuXG4gICAgX3Jlc3VsdCArPSBwYWlyQnVmZmVyO1xuICB9XG5cbiAgc3RhdGUudGFnID0gX3RhZztcbiAgc3RhdGUuZHVtcCA9IF9yZXN1bHQgfHwgJ3t9JzsgLy8gRW1wdHkgbWFwcGluZyBpZiBubyB2YWxpZCBwYWlycy5cbn1cblxuZnVuY3Rpb24gZGV0ZWN0VHlwZShzdGF0ZSwgb2JqZWN0LCBleHBsaWNpdCkge1xuICB2YXIgX3Jlc3VsdCwgdHlwZUxpc3QsIGluZGV4LCBsZW5ndGgsIHR5cGUsIHN0eWxlO1xuXG4gIHR5cGVMaXN0ID0gZXhwbGljaXQgPyBzdGF0ZS5leHBsaWNpdFR5cGVzIDogc3RhdGUuaW1wbGljaXRUeXBlcztcblxuICBmb3IgKGluZGV4ID0gMCwgbGVuZ3RoID0gdHlwZUxpc3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgIHR5cGUgPSB0eXBlTGlzdFtpbmRleF07XG5cbiAgICBpZiAoKHR5cGUuaW5zdGFuY2VPZiAgfHwgdHlwZS5wcmVkaWNhdGUpICYmXG4gICAgICAgICghdHlwZS5pbnN0YW5jZU9mIHx8ICgodHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcpICYmIChvYmplY3QgaW5zdGFuY2VvZiB0eXBlLmluc3RhbmNlT2YpKSkgJiZcbiAgICAgICAgKCF0eXBlLnByZWRpY2F0ZSAgfHwgdHlwZS5wcmVkaWNhdGUob2JqZWN0KSkpIHtcblxuICAgICAgc3RhdGUudGFnID0gZXhwbGljaXQgPyB0eXBlLnRhZyA6ICc/JztcblxuICAgICAgaWYgKHR5cGUucmVwcmVzZW50KSB7XG4gICAgICAgIHN0eWxlID0gc3RhdGUuc3R5bGVNYXBbdHlwZS50YWddIHx8IHR5cGUuZGVmYXVsdFN0eWxlO1xuXG4gICAgICAgIGlmIChfdG9TdHJpbmcuY2FsbCh0eXBlLnJlcHJlc2VudCkgPT09ICdbb2JqZWN0IEZ1bmN0aW9uXScpIHtcbiAgICAgICAgICBfcmVzdWx0ID0gdHlwZS5yZXByZXNlbnQob2JqZWN0LCBzdHlsZSk7XG4gICAgICAgIH0gZWxzZSBpZiAoX2hhc093blByb3BlcnR5LmNhbGwodHlwZS5yZXByZXNlbnQsIHN0eWxlKSkge1xuICAgICAgICAgIF9yZXN1bHQgPSB0eXBlLnJlcHJlc2VudFtzdHlsZV0ob2JqZWN0LCBzdHlsZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IFlBTUxFeGNlcHRpb24oJyE8JyArIHR5cGUudGFnICsgJz4gdGFnIHJlc29sdmVyIGFjY2VwdHMgbm90IFwiJyArIHN0eWxlICsgJ1wiIHN0eWxlJyk7XG4gICAgICAgIH1cblxuICAgICAgICBzdGF0ZS5kdW1wID0gX3Jlc3VsdDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vLyBTZXJpYWxpemVzIGBvYmplY3RgIGFuZCB3cml0ZXMgaXQgdG8gZ2xvYmFsIGByZXN1bHRgLlxuLy8gUmV0dXJucyB0cnVlIG9uIHN1Y2Nlc3MsIG9yIGZhbHNlIG9uIGludmFsaWQgb2JqZWN0LlxuLy9cbmZ1bmN0aW9uIHdyaXRlTm9kZShzdGF0ZSwgbGV2ZWwsIG9iamVjdCwgYmxvY2ssIGNvbXBhY3QsIGlza2V5KSB7XG4gIHN0YXRlLnRhZyA9IG51bGw7XG4gIHN0YXRlLmR1bXAgPSBvYmplY3Q7XG5cbiAgaWYgKCFkZXRlY3RUeXBlKHN0YXRlLCBvYmplY3QsIGZhbHNlKSkge1xuICAgIGRldGVjdFR5cGUoc3RhdGUsIG9iamVjdCwgdHJ1ZSk7XG4gIH1cblxuICB2YXIgdHlwZSA9IF90b1N0cmluZy5jYWxsKHN0YXRlLmR1bXApO1xuXG4gIGlmIChibG9jaykge1xuICAgIGJsb2NrID0gKHN0YXRlLmZsb3dMZXZlbCA8IDAgfHwgc3RhdGUuZmxvd0xldmVsID4gbGV2ZWwpO1xuICB9XG5cbiAgdmFyIG9iamVjdE9yQXJyYXkgPSB0eXBlID09PSAnW29iamVjdCBPYmplY3RdJyB8fCB0eXBlID09PSAnW29iamVjdCBBcnJheV0nLFxuICAgICAgZHVwbGljYXRlSW5kZXgsXG4gICAgICBkdXBsaWNhdGU7XG5cbiAgaWYgKG9iamVjdE9yQXJyYXkpIHtcbiAgICBkdXBsaWNhdGVJbmRleCA9IHN0YXRlLmR1cGxpY2F0ZXMuaW5kZXhPZihvYmplY3QpO1xuICAgIGR1cGxpY2F0ZSA9IGR1cGxpY2F0ZUluZGV4ICE9PSAtMTtcbiAgfVxuXG4gIGlmICgoc3RhdGUudGFnICE9PSBudWxsICYmIHN0YXRlLnRhZyAhPT0gJz8nKSB8fCBkdXBsaWNhdGUgfHwgKHN0YXRlLmluZGVudCAhPT0gMiAmJiBsZXZlbCA+IDApKSB7XG4gICAgY29tcGFjdCA9IGZhbHNlO1xuICB9XG5cbiAgaWYgKGR1cGxpY2F0ZSAmJiBzdGF0ZS51c2VkRHVwbGljYXRlc1tkdXBsaWNhdGVJbmRleF0pIHtcbiAgICBzdGF0ZS5kdW1wID0gJypyZWZfJyArIGR1cGxpY2F0ZUluZGV4O1xuICB9IGVsc2Uge1xuICAgIGlmIChvYmplY3RPckFycmF5ICYmIGR1cGxpY2F0ZSAmJiAhc3RhdGUudXNlZER1cGxpY2F0ZXNbZHVwbGljYXRlSW5kZXhdKSB7XG4gICAgICBzdGF0ZS51c2VkRHVwbGljYXRlc1tkdXBsaWNhdGVJbmRleF0gPSB0cnVlO1xuICAgIH1cbiAgICBpZiAodHlwZSA9PT0gJ1tvYmplY3QgT2JqZWN0XScpIHtcbiAgICAgIGlmIChibG9jayAmJiAoT2JqZWN0LmtleXMoc3RhdGUuZHVtcCkubGVuZ3RoICE9PSAwKSkge1xuICAgICAgICB3cml0ZUJsb2NrTWFwcGluZyhzdGF0ZSwgbGV2ZWwsIHN0YXRlLmR1bXAsIGNvbXBhY3QpO1xuICAgICAgICBpZiAoZHVwbGljYXRlKSB7XG4gICAgICAgICAgc3RhdGUuZHVtcCA9ICcmcmVmXycgKyBkdXBsaWNhdGVJbmRleCArIHN0YXRlLmR1bXA7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHdyaXRlRmxvd01hcHBpbmcoc3RhdGUsIGxldmVsLCBzdGF0ZS5kdW1wKTtcbiAgICAgICAgaWYgKGR1cGxpY2F0ZSkge1xuICAgICAgICAgIHN0YXRlLmR1bXAgPSAnJnJlZl8nICsgZHVwbGljYXRlSW5kZXggKyAnICcgKyBzdGF0ZS5kdW1wO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlID09PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICB2YXIgYXJyYXlMZXZlbCA9IChzdGF0ZS5ub0FycmF5SW5kZW50ICYmIChsZXZlbCA+IDApKSA/IGxldmVsIC0gMSA6IGxldmVsO1xuICAgICAgaWYgKGJsb2NrICYmIChzdGF0ZS5kdW1wLmxlbmd0aCAhPT0gMCkpIHtcbiAgICAgICAgd3JpdGVCbG9ja1NlcXVlbmNlKHN0YXRlLCBhcnJheUxldmVsLCBzdGF0ZS5kdW1wLCBjb21wYWN0KTtcbiAgICAgICAgaWYgKGR1cGxpY2F0ZSkge1xuICAgICAgICAgIHN0YXRlLmR1bXAgPSAnJnJlZl8nICsgZHVwbGljYXRlSW5kZXggKyBzdGF0ZS5kdW1wO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB3cml0ZUZsb3dTZXF1ZW5jZShzdGF0ZSwgYXJyYXlMZXZlbCwgc3RhdGUuZHVtcCk7XG4gICAgICAgIGlmIChkdXBsaWNhdGUpIHtcbiAgICAgICAgICBzdGF0ZS5kdW1wID0gJyZyZWZfJyArIGR1cGxpY2F0ZUluZGV4ICsgJyAnICsgc3RhdGUuZHVtcDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gJ1tvYmplY3QgU3RyaW5nXScpIHtcbiAgICAgIGlmIChzdGF0ZS50YWcgIT09ICc/Jykge1xuICAgICAgICB3cml0ZVNjYWxhcihzdGF0ZSwgc3RhdGUuZHVtcCwgbGV2ZWwsIGlza2V5KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKHN0YXRlLnNraXBJbnZhbGlkKSByZXR1cm4gZmFsc2U7XG4gICAgICB0aHJvdyBuZXcgWUFNTEV4Y2VwdGlvbigndW5hY2NlcHRhYmxlIGtpbmQgb2YgYW4gb2JqZWN0IHRvIGR1bXAgJyArIHR5cGUpO1xuICAgIH1cblxuICAgIGlmIChzdGF0ZS50YWcgIT09IG51bGwgJiYgc3RhdGUudGFnICE9PSAnPycpIHtcbiAgICAgIHN0YXRlLmR1bXAgPSAnITwnICsgc3RhdGUudGFnICsgJz4gJyArIHN0YXRlLmR1bXA7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cbmZ1bmN0aW9uIGdldER1cGxpY2F0ZVJlZmVyZW5jZXMob2JqZWN0LCBzdGF0ZSkge1xuICB2YXIgb2JqZWN0cyA9IFtdLFxuICAgICAgZHVwbGljYXRlc0luZGV4ZXMgPSBbXSxcbiAgICAgIGluZGV4LFxuICAgICAgbGVuZ3RoO1xuXG4gIGluc3BlY3ROb2RlKG9iamVjdCwgb2JqZWN0cywgZHVwbGljYXRlc0luZGV4ZXMpO1xuXG4gIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBkdXBsaWNhdGVzSW5kZXhlcy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoOyBpbmRleCArPSAxKSB7XG4gICAgc3RhdGUuZHVwbGljYXRlcy5wdXNoKG9iamVjdHNbZHVwbGljYXRlc0luZGV4ZXNbaW5kZXhdXSk7XG4gIH1cbiAgc3RhdGUudXNlZER1cGxpY2F0ZXMgPSBuZXcgQXJyYXkobGVuZ3RoKTtcbn1cblxuZnVuY3Rpb24gaW5zcGVjdE5vZGUob2JqZWN0LCBvYmplY3RzLCBkdXBsaWNhdGVzSW5kZXhlcykge1xuICB2YXIgb2JqZWN0S2V5TGlzdCxcbiAgICAgIGluZGV4LFxuICAgICAgbGVuZ3RoO1xuXG4gIGlmIChvYmplY3QgIT09IG51bGwgJiYgdHlwZW9mIG9iamVjdCA9PT0gJ29iamVjdCcpIHtcbiAgICBpbmRleCA9IG9iamVjdHMuaW5kZXhPZihvYmplY3QpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIGlmIChkdXBsaWNhdGVzSW5kZXhlcy5pbmRleE9mKGluZGV4KSA9PT0gLTEpIHtcbiAgICAgICAgZHVwbGljYXRlc0luZGV4ZXMucHVzaChpbmRleCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG9iamVjdHMucHVzaChvYmplY3QpO1xuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgICAgIGZvciAoaW5kZXggPSAwLCBsZW5ndGggPSBvYmplY3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgICAgICAgIGluc3BlY3ROb2RlKG9iamVjdFtpbmRleF0sIG9iamVjdHMsIGR1cGxpY2F0ZXNJbmRleGVzKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqZWN0S2V5TGlzdCA9IE9iamVjdC5rZXlzKG9iamVjdCk7XG5cbiAgICAgICAgZm9yIChpbmRleCA9IDAsIGxlbmd0aCA9IG9iamVjdEtleUxpc3QubGVuZ3RoOyBpbmRleCA8IGxlbmd0aDsgaW5kZXggKz0gMSkge1xuICAgICAgICAgIGluc3BlY3ROb2RlKG9iamVjdFtvYmplY3RLZXlMaXN0W2luZGV4XV0sIG9iamVjdHMsIGR1cGxpY2F0ZXNJbmRleGVzKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBkdW1wKGlucHV0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gIHZhciBzdGF0ZSA9IG5ldyBTdGF0ZShvcHRpb25zKTtcblxuICBpZiAoIXN0YXRlLm5vUmVmcykgZ2V0RHVwbGljYXRlUmVmZXJlbmNlcyhpbnB1dCwgc3RhdGUpO1xuXG4gIGlmICh3cml0ZU5vZGUoc3RhdGUsIDAsIGlucHV0LCB0cnVlLCB0cnVlKSkgcmV0dXJuIHN0YXRlLmR1bXAgKyAnXFxuJztcblxuICByZXR1cm4gJyc7XG59XG5cbmZ1bmN0aW9uIHNhZmVEdW1wKGlucHV0LCBvcHRpb25zKSB7XG4gIHJldHVybiBkdW1wKGlucHV0LCBjb21tb24uZXh0ZW5kKHsgc2NoZW1hOiBERUZBVUxUX1NBRkVfU0NIRU1BIH0sIG9wdGlvbnMpKTtcbn1cblxubW9kdWxlLmV4cG9ydHMuZHVtcCAgICAgPSBkdW1wO1xubW9kdWxlLmV4cG9ydHMuc2FmZUR1bXAgPSBzYWZlRHVtcDtcbiIsIid1c2Ugc3RyaWN0JztcblxuXG52YXIgbG9hZGVyID0gcmVxdWlyZSgnLi9qcy15YW1sL2xvYWRlcicpO1xudmFyIGR1bXBlciA9IHJlcXVpcmUoJy4vanMteWFtbC9kdW1wZXInKTtcblxuXG5mdW5jdGlvbiBkZXByZWNhdGVkKG5hbWUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0Z1bmN0aW9uICcgKyBuYW1lICsgJyBpcyBkZXByZWNhdGVkIGFuZCBjYW5ub3QgYmUgdXNlZC4nKTtcbiAgfTtcbn1cblxuXG5tb2R1bGUuZXhwb3J0cy5UeXBlICAgICAgICAgICAgICAgID0gcmVxdWlyZSgnLi9qcy15YW1sL3R5cGUnKTtcbm1vZHVsZS5leHBvcnRzLlNjaGVtYSAgICAgICAgICAgICAgPSByZXF1aXJlKCcuL2pzLXlhbWwvc2NoZW1hJyk7XG5tb2R1bGUuZXhwb3J0cy5GQUlMU0FGRV9TQ0hFTUEgICAgID0gcmVxdWlyZSgnLi9qcy15YW1sL3NjaGVtYS9mYWlsc2FmZScpO1xubW9kdWxlLmV4cG9ydHMuSlNPTl9TQ0hFTUEgICAgICAgICA9IHJlcXVpcmUoJy4vanMteWFtbC9zY2hlbWEvanNvbicpO1xubW9kdWxlLmV4cG9ydHMuQ09SRV9TQ0hFTUEgICAgICAgICA9IHJlcXVpcmUoJy4vanMteWFtbC9zY2hlbWEvY29yZScpO1xubW9kdWxlLmV4cG9ydHMuREVGQVVMVF9TQUZFX1NDSEVNQSA9IHJlcXVpcmUoJy4vanMteWFtbC9zY2hlbWEvZGVmYXVsdF9zYWZlJyk7XG5tb2R1bGUuZXhwb3J0cy5ERUZBVUxUX0ZVTExfU0NIRU1BID0gcmVxdWlyZSgnLi9qcy15YW1sL3NjaGVtYS9kZWZhdWx0X2Z1bGwnKTtcbm1vZHVsZS5leHBvcnRzLmxvYWQgICAgICAgICAgICAgICAgPSBsb2FkZXIubG9hZDtcbm1vZHVsZS5leHBvcnRzLmxvYWRBbGwgICAgICAgICAgICAgPSBsb2FkZXIubG9hZEFsbDtcbm1vZHVsZS5leHBvcnRzLnNhZmVMb2FkICAgICAgICAgICAgPSBsb2FkZXIuc2FmZUxvYWQ7XG5tb2R1bGUuZXhwb3J0cy5zYWZlTG9hZEFsbCAgICAgICAgID0gbG9hZGVyLnNhZmVMb2FkQWxsO1xubW9kdWxlLmV4cG9ydHMuZHVtcCAgICAgICAgICAgICAgICA9IGR1bXBlci5kdW1wO1xubW9kdWxlLmV4cG9ydHMuc2FmZUR1bXAgICAgICAgICAgICA9IGR1bXBlci5zYWZlRHVtcDtcbm1vZHVsZS5leHBvcnRzLllBTUxFeGNlcHRpb24gICAgICAgPSByZXF1aXJlKCcuL2pzLXlhbWwvZXhjZXB0aW9uJyk7XG5cbi8vIERlcHJlY2F0ZWQgc2NoZW1hIG5hbWVzIGZyb20gSlMtWUFNTCAyLjAueFxubW9kdWxlLmV4cG9ydHMuTUlOSU1BTF9TQ0hFTUEgPSByZXF1aXJlKCcuL2pzLXlhbWwvc2NoZW1hL2ZhaWxzYWZlJyk7XG5tb2R1bGUuZXhwb3J0cy5TQUZFX1NDSEVNQSAgICA9IHJlcXVpcmUoJy4vanMteWFtbC9zY2hlbWEvZGVmYXVsdF9zYWZlJyk7XG5tb2R1bGUuZXhwb3J0cy5ERUZBVUxUX1NDSEVNQSA9IHJlcXVpcmUoJy4vanMteWFtbC9zY2hlbWEvZGVmYXVsdF9mdWxsJyk7XG5cbi8vIERlcHJlY2F0ZWQgZnVuY3Rpb25zIGZyb20gSlMtWUFNTCAxLngueFxubW9kdWxlLmV4cG9ydHMuc2NhbiAgICAgICAgICAgPSBkZXByZWNhdGVkKCdzY2FuJyk7XG5tb2R1bGUuZXhwb3J0cy5wYXJzZSAgICAgICAgICA9IGRlcHJlY2F0ZWQoJ3BhcnNlJyk7XG5tb2R1bGUuZXhwb3J0cy5jb21wb3NlICAgICAgICA9IGRlcHJlY2F0ZWQoJ2NvbXBvc2UnKTtcbm1vZHVsZS5leHBvcnRzLmFkZENvbnN0cnVjdG9yID0gZGVwcmVjYXRlZCgnYWRkQ29uc3RydWN0b3InKTtcbiIsIid1c2Ugc3RyaWN0JztcblxuXG52YXIgeWFtbCA9IHJlcXVpcmUoJy4vbGliL2pzLXlhbWwuanMnKTtcblxuXG5tb2R1bGUuZXhwb3J0cyA9IHlhbWw7XG4iLCJ2YXIgcGFyc2VyID0gcmVxdWlyZSgnanMteWFtbCcpXG52YXIgb3B0aW9uYWxCeXRlT3JkZXJNYXJrID0gJ1xcXFx1ZmVmZj8nXG52YXIgcGxhdGZvcm0gPSB0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgPyBwcm9jZXNzLnBsYXRmb3JtIDogJydcbnZhciBwYXR0ZXJuID0gJ14oJyArXG4gIG9wdGlvbmFsQnl0ZU9yZGVyTWFyayArXG4gICcoPSB5YW1sID18LS0tKScgK1xuICAnJChbXFxcXHNcXFxcU10qPyknICtcbiAgJ14oPzpcXFxcMnxcXFxcLlxcXFwuXFxcXC4pXFxcXHMqJyArXG4gICckJyArXG4gIChwbGF0Zm9ybSA9PT0gJ3dpbjMyJyA/ICdcXFxccj8nIDogJycpICtcbiAgJyg/OlxcXFxuKT8pJ1xuLy8gTk9URTogSWYgdGhpcyBwYXR0ZXJuIHVzZXMgdGhlICdnJyBmbGFnIHRoZSBgcmVnZXhgIHZhcmlhYmxlIGRlZmluaXRpb24gd2lsbFxuLy8gbmVlZCB0byBiZSBtb3ZlZCBkb3duIGludG8gdGhlIGZ1bmN0aW9ucyB0aGF0IHVzZSBpdC5cbnZhciByZWdleCA9IG5ldyBSZWdFeHAocGF0dGVybiwgJ20nKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGV4dHJhY3RvclxubW9kdWxlLmV4cG9ydHMudGVzdCA9IHRlc3RcblxuZnVuY3Rpb24gZXh0cmFjdG9yIChzdHJpbmcsIG9wdGlvbnMpIHtcbiAgc3RyaW5nID0gc3RyaW5nIHx8ICcnXG4gIHZhciBkZWZhdWx0T3B0aW9ucyA9IHsgYWxsb3dVbnNhZmU6IGZhbHNlIH1cbiAgb3B0aW9ucyA9IG9wdGlvbnMgaW5zdGFuY2VvZiBPYmplY3QgPyB7IC4uLmRlZmF1bHRPcHRpb25zLCAuLi5vcHRpb25zIH0gOiBkZWZhdWx0T3B0aW9uc1xuICBvcHRpb25zLmFsbG93VW5zYWZlID0gQm9vbGVhbihvcHRpb25zLmFsbG93VW5zYWZlKVxuICB2YXIgbGluZXMgPSBzdHJpbmcuc3BsaXQoLyhcXHI/XFxuKS8pXG4gIGlmIChsaW5lc1swXSAmJiAvPSB5YW1sID18LS0tLy50ZXN0KGxpbmVzWzBdKSkge1xuICAgIHJldHVybiBwYXJzZShzdHJpbmcsIG9wdGlvbnMuYWxsb3dVbnNhZmUpXG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHt9LFxuICAgICAgYm9keTogc3RyaW5nLFxuICAgICAgYm9keUJlZ2luOiAxXG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGNvbXB1dGVMb2NhdGlvbiAobWF0Y2gsIGJvZHkpIHtcbiAgdmFyIGxpbmUgPSAxXG4gIHZhciBwb3MgPSBib2R5LmluZGV4T2YoJ1xcbicpXG4gIHZhciBvZmZzZXQgPSBtYXRjaC5pbmRleCArIG1hdGNoWzBdLmxlbmd0aFxuXG4gIHdoaWxlIChwb3MgIT09IC0xKSB7XG4gICAgaWYgKHBvcyA+PSBvZmZzZXQpIHtcbiAgICAgIHJldHVybiBsaW5lXG4gICAgfVxuICAgIGxpbmUrK1xuICAgIHBvcyA9IGJvZHkuaW5kZXhPZignXFxuJywgcG9zICsgMSlcbiAgfVxuXG4gIHJldHVybiBsaW5lXG59XG5cbmZ1bmN0aW9uIHBhcnNlIChzdHJpbmcsIGFsbG93VW5zYWZlKSB7XG4gIHZhciBtYXRjaCA9IHJlZ2V4LmV4ZWMoc3RyaW5nKVxuICBpZiAoIW1hdGNoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGF0dHJpYnV0ZXM6IHt9LFxuICAgICAgYm9keTogc3RyaW5nLFxuICAgICAgYm9keUJlZ2luOiAxXG4gICAgfVxuICB9XG5cbiAgdmFyIGxvYWRlciA9IGFsbG93VW5zYWZlID8gcGFyc2VyLmxvYWQgOiBwYXJzZXIuc2FmZUxvYWRcbiAgdmFyIHlhbWwgPSBtYXRjaFttYXRjaC5sZW5ndGggLSAxXS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJylcbiAgdmFyIGF0dHJpYnV0ZXMgPSBsb2FkZXIoeWFtbCkgfHwge31cbiAgdmFyIGJvZHkgPSBzdHJpbmcucmVwbGFjZShtYXRjaFswXSwgJycpXG4gIHZhciBsaW5lID0gY29tcHV0ZUxvY2F0aW9uKG1hdGNoLCBzdHJpbmcpXG5cbiAgcmV0dXJuIHtcbiAgICBhdHRyaWJ1dGVzOiBhdHRyaWJ1dGVzLFxuICAgIGJvZHk6IGJvZHksXG4gICAgYm9keUJlZ2luOiBsaW5lLFxuICAgIGZyb250bWF0dGVyOiB5YW1sXG4gIH1cbn1cblxuZnVuY3Rpb24gdGVzdCAoc3RyaW5nKSB7XG4gIHN0cmluZyA9IHN0cmluZyB8fCAnJ1xuXG4gIHJldHVybiByZWdleC50ZXN0KHN0cmluZylcbn1cbiIsImltcG9ydCBmbSBmcm9tIFwiZnJvbnQtbWF0dGVyXCI7XG5cbmV4cG9ydCB0eXBlIEZyb250TWF0dGVyID0ge1xuICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vRXhwbGljaXRBbnk6IDxleHBsYW5hdGlvbj5cbiAgW2tleTogc3RyaW5nXTogYW55O1xufTtcblxuZXhwb3J0IGNvbnN0IHBhcnNlRnJvbnRNYXR0ZXJCbG9jayA9IDxUPihcbiAgY29udGVudDogc3RyaW5nXG4pOiB7IGRhdGE6IFQgfCBudWxsOyBib2R5OiBzdHJpbmc7IGVycm9yPzogRXJyb3IgfSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgeyBhdHRyaWJ1dGVzOiBkYXRhLCBib2R5IH0gPSBmbTxUPihjb250ZW50KTtcbiAgICByZXR1cm4geyBkYXRhLCBib2R5IH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHsgZGF0YTogbnVsbCwgYm9keTogXCJcIiwgZXJyb3I6IGVycm9yIGFzIEVycm9yIH07XG4gIH1cbn07XG4iLCJpbXBvcnQgTGF5b3V0Q29tcG9uZW50IGZyb20gXCIuLi9jb21wb25lbnRzL0xlZ2FjeUltYWdlTGF5b3V0LnN2ZWx0ZVwiO1xuaW1wb3J0IHsgdHlwZSBNYXJrZG93blBvc3RQcm9jZXNzb3JDb250ZXh0IH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBsYXlvdXRJbWFnZXMsIHR5cGUgTGF5b3V0VHlwZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyBnZXRJbWFnZXMgfSBmcm9tIFwiLi4vdXRpbHMvaW1hZ2VzXCI7XG5pbXBvcnQgeyByZXNvbHZlTG9jYWxJbWFnZXMgfSBmcm9tIFwiLi4vdXRpbHMvaW1hZ2UtcmVzb2x2ZXJcIjtcbmltcG9ydCB0eXBlIEltYWdlTGF5b3V0c1BsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xuaW1wb3J0IHsgcGFyc2VGcm9udE1hdHRlckJsb2NrIH0gZnJvbSBcIi4uL3V0aWxzL2Zyb250LW1hdHRlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkTGVnYWN5SW1hZ2VMYXlvdXRNYXJrZG93blByb2Nlc3NvcnMoXG4gIHBsdWdpbjogSW1hZ2VMYXlvdXRzUGx1Z2luXG4pIHtcbiAgZm9yIChjb25zdCBsYXlvdXQgaW4gbGF5b3V0SW1hZ2VzKSB7XG4gICAgcGx1Z2luLnJlZ2lzdGVyTWFya2Rvd25Db2RlQmxvY2tQcm9jZXNzb3IoXG4gICAgICBgaW1hZ2UtbGF5b3V0LSR7bGF5b3V0fWAsXG4gICAgICAoc291cmNlLCBlbCwgY3R4KSA9PiB7XG4gICAgICAgIC8vIGNvbnN0IGltYWdlcyA9IGdldEltYWdlcyhzb3VyY2UpO1xuICAgICAgICAvLyByZW5kZXJMYXlvdXQoaW1hZ2VzLCBsYXlvdXQsIGN0eC5zb3VyY2VQYXRoLCBlbCwgdGhpcyk7XG4gICAgICAgIHJlbmRlckxlZ2FjeUxheW91dENvbXBvbmVudChcbiAgICAgICAgICBzb3VyY2UsXG4gICAgICAgICAgZWwsXG4gICAgICAgICAgY3R4LFxuICAgICAgICAgIHBsdWdpbixcbiAgICAgICAgICBsYXlvdXQgYXMgTGF5b3V0VHlwZVxuICAgICAgICApO1xuICAgICAgfVxuICAgICk7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckxlZ2FjeUxheW91dENvbXBvbmVudChcbiAgc291cmNlOiBzdHJpbmcsXG4gIHBhcmVudDogSFRNTEVsZW1lbnQsXG4gIGN0eDogTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCxcbiAgcGx1Z2luOiBJbWFnZUxheW91dHNQbHVnaW4sXG4gIGxheW91dDogTGF5b3V0VHlwZVxuKSB7XG4gIGNvbnN0IG0gPSBwYXJzZUZyb250TWF0dGVyQmxvY2s8e1xuICAgIGNhcHRpb24/OiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb25zPzogc3RyaW5nW107XG4gICAgcGVybWFuZW50T3ZlcmxheT86IGJvb2xlYW47XG4gIH0+KHNvdXJjZSk7XG4gIGNvbnN0IGltYWdlcyA9IGdldEltYWdlcyhtLmJvZHkpO1xuICBjb25zdCByZWFkeUltYWdlcyA9IHJlc29sdmVMb2NhbEltYWdlcyhpbWFnZXMsIGN0eCwgcGx1Z2luKTtcblxuICBjb25zdCBfY29tcG9uZW50ID0gbmV3IExheW91dENvbXBvbmVudCh7XG4gICAgdGFyZ2V0OiBwYXJlbnQsXG4gICAgcHJvcHM6IHtcbiAgICAgIC8vIGxheW91dCxcbiAgICAgIGNhcHRpb246IG0uZGF0YT8uY2FwdGlvbiA/PyBcIlwiLFxuICAgICAgZGVzY3JpcHRpb25zOiBtLmRhdGE/LmRlc2NyaXB0aW9ucyxcbiAgICAgIGxheW91dDogbGF5b3V0LFxuICAgICAgcmVxdWlyZWRJbWFnZXM6IGxheW91dEltYWdlc1tsYXlvdXRdLFxuICAgICAgaW1hZ2VzOiByZWFkeUltYWdlcyxcbiAgICAgIHBlcm1hbmVudE92ZXJsYXk6XG4gICAgICAgIG0uZGF0YT8ucGVybWFuZW50T3ZlcmxheSA/PyBwbHVnaW4uc2V0dGluZ3Muc2hvdWxkT3ZlcmxheVBlcm1hbmVudGx5LFxuICAgIH0sXG4gIH0pO1xufVxuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgZXhwb3J0IGxldCBzcmM6IHN0cmluZztcbiAgZXhwb3J0IGxldCBkZXNjcmlwdGlvbjogc3RyaW5nIHwgdW5kZWZpbmVkO1xuICBleHBvcnQgbGV0IGluZGV4OiBudW1iZXI7XG4gIGV4cG9ydCBsZXQgcGVybWFuZW50T3ZlcmxheSA9IGZhbHNlO1xuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9e2Bncm91cCByZWxhdGl2ZSBpbWFnZS1sYXlvdXRzLW1hc29ucnktaW1hZ2UtJHtpbmRleH1gfT5cbiAgPGltZ1xuICAgIGNsYXNzPVwidy1mdWxsIGgtZnVsbCBvYmplY3QtY292ZXIgb2JqZWN0LWNlbnRlclwiXG4gICAge3NyY31cbiAgICBhbHQ9e2BJbWFnZSAke2luZGV4ICsgMX1gfVxuICAvPlxuICB7I2lmIGRlc2NyaXB0aW9ufVxuICAgIDxkaXZcbiAgICAgIGNsYXNzPVwiYWJzb2x1dGUgYm90dG9tLTAgbGVmdC0wIHJpZ2h0LTAgZmxleCBpdGVtcy1lbmQgcC00XCJcbiAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgICBjbGFzczpvcGFjaXR5LTA9eyFwZXJtYW5lbnRPdmVybGF5fVxuICAgICAgY2xhc3M6Z3JvdXAtaG92ZXI6b3BhY2l0eS0xMDA9eyFwZXJtYW5lbnRPdmVybGF5fVxuICAgID5cbiAgICAgIDxkaXZcbiAgICAgICAgY2xhc3M9XCJ3LWZ1bGwgcm91bmRlZC1tZCBiZy13aGl0ZSBiZy1vcGFjaXR5LTc1IHB4LTQgcHktMiB0ZXh0LWNlbnRlciB0ZXh0LXNtIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgYmFja2Ryb3AtYmx1ciBiYWNrZHJvcC1maWx0ZXJcIlxuICAgICAgPlxuICAgICAgICB7ZGVzY3JpcHRpb259XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgey9pZn1cbjwvZGl2PlxuIiwiPHNjcmlwdCBsYW5nPVwidHNcIj5cbiAgaW1wb3J0IHR5cGUgeyBSZWFkeUltYWdlTGluayB9IGZyb20gXCIuLi91dGlscy9pbWFnZXNcIjtcbiAgaW1wb3J0IExlZ2FjeU1hc29ucnlJbWFnZSBmcm9tIFwiLi9MZWdhY3lNYXNvbnJ5SW1hZ2Uuc3ZlbHRlXCI7XG4gIGltcG9ydCBDYXB0aW9uIGZyb20gXCIuL0NhcHRpb24uc3ZlbHRlXCI7XG5cbiAgZXhwb3J0IGxldCBjb2x1bW5zOiBudW1iZXI7XG4gIGV4cG9ydCBsZXQgaW1hZ2VzOiBSZWFkeUltYWdlTGlua1tdID0gW107XG4gIGV4cG9ydCBsZXQgY2FwdGlvbjogc3RyaW5nID0gXCJcIjtcbiAgZXhwb3J0IGxldCBkZXNjcmlwdGlvbnM6IHN0cmluZ1tdID0gW107XG4gIGV4cG9ydCBsZXQgcGVybWFuZW50T3ZlcmxheSA9IGZhbHNlO1xuPC9zY3JpcHQ+XG5cbjxkaXYgY2xhc3M9e2BpbWFnZS1sYXlvdXRzLW1hc29ucnktZ3JpZC0ke2NvbHVtbnN9YH0+XG4gIHsjZWFjaCBBcnJheShjb2x1bW5zKSBhcyBfLCBjb2xJbmRleH1cbiAgICA8ZGl2IGNsYXNzPXtgaW1hZ2UtbGF5b3V0cy1tYXNvbnJ5LWNvbHVtbmB9PlxuICAgICAgeyNlYWNoIGltYWdlcyBhcyBpbWFnZSwgaW5kZXggKGltYWdlLmxpbmspfVxuICAgICAgICB7I2lmIGluZGV4ICUgY29sdW1ucyA9PT0gY29sSW5kZXh9XG4gICAgICAgICAgPExlZ2FjeU1hc29ucnlJbWFnZVxuICAgICAgICAgICAgc3JjPXtpbWFnZS5saW5rfVxuICAgICAgICAgICAgZGVzY3JpcHRpb249e2Rlc2NyaXB0aW9uc1tpbmRleF0gPz8gaW1hZ2UuYWx0fVxuICAgICAgICAgICAge2luZGV4fVxuICAgICAgICAgICAge3Blcm1hbmVudE92ZXJsYXl9XG4gICAgICAgICAgLz5cbiAgICAgICAgey9pZn1cbiAgICAgIHsvZWFjaH1cbiAgICA8L2Rpdj5cbiAgey9lYWNofVxuPC9kaXY+XG48Q2FwdGlvbiB7Y2FwdGlvbn0gLz5cblxuPHN0eWxlPlxuICAuaW1hZ2UtbGF5b3V0cy1tYXNvbnJ5LWdyaWQtMiB7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgyLCAxZnIpO1xuICAgIGdyaWQtdGVtcGxhdGUtcm93czogbWFzb25yeTtcbiAgICBncmlkLWdhcDogMC41cmVtO1xuICB9XG5cbiAgLmltYWdlLWxheW91dHMtbWFzb25yeS1ncmlkLTMge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMywgMWZyKTtcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IG1hc29ucnk7XG4gICAgZ3JpZC1nYXA6IDAuNXJlbTtcbiAgfVxuXG4gIC5pbWFnZS1sYXlvdXRzLW1hc29ucnktZ3JpZC00IHtcbiAgICBkaXNwbGF5OiBncmlkO1xuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDQsIDFmcik7XG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiBtYXNvbnJ5O1xuICAgIGdyaWQtZ2FwOiAwLjVyZW07XG4gIH1cblxuICAuaW1hZ2UtbGF5b3V0cy1tYXNvbnJ5LWdyaWQtNSB7XG4gICAgZGlzcGxheTogZ3JpZDtcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCg1LCAxZnIpO1xuICAgIGdyaWQtdGVtcGxhdGUtcm93czogbWFzb25yeTtcbiAgICBncmlkLWdhcDogMC41cmVtO1xuICB9XG5cbiAgLmltYWdlLWxheW91dHMtbWFzb25yeS1ncmlkLTYge1xuICAgIGRpc3BsYXk6IGdyaWQ7XG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoNiwgMWZyKTtcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IG1hc29ucnk7XG4gICAgZ3JpZC1nYXA6IDAuNXJlbTtcbiAgfVxuXG4gIC5pbWFnZS1sYXlvdXRzLW1hc29ucnktY29sdW1uIHtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gICAgZ2FwOiAwLjVyZW07XG4gIH1cbjwvc3R5bGU+XG4iLCJpbXBvcnQgTGVnYWN5TWFzb25yeUxheW91dCBmcm9tIFwiLi4vY29tcG9uZW50cy9MZWdhY3lNYXNvbnJ5TGF5b3V0LnN2ZWx0ZVwiO1xuaW1wb3J0IHsgdHlwZSBNYXJrZG93blBvc3RQcm9jZXNzb3JDb250ZXh0IH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBnZXRJbWFnZXMgfSBmcm9tIFwiLi4vdXRpbHMvaW1hZ2VzXCI7XG5pbXBvcnQgeyByZXNvbHZlTG9jYWxJbWFnZXMgfSBmcm9tIFwiLi4vdXRpbHMvaW1hZ2UtcmVzb2x2ZXJcIjtcbmltcG9ydCB0eXBlIEltYWdlTGF5b3V0c1BsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xuaW1wb3J0IHsgcGFyc2VGcm9udE1hdHRlckJsb2NrIH0gZnJvbSBcIi4uL3V0aWxzL2Zyb250LW1hdHRlclwiO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkTGVnYWN5TWFzb25yeU1hcmtkb3duUHJvY2Vzc29ycyhwbHVnaW46IEltYWdlTGF5b3V0c1BsdWdpbikge1xuICBmb3IgKGxldCBjb2x1bW5zID0gMjsgY29sdW1ucyA8PSA2OyBjb2x1bW5zKyspIHtcbiAgICBwbHVnaW4ucmVnaXN0ZXJNYXJrZG93bkNvZGVCbG9ja1Byb2Nlc3NvcihcbiAgICAgIGBpbWFnZS1sYXlvdXQtbWFzb25yeS0ke2NvbHVtbnN9YCxcbiAgICAgIChzb3VyY2UsIGVsLCBjdHgpID0+IHtcbiAgICAgICAgcmVuZGVyTGVnYWN5TWFzb25yeUxheW91dENvbXBvbmVudChzb3VyY2UsIGVsLCBjdHgsIHBsdWdpbiwgY29sdW1ucyk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVuZGVyTGVnYWN5TWFzb25yeUxheW91dENvbXBvbmVudChcbiAgc291cmNlOiBzdHJpbmcsXG4gIHBhcmVudDogSFRNTEVsZW1lbnQsXG4gIGN0eDogTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCxcbiAgcGx1Z2luOiBJbWFnZUxheW91dHNQbHVnaW4sXG4gIGNvbHVtbnM6IG51bWJlclxuKSB7XG4gIGNvbnN0IG0gPSBwYXJzZUZyb250TWF0dGVyQmxvY2s8e1xuICAgIGNhcHRpb24/OiBzdHJpbmc7XG4gICAgZGVzY3JpcHRpb25zPzogc3RyaW5nW107XG4gICAgcGVybWFuZW50T3ZlcmxheT86IGJvb2xlYW47XG4gIH0+KHNvdXJjZSk7XG4gIGNvbnN0IGltYWdlcyA9IGdldEltYWdlcyhtLmJvZHkpO1xuICBjb25zdCByZWFkeUltYWdlcyA9IHJlc29sdmVMb2NhbEltYWdlcyhpbWFnZXMsIGN0eCwgcGx1Z2luKTtcbiAgbmV3IExlZ2FjeU1hc29ucnlMYXlvdXQoe1xuICAgIHRhcmdldDogcGFyZW50LFxuICAgIHByb3BzOiB7XG4gICAgICBjYXB0aW9uOiBtLmRhdGE/LmNhcHRpb24gPz8gXCJcIixcbiAgICAgIGRlc2NyaXB0aW9uczogbS5kYXRhPy5kZXNjcmlwdGlvbnMsXG4gICAgICBjb2x1bW5zOiBjb2x1bW5zLFxuICAgICAgaW1hZ2VzOiByZWFkeUltYWdlcyxcbiAgICAgIHBlcm1hbmVudE92ZXJsYXk6XG4gICAgICAgIG0uZGF0YT8ucGVybWFuZW50T3ZlcmxheSA/PyBwbHVnaW4uc2V0dGluZ3Muc2hvdWxkT3ZlcmxheVBlcm1hbmVudGx5LFxuICAgIH0sXG4gIH0pO1xufVxuIiwiPGRpdiBjbGFzcz1cImltYWdlLWxheW91dHNcIj5cbiAgPHNsb3QgLz5cbjwvZGl2PlxuXG48c3R5bGU+XG4gIDpnbG9iYWwoLmltYWdlLWxheW91dHMgYnV0dG9uKSB7XG4gICAgYmFja2dyb3VuZC1jb2xvcjogdW5zZXQ7XG4gICAgYm94LXNoYWRvdzogdW5zZXQ7XG4gIH1cbjwvc3R5bGU+XG4iLCI8YnV0dG9uXG4gIG9uOmNsaWNrXG4gIGNsYXNzPVwicm91bmRlZC1mdWxsIGJnLWdyYXktNjAwIHAtMiB0ZXh0LXdoaXRlIHNoYWRvdy1zbSBob3ZlcjpiZy1ncmF5LTcwMCBmb2N1cy12aXNpYmxlOm91dGxpbmUgZm9jdXMtdmlzaWJsZTpvdXRsaW5lLTJcbiAgICAgIGZvY3VzLXZpc2libGU6b3V0bGluZS1vZmZzZXQtMiBmb2N1cy12aXNpYmxlOm91dGxpbmUtYmctZ3JheS02MDAgdy0xMCBoLTEwXCJcbj5cbiAgPHNsb3QgLz5cbjwvYnV0dG9uPlxuXG48c3R5bGU+XG4gIGJ1dHRvbiB7XG4gICAgLS11bi1zaGFkb3c6IHZhcigtLXVuLXNoYWRvdy1pbnNldCkgMCAxcHggMnB4IDBcbiAgICAgIHZhcigtLXVuLXNoYWRvdy1jb2xvciwgcmdiKDAgMCAwIC8gMC4wNSkpO1xuICAgIGJveC1zaGFkb3c6IHZhcigtLXVuLXJpbmctb2Zmc2V0LXNoYWRvdyksIHZhcigtLXVuLXJpbmctc2hhZG93KSxcbiAgICAgIHZhcigtLXVuLXNoYWRvdyk7XG4gICAgLS11bi1iZy1vcGFjaXR5OiAxO1xuICAgIGJhY2tncm91bmQtY29sb3I6IHJnYig3NSA4NSA5OSAvIHZhcigtLXVuLWJnLW9wYWNpdHkpKTtcbiAgfVxuPC9zdHlsZT5cbiIsIjxzY3JpcHQ+XG4gIGltcG9ydCBDYXJvdXNlbEJ1dHRvbiBmcm9tIFwiLi9DYXJvdXNlbEJ1dHRvbi5zdmVsdGVcIjtcbjwvc2NyaXB0PlxuXG48Q2Fyb3VzZWxCdXR0b24gb246Y2xpY2s+XG4gIDxzdmdcbiAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICBmaWxsPVwibm9uZVwiXG4gICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgc3Ryb2tlLXdpZHRoPVwiMS41XCJcbiAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgIGNsYXNzPVwidy02IGgtNlwiXG4gID5cbiAgICA8cGF0aFxuICAgICAgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiXG4gICAgICBkPVwiTTEzLjUgNC41IDIxIDEybTAgMC03LjUgNy41TTIxIDEySDNcIlxuICAgIC8+XG4gIDwvc3ZnPlxuPC9DYXJvdXNlbEJ1dHRvbj5cbiIsIjxzY3JpcHQ+XG4gIGV4cG9ydCBsZXQgY3VycmVudCA9IGZhbHNlO1xuPC9zY3JpcHQ+XG5cbjxidXR0b25cbiAgdHlwZT1cImJ1dHRvblwiXG4gIGNsYXNzPXtgdy0zIGgtMyByb3VuZGVkLWZ1bGwgJHtjdXJyZW50ICYmIFwiY3VycmVudFwifWB9XG4gIGFyaWEtY3VycmVudD17Y3VycmVudCA/IFwidHJ1ZVwiIDogXCJmYWxzZVwifVxuPjwvYnV0dG9uPlxuXG48c3R5bGU+XG4gIGJ1dHRvbi5jdXJyZW50IHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjNGI1NTYzO1xuICB9XG5cbiAgYnV0dG9uIHtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgfVxuPC9zdHlsZT5cbiIsIjxzY3JpcHQ+XG4gIGltcG9ydCBDYXJvdXNlbEJ1dHRvbiBmcm9tIFwiLi9DYXJvdXNlbEJ1dHRvbi5zdmVsdGVcIjtcbjwvc2NyaXB0PlxuXG48Q2Fyb3VzZWxCdXR0b24gb246Y2xpY2s+XG4gIDxzdmdcbiAgICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcbiAgICBmaWxsPVwibm9uZVwiXG4gICAgdmlld0JveD1cIjAgMCAyNCAyNFwiXG4gICAgc3Ryb2tlLXdpZHRoPVwiMS41XCJcbiAgICBzdHJva2U9XCJjdXJyZW50Q29sb3JcIlxuICAgIGNsYXNzPVwidy02IGgtNlwiXG4gID5cbiAgICA8cGF0aFxuICAgICAgc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiXG4gICAgICBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiXG4gICAgICBkPVwiTTEwLjUgMTkuNSAzIDEybTAgMCA3LjUtNy41TTMgMTJoMThcIlxuICAgIC8+XG4gIDwvc3ZnPlxuPC9DYXJvdXNlbEJ1dHRvbj5cbiIsIjxzY3JpcHQgbGFuZz1cInRzXCI+XG4gIGltcG9ydCBJbWFnZUxheW91dHMgZnJvbSBcIi4vSW1hZ2VMYXlvdXRzLnN2ZWx0ZVwiO1xuICBpbXBvcnQgTmV4dEJ1dHRvbiBmcm9tIFwiLi9OZXh0QnV0dG9uLnN2ZWx0ZVwiO1xuICBpbXBvcnQgUGlsbEJ1dHRvbiBmcm9tIFwiLi9QaWxsQnV0dG9uLnN2ZWx0ZVwiO1xuICBpbXBvcnQgUHJldkJ1dHRvbiBmcm9tIFwiLi9QcmV2QnV0dG9uLnN2ZWx0ZVwiO1xuXG4gIGxldCBpZHggPSAwO1xuICBleHBvcnQgbGV0IGltYWdlVXJsczogc3RyaW5nW107IC8vIHJlcGxhY2Ugd2l0aCBhY3R1YWwgaW1hZ2UgdXJsc1xuICBleHBvcnQgbGV0IHNob3dUaHVtYm5haWxzOiBib29sZWFuID0gZmFsc2U7XG5cbiAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICBpZiAoaWR4IDwgaW1hZ2VVcmxzLmxlbmd0aCAtIDEpIHtcbiAgICAgIGlkeCArPSAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZHggPSAwOyAvLyBMb29wIGJhY2sgdG8gdGhlIGZpcnN0IGltYWdlXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcHJldigpIHtcbiAgICBpZiAoaWR4ID4gMCkge1xuICAgICAgaWR4IC09IDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlkeCA9IGltYWdlVXJscy5sZW5ndGggLSAxOyAvLyBMb29wIGJhY2sgdG8gdGhlIGxhc3QgaW1hZ2VcbiAgICB9XG4gIH1cbjwvc2NyaXB0PlxuXG48SW1hZ2VMYXlvdXRzPlxuICA8ZGl2IGNsYXNzPVwicHgtMiBtZDpweC04IGJnLWJsYWNrIGZsZXggZmxleC1jb2wgZ2FwLXktMiBjdXJzb3ItZGVmYXVsdFwiPlxuICAgIDxkaXZcbiAgICAgIGNsYXNzPVwicmVsYXRpdmUgcHktMiBmbGV4IHctZnVsbCBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1sZyBoLTU2IG1kOmgtOTYgaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyXCJcbiAgICA+XG4gICAgICA8aW1nXG4gICAgICAgIHNyYz17aW1hZ2VVcmxzW2lkeF19XG4gICAgICAgIGNsYXNzPVwib2JqZWN0LWNlbnRlciBvYmplY3QtY29udGFpbiBoLWZ1bGxcIlxuICAgICAgICBhbHQ9e2BJbWFnZSAke2lkeCArIDF9YH1cbiAgICAgIC8+XG4gICAgICA8ZGl2XG4gICAgICAgIGNsYXNzPVwiYWJzb2x1dGUgbXgtOCBmbGV4IGgtZnVsbCB3LWZ1bGwganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlciB6LTMwXCJcbiAgICAgID5cbiAgICAgICAgPFByZXZCdXR0b24gb246Y2xpY2s9e3ByZXZ9IC8+XG4gICAgICAgIDxOZXh0QnV0dG9uIG9uOmNsaWNrPXtuZXh0fSAvPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwidy1mdWxsIG1iLTJcIj5cbiAgICAgIHsjaWYgc2hvd1RodW1ibmFpbHN9XG4gICAgICAgIDxkaXZcbiAgICAgICAgICBjbGFzcz1cIm92ZXJmbG93LXgtYXV0byBvdmVyZmxvdy15LWhpZGRlbiB3aGl0ZXNwYWNlLW5vd3JhcCB0b3VjaC1wYW4teCBzY3JvbGwtc25hcC14IHNjcm9sbGJhci1oaWRlXCJcbiAgICAgICAgICBvbjp0b3VjaG1vdmU9eyhlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBjb25zdCBzbGlkZSA9IGUudGFyZ2V0VG91Y2hlc1swXS5jbGllbnRYO1xuICAgICAgICAgICAgaWYgKGU/LnRhcmdldD8uc2Nyb2xsTGVmdCkge1xuICAgICAgICAgICAgICBlLnRhcmdldC5zY3JvbGxMZWZ0ICs9IHNsaWRlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH19XG4gICAgICAgID5cbiAgICAgICAgICB7I2VhY2ggaW1hZ2VVcmxzIGFzIGltYWdlVXJsLCBpfVxuICAgICAgICAgICAgPGRpdlxuICAgICAgICAgICAgICBjbGFzcz1cImlubGluZS1ibG9jayB3LTI0IGgtMTYgc2Nyb2xsLXNuYXAtYWxpZ24tc3RhcnQgbXItMiBtYi0yXCJcbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPGltZ1xuICAgICAgICAgICAgICAgIHNyYz17aW1hZ2VVcmx9XG4gICAgICAgICAgICAgICAgY2xhc3M9XCJ3LWZ1bGwgaC1mdWxsIG9iamVjdC1jb3ZlciByb3VuZGVkLW1kXCJcbiAgICAgICAgICAgICAgICBhbHQ9e2BUaHVtYm5haWwgJHtpICsgMX1gfVxuICAgICAgICAgICAgICAgIG9uOmNsaWNrPXsoKSA9PiAoaWR4ID0gaSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICB7L2VhY2h9XG4gICAgICAgIDwvZGl2PlxuICAgICAgezplbHNlfVxuICAgICAgICA8ZGl2XG4gICAgICAgICAgY2xhc3M9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciBzcGFjZS14LTMgcnRsOnNwYWNlLXgtcmV2ZXJzZVwiXG4gICAgICAgID5cbiAgICAgICAgICB7I2VhY2ggaW1hZ2VVcmxzIGFzIF8sIGl9XG4gICAgICAgICAgICA8UGlsbEJ1dHRvbiBjdXJyZW50PXtpZHggPT09IGl9IG9uOmNsaWNrPXsoKSA9PiAoaWR4ID0gaSl9IC8+XG4gICAgICAgICAgey9lYWNofVxuICAgICAgICA8L2Rpdj5cbiAgICAgIHsvaWZ9XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC9JbWFnZUxheW91dHM+XG4iLCI8c2NyaXB0IGxhbmc9XCJ0c1wiPlxuICBpbXBvcnQgeyBjcmVhdGVFdmVudERpc3BhdGNoZXIgfSBmcm9tIFwic3ZlbHRlXCI7XG4gIGltcG9ydCB0eXBlIHsgTGF5b3V0VHlwZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzXCI7XG4gIGNvbnN0IGRpc3BhdGNoID0gY3JlYXRlRXZlbnREaXNwYXRjaGVyKCk7XG5cbiAgYXN5bmMgZnVuY3Rpb24gc2VsZWN0TGF5b3V0KFxuICAgIGV2ZW50OiBLZXlib2FyZEV2ZW50IHwgTW91c2VFdmVudCxcbiAgICBsYXlvdXQ6IExheW91dFR5cGUgfCBcImNhcm91c2VsXCIsXG4gICAgcGFyYW1zPzogYW55XG4gICkge1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgYXdhaXQgZGlzcGF0Y2goXCJsYXlvdXQtc2VsZWN0ZWRcIiwge1xuICAgICAgdHlwZTogbGF5b3V0LFxuICAgICAgcGFyYW1zLFxuICAgIH0pO1xuICB9XG48L3NjcmlwdD5cblxuPGRpdiBjbGFzcz1cInAtNCBiZy1ncmF5LTUwXCI+XG4gIDxkaXYgY2xhc3M9XCJ0ZXh0LWJhc2UgZm9udC1zZW1pYm9sZCBsZWFkaW5nLTYgdGV4dC1ncmF5LTkwMFwiPlxuICAgIFNlbGVjdCBhbiBpbWFnZSBsYXlvdXRcbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJ0ZXh0LXhzIGZvbnQtbm9ybWFsIGxlYWRpbmctNiB0ZXh0LWdyYXktOTAwXCI+XG4gICAgTW9yZSBsYXlvdXRzIGNvbWluZyBzb29uXG4gIDwvZGl2PlxuXG4gIDxkaXYgY2xhc3M9XCJtdC00IGdyaWQgZ3JpZC1jb2xzLTEgZ2FwLXktNiBzbTpncmlkLWNvbHMtMyBzbTpnYXAteC00XCI+XG4gICAgPGxhYmVsXG4gICAgICBjbGFzcz1cInJlbGF0aXZlIGZsZXggY3Vyc29yLXBvaW50ZXIgcm91bmRlZC1sZyBib3JkZXIgYmctd2hpdGUgcC00IHNoYWRvdy1zbSBmb2N1czpvdXRsaW5lLW5vbmVcIlxuICAgICAgb246Y2xpY2s9eyhldmVudCkgPT4gc2VsZWN0TGF5b3V0KGV2ZW50LCBcImNhcm91c2VsXCIpfVxuICAgICAgb246a2V5ZG93bj17KGV2ZW50KSA9PiBzZWxlY3RMYXlvdXQoZXZlbnQsIFwiY2Fyb3VzZWxcIil9XG4gICAgPlxuICAgICAgPGlucHV0XG4gICAgICAgIHR5cGU9XCJyYWRpb1wiXG4gICAgICAgIG5hbWU9XCJwcm9qZWN0LXR5cGVcIlxuICAgICAgICB2YWx1ZT1cIkNhcm91c2VsXCJcbiAgICAgICAgY2xhc3M9XCJzci1vbmx5XCJcbiAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicHJvamVjdC10eXBlLTAtbGFiZWxcIlxuICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwicHJvamVjdC10eXBlLTAtZGVzY3JpcHRpb24tMCBwcm9qZWN0LXR5cGUtMC1kZXNjcmlwdGlvbi0xXCJcbiAgICAgIC8+XG4gICAgICA8c3BhbiBjbGFzcz1cImZsZXggZmxleC0xXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBpZD1cInByb2plY3QtdHlwZS0wLWxhYmVsXCJcbiAgICAgICAgICAgIGNsYXNzPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCI+Q2Fyb3VzZWw8L3NwYW5cbiAgICAgICAgICA+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGlkPVwicHJvamVjdC10eXBlLTAtZGVzY3JpcHRpb24tMFwiXG4gICAgICAgICAgICBjbGFzcz1cIm10LTEgZmxleCBpdGVtcy1jZW50ZXIgdGV4dC1zbSB0ZXh0LWdyYXktNTAwXCJcbiAgICAgICAgICAgID5XaXRob3V0IHRodW1ibmFpbHMuIFNpbXBsZSBwaWxscyBhbmQgc2xpZGVyPC9zcGFuXG4gICAgICAgICAgPlxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L3NwYW4+XG4gICAgICA8c3ZnXG4gICAgICAgIGNsYXNzPVwiaC01IHctNSB0ZXh0LWluZGlnby02MDBcIlxuICAgICAgICB2aWV3Qm94PVwiMCAwIDIwIDIwXCJcbiAgICAgICAgZmlsbD1cImN1cnJlbnRDb2xvclwiXG4gICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgICA+XG4gICAgICAgIDxwYXRoXG4gICAgICAgICAgZmlsbC1ydWxlPVwiZXZlbm9kZFwiXG4gICAgICAgICAgZD1cIk0xMCAxOGE4IDggMCAxMDAtMTYgOCA4IDAgMDAwIDE2em0zLjg1Ny05LjgwOWEuNzUuNzUgMCAwMC0xLjIxNC0uODgybC0zLjQ4MyA0Ljc5LTEuODgtMS44OGEuNzUuNzUgMCAxMC0xLjA2IDEuMDYxbDIuNSAyLjVhLjc1Ljc1IDAgMDAxLjEzNy0uMDg5bDQtNS41elwiXG4gICAgICAgICAgY2xpcC1ydWxlPVwiZXZlbm9kZFwiXG4gICAgICAgIC8+XG4gICAgICA8L3N2Zz5cbiAgICAgIDxzcGFuXG4gICAgICAgIGNsYXNzPVwicG9pbnRlci1ldmVudHMtbm9uZSBhYnNvbHV0ZSAtaW5zZXQtcHggcm91bmRlZC1sZyBib3JkZXItMlwiXG4gICAgICAgIGFyaWEtaGlkZGVuPVwidHJ1ZVwiXG4gICAgICA+PC9zcGFuPlxuICAgIDwvbGFiZWw+XG4gICAgPGxhYmVsXG4gICAgICBjbGFzcz1cInJlbGF0aXZlIGZsZXggY3Vyc29yLXBvaW50ZXIgcm91bmRlZC1sZyBib3JkZXIgYmctd2hpdGUgcC00IHNoYWRvdy1zbSBmb2N1czpvdXRsaW5lLW5vbmVcIlxuICAgICAgb246Y2xpY2s9eyhldmVudCkgPT5cbiAgICAgICAgc2VsZWN0TGF5b3V0KGV2ZW50LCBcImNhcm91c2VsXCIsIHsgc2hvd1RodW1ibmFpbHM6IHRydWUgfSl9XG4gICAgICBvbjprZXlkb3duPXsoZXZlbnQpID0+XG4gICAgICAgIHNlbGVjdExheW91dChldmVudCwgXCJjYXJvdXNlbFwiLCB7IHNob3dUaHVtYm5haWxzOiB0cnVlIH0pfVxuICAgID5cbiAgICAgIDxpbnB1dFxuICAgICAgICB0eXBlPVwicmFkaW9cIlxuICAgICAgICBuYW1lPVwicHJvamVjdC10eXBlXCJcbiAgICAgICAgdmFsdWU9XCJjYXJvdXNlbC10aHVtYm5haWxzXCJcbiAgICAgICAgY2xhc3M9XCJzci1vbmx5XCJcbiAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwicHJvamVjdC10eXBlLTEtbGFiZWxcIlxuICAgICAgICBhcmlhLWRlc2NyaWJlZGJ5PVwicHJvamVjdC10eXBlLTEtZGVzY3JpcHRpb24tMCBwcm9qZWN0LXR5cGUtMS1kZXNjcmlwdGlvbi0xXCJcbiAgICAgIC8+XG4gICAgICA8c3BhbiBjbGFzcz1cImZsZXggZmxleC0xXCI+XG4gICAgICAgIDxzcGFuIGNsYXNzPVwiZmxleCBmbGV4LWNvbFwiPlxuICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICBpZD1cInByb2plY3QtdHlwZS0xLWxhYmVsXCJcbiAgICAgICAgICAgIGNsYXNzPVwiYmxvY2sgdGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwXCI+Q2Fyb3VzZWw8L3NwYW5cbiAgICAgICAgICA+XG4gICAgICAgICAgPHNwYW5cbiAgICAgICAgICAgIGlkPVwicHJvamVjdC10eXBlLTEtZGVzY3JpcHRpb24tMFwiXG4gICAgICAgICAgICBjbGFzcz1cIm10LTEgZmxleCBpdGVtcy1jZW50ZXIgdGV4dC1zbSB0ZXh0LWdyYXktNTAwXCJcbiAgICAgICAgICAgID5XaXRoIHRodW1ibmFpbHM8L3NwYW5cbiAgICAgICAgICA+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIDwvc3Bhbj5cbiAgICAgIDxzdmdcbiAgICAgICAgY2xhc3M9XCJoLTUgdy01IHRleHQtaW5kaWdvLTYwMFwiXG4gICAgICAgIHZpZXdCb3g9XCIwIDAgMjAgMjBcIlxuICAgICAgICBmaWxsPVwiY3VycmVudENvbG9yXCJcbiAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgID5cbiAgICAgICAgPHBhdGhcbiAgICAgICAgICBmaWxsLXJ1bGU9XCJldmVub2RkXCJcbiAgICAgICAgICBkPVwiTTEwIDE4YTggOCAwIDEwMC0xNiA4IDggMCAwMDAgMTZ6bTMuODU3LTkuODA5YS43NS43NSAwIDAwLTEuMjE0LS44ODJsLTMuNDgzIDQuNzktMS44OC0xLjg4YS43NS43NSAwIDEwLTEuMDYgMS4wNjFsMi41IDIuNWEuNzUuNzUgMCAwMDEuMTM3LS4wODlsNC01LjV6XCJcbiAgICAgICAgICBjbGlwLXJ1bGU9XCJldmVub2RkXCJcbiAgICAgICAgLz5cbiAgICAgIDwvc3ZnPlxuICAgICAgPHNwYW5cbiAgICAgICAgY2xhc3M9XCJwb2ludGVyLWV2ZW50cy1ub25lIGFic29sdXRlIC1pbnNldC1weCByb3VuZGVkLWxnIGJvcmRlci0yXCJcbiAgICAgICAgYXJpYS1oaWRkZW49XCJ0cnVlXCJcbiAgICAgID48L3NwYW4+XG4gICAgPC9sYWJlbD5cbiAgPC9kaXY+XG48L2Rpdj5cbiIsInZhciB0b1N0cmluZyA9IE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24ga2luZE9mKHZhbCkge1xuICBpZiAodmFsID09PSB2b2lkIDApIHJldHVybiAndW5kZWZpbmVkJztcbiAgaWYgKHZhbCA9PT0gbnVsbCkgcmV0dXJuICdudWxsJztcblxuICB2YXIgdHlwZSA9IHR5cGVvZiB2YWw7XG4gIGlmICh0eXBlID09PSAnYm9vbGVhbicpIHJldHVybiAnYm9vbGVhbic7XG4gIGlmICh0eXBlID09PSAnc3RyaW5nJykgcmV0dXJuICdzdHJpbmcnO1xuICBpZiAodHlwZSA9PT0gJ251bWJlcicpIHJldHVybiAnbnVtYmVyJztcbiAgaWYgKHR5cGUgPT09ICdzeW1ib2wnKSByZXR1cm4gJ3N5bWJvbCc7XG4gIGlmICh0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGlzR2VuZXJhdG9yRm4odmFsKSA/ICdnZW5lcmF0b3JmdW5jdGlvbicgOiAnZnVuY3Rpb24nO1xuICB9XG5cbiAgaWYgKGlzQXJyYXkodmFsKSkgcmV0dXJuICdhcnJheSc7XG4gIGlmIChpc0J1ZmZlcih2YWwpKSByZXR1cm4gJ2J1ZmZlcic7XG4gIGlmIChpc0FyZ3VtZW50cyh2YWwpKSByZXR1cm4gJ2FyZ3VtZW50cyc7XG4gIGlmIChpc0RhdGUodmFsKSkgcmV0dXJuICdkYXRlJztcbiAgaWYgKGlzRXJyb3IodmFsKSkgcmV0dXJuICdlcnJvcic7XG4gIGlmIChpc1JlZ2V4cCh2YWwpKSByZXR1cm4gJ3JlZ2V4cCc7XG5cbiAgc3dpdGNoIChjdG9yTmFtZSh2YWwpKSB7XG4gICAgY2FzZSAnU3ltYm9sJzogcmV0dXJuICdzeW1ib2wnO1xuICAgIGNhc2UgJ1Byb21pc2UnOiByZXR1cm4gJ3Byb21pc2UnO1xuXG4gICAgLy8gU2V0LCBNYXAsIFdlYWtTZXQsIFdlYWtNYXBcbiAgICBjYXNlICdXZWFrTWFwJzogcmV0dXJuICd3ZWFrbWFwJztcbiAgICBjYXNlICdXZWFrU2V0JzogcmV0dXJuICd3ZWFrc2V0JztcbiAgICBjYXNlICdNYXAnOiByZXR1cm4gJ21hcCc7XG4gICAgY2FzZSAnU2V0JzogcmV0dXJuICdzZXQnO1xuXG4gICAgLy8gOC1iaXQgdHlwZWQgYXJyYXlzXG4gICAgY2FzZSAnSW50OEFycmF5JzogcmV0dXJuICdpbnQ4YXJyYXknO1xuICAgIGNhc2UgJ1VpbnQ4QXJyYXknOiByZXR1cm4gJ3VpbnQ4YXJyYXknO1xuICAgIGNhc2UgJ1VpbnQ4Q2xhbXBlZEFycmF5JzogcmV0dXJuICd1aW50OGNsYW1wZWRhcnJheSc7XG5cbiAgICAvLyAxNi1iaXQgdHlwZWQgYXJyYXlzXG4gICAgY2FzZSAnSW50MTZBcnJheSc6IHJldHVybiAnaW50MTZhcnJheSc7XG4gICAgY2FzZSAnVWludDE2QXJyYXknOiByZXR1cm4gJ3VpbnQxNmFycmF5JztcblxuICAgIC8vIDMyLWJpdCB0eXBlZCBhcnJheXNcbiAgICBjYXNlICdJbnQzMkFycmF5JzogcmV0dXJuICdpbnQzMmFycmF5JztcbiAgICBjYXNlICdVaW50MzJBcnJheSc6IHJldHVybiAndWludDMyYXJyYXknO1xuICAgIGNhc2UgJ0Zsb2F0MzJBcnJheSc6IHJldHVybiAnZmxvYXQzMmFycmF5JztcbiAgICBjYXNlICdGbG9hdDY0QXJyYXknOiByZXR1cm4gJ2Zsb2F0NjRhcnJheSc7XG4gIH1cblxuICBpZiAoaXNHZW5lcmF0b3JPYmoodmFsKSkge1xuICAgIHJldHVybiAnZ2VuZXJhdG9yJztcbiAgfVxuXG4gIC8vIE5vbi1wbGFpbiBvYmplY3RzXG4gIHR5cGUgPSB0b1N0cmluZy5jYWxsKHZhbCk7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgJ1tvYmplY3QgT2JqZWN0XSc6IHJldHVybiAnb2JqZWN0JztcbiAgICAvLyBpdGVyYXRvcnNcbiAgICBjYXNlICdbb2JqZWN0IE1hcCBJdGVyYXRvcl0nOiByZXR1cm4gJ21hcGl0ZXJhdG9yJztcbiAgICBjYXNlICdbb2JqZWN0IFNldCBJdGVyYXRvcl0nOiByZXR1cm4gJ3NldGl0ZXJhdG9yJztcbiAgICBjYXNlICdbb2JqZWN0IFN0cmluZyBJdGVyYXRvcl0nOiByZXR1cm4gJ3N0cmluZ2l0ZXJhdG9yJztcbiAgICBjYXNlICdbb2JqZWN0IEFycmF5IEl0ZXJhdG9yXSc6IHJldHVybiAnYXJyYXlpdGVyYXRvcic7XG4gIH1cblxuICAvLyBvdGhlclxuICByZXR1cm4gdHlwZS5zbGljZSg4LCAtMSkudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9cXHMvZywgJycpO1xufTtcblxuZnVuY3Rpb24gY3Rvck5hbWUodmFsKSB7XG4gIHJldHVybiB0eXBlb2YgdmFsLmNvbnN0cnVjdG9yID09PSAnZnVuY3Rpb24nID8gdmFsLmNvbnN0cnVjdG9yLm5hbWUgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBpc0FycmF5KHZhbCkge1xuICBpZiAoQXJyYXkuaXNBcnJheSkgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsKTtcbiAgcmV0dXJuIHZhbCBpbnN0YW5jZW9mIEFycmF5O1xufVxuXG5mdW5jdGlvbiBpc0Vycm9yKHZhbCkge1xuICByZXR1cm4gdmFsIGluc3RhbmNlb2YgRXJyb3IgfHwgKHR5cGVvZiB2YWwubWVzc2FnZSA9PT0gJ3N0cmluZycgJiYgdmFsLmNvbnN0cnVjdG9yICYmIHR5cGVvZiB2YWwuY29uc3RydWN0b3Iuc3RhY2tUcmFjZUxpbWl0ID09PSAnbnVtYmVyJyk7XG59XG5cbmZ1bmN0aW9uIGlzRGF0ZSh2YWwpIHtcbiAgaWYgKHZhbCBpbnN0YW5jZW9mIERhdGUpIHJldHVybiB0cnVlO1xuICByZXR1cm4gdHlwZW9mIHZhbC50b0RhdGVTdHJpbmcgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgdmFsLmdldERhdGUgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgdmFsLnNldERhdGUgPT09ICdmdW5jdGlvbic7XG59XG5cbmZ1bmN0aW9uIGlzUmVnZXhwKHZhbCkge1xuICBpZiAodmFsIGluc3RhbmNlb2YgUmVnRXhwKSByZXR1cm4gdHJ1ZTtcbiAgcmV0dXJuIHR5cGVvZiB2YWwuZmxhZ3MgPT09ICdzdHJpbmcnXG4gICAgJiYgdHlwZW9mIHZhbC5pZ25vcmVDYXNlID09PSAnYm9vbGVhbidcbiAgICAmJiB0eXBlb2YgdmFsLm11bHRpbGluZSA9PT0gJ2Jvb2xlYW4nXG4gICAgJiYgdHlwZW9mIHZhbC5nbG9iYWwgPT09ICdib29sZWFuJztcbn1cblxuZnVuY3Rpb24gaXNHZW5lcmF0b3JGbihuYW1lLCB2YWwpIHtcbiAgcmV0dXJuIGN0b3JOYW1lKG5hbWUpID09PSAnR2VuZXJhdG9yRnVuY3Rpb24nO1xufVxuXG5mdW5jdGlvbiBpc0dlbmVyYXRvck9iaih2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwudGhyb3cgPT09ICdmdW5jdGlvbidcbiAgICAmJiB0eXBlb2YgdmFsLnJldHVybiA9PT0gJ2Z1bmN0aW9uJ1xuICAgICYmIHR5cGVvZiB2YWwubmV4dCA9PT0gJ2Z1bmN0aW9uJztcbn1cblxuZnVuY3Rpb24gaXNBcmd1bWVudHModmFsKSB7XG4gIHRyeSB7XG4gICAgaWYgKHR5cGVvZiB2YWwubGVuZ3RoID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgdmFsLmNhbGxlZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICBpZiAoZXJyLm1lc3NhZ2UuaW5kZXhPZignY2FsbGVlJykgIT09IC0xKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIElmIHlvdSBuZWVkIHRvIHN1cHBvcnQgU2FmYXJpIDUtNyAoOC0xMCB5ci1vbGQgYnJvd3NlciksXG4gKiB0YWtlIGEgbG9vayBhdCBodHRwczovL2dpdGh1Yi5jb20vZmVyb3NzL2lzLWJ1ZmZlclxuICovXG5cbmZ1bmN0aW9uIGlzQnVmZmVyKHZhbCkge1xuICBpZiAodmFsLmNvbnN0cnVjdG9yICYmIHR5cGVvZiB2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdmFsLmNvbnN0cnVjdG9yLmlzQnVmZmVyKHZhbCk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuIiwiLyohXG4gKiBpcy1leHRlbmRhYmxlIDxodHRwczovL2dpdGh1Yi5jb20vam9uc2NobGlua2VydC9pcy1leHRlbmRhYmxlPlxuICpcbiAqIENvcHlyaWdodCAoYykgMjAxNSwgSm9uIFNjaGxpbmtlcnQuXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuXG4gKi9cblxuJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGlzRXh0ZW5kYWJsZSh2YWwpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWwgIT09ICd1bmRlZmluZWQnICYmIHZhbCAhPT0gbnVsbFxuICAgICYmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyB8fCB0eXBlb2YgdmFsID09PSAnZnVuY3Rpb24nKTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBpc09iamVjdCA9IHJlcXVpcmUoJ2lzLWV4dGVuZGFibGUnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBleHRlbmQoby8qLCBvYmplY3RzKi8pIHtcbiAgaWYgKCFpc09iamVjdChvKSkgeyBvID0ge307IH1cblxuICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBvYmogPSBhcmd1bWVudHNbaV07XG5cbiAgICBpZiAoaXNPYmplY3Qob2JqKSkge1xuICAgICAgYXNzaWduKG8sIG9iaik7XG4gICAgfVxuICB9XG4gIHJldHVybiBvO1xufTtcblxuZnVuY3Rpb24gYXNzaWduKGEsIGIpIHtcbiAgZm9yICh2YXIga2V5IGluIGIpIHtcbiAgICBpZiAoaGFzT3duKGIsIGtleSkpIHtcbiAgICAgIGFba2V5XSA9IGJba2V5XTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGdpdmVuIGBrZXlgIGlzIGFuIG93biBwcm9wZXJ0eSBvZiBgb2JqYC5cbiAqL1xuXG5mdW5jdGlvbiBoYXNPd24ob2JqLCBrZXkpIHtcbiAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciB0eXBlT2YgPSByZXF1aXJlKCdraW5kLW9mJyk7XG52YXIgZXh0ZW5kID0gcmVxdWlyZSgnZXh0ZW5kLXNoYWxsb3cnKTtcblxuLyoqXG4gKiBQYXJzZSBzZWN0aW9ucyBpbiBgaW5wdXRgIHdpdGggdGhlIGdpdmVuIGBvcHRpb25zYC5cbiAqXG4gKiBgYGBqc1xuICogdmFyIHNlY3Rpb25zID0gcmVxdWlyZSgneyU9IG5hbWUgJX0nKTtcbiAqIHZhciByZXN1bHQgPSBzZWN0aW9ucyhpbnB1dCwgb3B0aW9ucyk7XG4gKiAvLyB7IGNvbnRlbnQ6ICdDb250ZW50IGJlZm9yZSBzZWN0aW9ucycsIHNlY3Rpb25zOiBbXSB9XG4gKiBgYGBcbiAqIEBwYXJhbSB7U3RyaW5nfEJ1ZmZlcnxPYmplY3R9IGBpbnB1dGAgSWYgaW5wdXQgaXMgYW4gb2JqZWN0LCBpdCdzIGBjb250ZW50YCBwcm9wZXJ0eSBtdXN0IGJlIGEgc3RyaW5nIG9yIGJ1ZmZlci5cbiAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgYW4gb2JqZWN0IHdpdGggYSBgY29udGVudGAgc3RyaW5nIGFuZCBhbiBhcnJheSBvZiBgc2VjdGlvbnNgIG9iamVjdHMuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oaW5wdXQsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0aW9ucyA9IHsgcGFyc2U6IG9wdGlvbnMgfTtcbiAgfVxuXG4gIHZhciBmaWxlID0gdG9PYmplY3QoaW5wdXQpO1xuICB2YXIgZGVmYXVsdHMgPSB7c2VjdGlvbl9kZWxpbWl0ZXI6ICctLS0nLCBwYXJzZTogaWRlbnRpdHl9O1xuICB2YXIgb3B0cyA9IGV4dGVuZCh7fSwgZGVmYXVsdHMsIG9wdGlvbnMpO1xuICB2YXIgZGVsaW0gPSBvcHRzLnNlY3Rpb25fZGVsaW1pdGVyO1xuICB2YXIgbGluZXMgPSBmaWxlLmNvbnRlbnQuc3BsaXQoL1xccj9cXG4vKTtcbiAgdmFyIHNlY3Rpb25zID0gbnVsbDtcbiAgdmFyIHNlY3Rpb24gPSBjcmVhdGVTZWN0aW9uKCk7XG4gIHZhciBjb250ZW50ID0gW107XG4gIHZhciBzdGFjayA9IFtdO1xuXG4gIGZ1bmN0aW9uIGluaXRTZWN0aW9ucyh2YWwpIHtcbiAgICBmaWxlLmNvbnRlbnQgPSB2YWw7XG4gICAgc2VjdGlvbnMgPSBbXTtcbiAgICBjb250ZW50ID0gW107XG4gIH1cblxuICBmdW5jdGlvbiBjbG9zZVNlY3Rpb24odmFsKSB7XG4gICAgaWYgKHN0YWNrLmxlbmd0aCkge1xuICAgICAgc2VjdGlvbi5rZXkgPSBnZXRLZXkoc3RhY2tbMF0sIGRlbGltKTtcbiAgICAgIHNlY3Rpb24uY29udGVudCA9IHZhbDtcbiAgICAgIG9wdHMucGFyc2Uoc2VjdGlvbiwgc2VjdGlvbnMpO1xuICAgICAgc2VjdGlvbnMucHVzaChzZWN0aW9uKTtcbiAgICAgIHNlY3Rpb24gPSBjcmVhdGVTZWN0aW9uKCk7XG4gICAgICBjb250ZW50ID0gW107XG4gICAgICBzdGFjayA9IFtdO1xuICAgIH1cbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgbGluZSA9IGxpbmVzW2ldO1xuICAgIHZhciBsZW4gPSBzdGFjay5sZW5ndGg7XG4gICAgdmFyIGxuID0gbGluZS50cmltKCk7XG5cbiAgICBpZiAoaXNEZWxpbWl0ZXIobG4sIGRlbGltKSkge1xuICAgICAgaWYgKGxuLmxlbmd0aCA9PT0gMyAmJiBpICE9PSAwKSB7XG4gICAgICAgIGlmIChsZW4gPT09IDAgfHwgbGVuID09PSAyKSB7XG4gICAgICAgICAgY29udGVudC5wdXNoKGxpbmUpO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHN0YWNrLnB1c2gobG4pO1xuICAgICAgICBzZWN0aW9uLmRhdGEgPSBjb250ZW50LmpvaW4oJ1xcbicpO1xuICAgICAgICBjb250ZW50ID0gW107XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoc2VjdGlvbnMgPT09IG51bGwpIHtcbiAgICAgICAgaW5pdFNlY3Rpb25zKGNvbnRlbnQuam9pbignXFxuJykpO1xuICAgICAgfVxuXG4gICAgICBpZiAobGVuID09PSAyKSB7XG4gICAgICAgIGNsb3NlU2VjdGlvbihjb250ZW50LmpvaW4oJ1xcbicpKTtcbiAgICAgIH1cblxuICAgICAgc3RhY2sucHVzaChsbik7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG5cbiAgICBjb250ZW50LnB1c2gobGluZSk7XG4gIH1cblxuICBpZiAoc2VjdGlvbnMgPT09IG51bGwpIHtcbiAgICBpbml0U2VjdGlvbnMoY29udGVudC5qb2luKCdcXG4nKSk7XG4gIH0gZWxzZSB7XG4gICAgY2xvc2VTZWN0aW9uKGNvbnRlbnQuam9pbignXFxuJykpO1xuICB9XG5cbiAgZmlsZS5zZWN0aW9ucyA9IHNlY3Rpb25zO1xuICByZXR1cm4gZmlsZTtcbn07XG5cbmZ1bmN0aW9uIGlzRGVsaW1pdGVyKGxpbmUsIGRlbGltKSB7XG4gIGlmIChsaW5lLnNsaWNlKDAsIGRlbGltLmxlbmd0aCkgIT09IGRlbGltKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGlmIChsaW5lLmNoYXJBdChkZWxpbS5sZW5ndGggKyAxKSA9PT0gZGVsaW0uc2xpY2UoLTEpKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG5mdW5jdGlvbiB0b09iamVjdChpbnB1dCkge1xuICBpZiAodHlwZU9mKGlucHV0KSAhPT0gJ29iamVjdCcpIHtcbiAgICBpbnB1dCA9IHsgY29udGVudDogaW5wdXQgfTtcbiAgfVxuXG4gIGlmICh0eXBlb2YgaW5wdXQuY29udGVudCAhPT0gJ3N0cmluZycgJiYgIWlzQnVmZmVyKGlucHV0LmNvbnRlbnQpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignZXhwZWN0ZWQgYSBidWZmZXIgb3Igc3RyaW5nJyk7XG4gIH1cblxuICBpbnB1dC5jb250ZW50ID0gaW5wdXQuY29udGVudC50b1N0cmluZygpO1xuICBpbnB1dC5zZWN0aW9ucyA9IFtdO1xuICByZXR1cm4gaW5wdXQ7XG59XG5cbmZ1bmN0aW9uIGdldEtleSh2YWwsIGRlbGltKSB7XG4gIHJldHVybiB2YWwgPyB2YWwuc2xpY2UoZGVsaW0ubGVuZ3RoKS50cmltKCkgOiAnJztcbn1cblxuZnVuY3Rpb24gY3JlYXRlU2VjdGlvbigpIHtcbiAgcmV0dXJuIHsga2V5OiAnJywgZGF0YTogJycsIGNvbnRlbnQ6ICcnIH07XG59XG5cbmZ1bmN0aW9uIGlkZW50aXR5KHZhbCkge1xuICByZXR1cm4gdmFsO1xufVxuXG5mdW5jdGlvbiBpc0J1ZmZlcih2YWwpIHtcbiAgaWYgKHZhbCAmJiB2YWwuY29uc3RydWN0b3IgJiYgdHlwZW9mIHZhbC5jb25zdHJ1Y3Rvci5pc0J1ZmZlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB2YWwuY29uc3RydWN0b3IuaXNCdWZmZXIodmFsKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHlhbWwgPSByZXF1aXJlKCdqcy15YW1sJyk7XG5cbi8qKlxuICogRGVmYXVsdCBlbmdpbmVzXG4gKi9cblxuY29uc3QgZW5naW5lcyA9IGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cztcblxuLyoqXG4gKiBZQU1MXG4gKi9cblxuZW5naW5lcy55YW1sID0ge1xuICBwYXJzZTogeWFtbC5zYWZlTG9hZC5iaW5kKHlhbWwpLFxuICBzdHJpbmdpZnk6IHlhbWwuc2FmZUR1bXAuYmluZCh5YW1sKVxufTtcblxuLyoqXG4gKiBKU09OXG4gKi9cblxuZW5naW5lcy5qc29uID0ge1xuICBwYXJzZTogSlNPTi5wYXJzZS5iaW5kKEpTT04pLFxuICBzdHJpbmdpZnk6IGZ1bmN0aW9uKG9iaiwgb3B0aW9ucykge1xuICAgIGNvbnN0IG9wdHMgPSBPYmplY3QuYXNzaWduKHtyZXBsYWNlcjogbnVsbCwgc3BhY2U6IDJ9LCBvcHRpb25zKTtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkob2JqLCBvcHRzLnJlcGxhY2VyLCBvcHRzLnNwYWNlKTtcbiAgfVxufTtcblxuLyoqXG4gKiBKYXZhU2NyaXB0XG4gKi9cblxuZW5naW5lcy5qYXZhc2NyaXB0ID0ge1xuICBwYXJzZTogZnVuY3Rpb24gcGFyc2Uoc3RyLCBvcHRpb25zLCB3cmFwKSB7XG4gICAgLyogZXNsaW50IG5vLWV2YWw6IDAgKi9cbiAgICB0cnkge1xuICAgICAgaWYgKHdyYXAgIT09IGZhbHNlKSB7XG4gICAgICAgIHN0ciA9ICcoZnVuY3Rpb24oKSB7XFxucmV0dXJuICcgKyBzdHIudHJpbSgpICsgJztcXG59KCkpOyc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZXZhbChzdHIpIHx8IHt9O1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgaWYgKHdyYXAgIT09IGZhbHNlICYmIC8odW5leHBlY3RlZHxpZGVudGlmaWVyKS9pLnRlc3QoZXJyLm1lc3NhZ2UpKSB7XG4gICAgICAgIHJldHVybiBwYXJzZShzdHIsIG9wdGlvbnMsIGZhbHNlKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBTeW50YXhFcnJvcihlcnIpO1xuICAgIH1cbiAgfSxcbiAgc3RyaW5naWZ5OiBmdW5jdGlvbigpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3N0cmluZ2lmeWluZyBKYXZhU2NyaXB0IGlzIG5vdCBzdXBwb3J0ZWQnKTtcbiAgfVxufTtcbiIsIi8qIVxuICogc3RyaXAtYm9tLXN0cmluZyA8aHR0cHM6Ly9naXRodWIuY29tL2pvbnNjaGxpbmtlcnQvc3RyaXAtYm9tLXN0cmluZz5cbiAqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTUsIDIwMTcsIEpvbiBTY2hsaW5rZXJ0LlxuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBMaWNlbnNlLlxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihzdHIpIHtcbiAgaWYgKHR5cGVvZiBzdHIgPT09ICdzdHJpbmcnICYmIHN0ci5jaGFyQXQoMCkgPT09ICdcXHVmZWZmJykge1xuICAgIHJldHVybiBzdHIuc2xpY2UoMSk7XG4gIH1cbiAgcmV0dXJuIHN0cjtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IHN0cmlwQm9tID0gcmVxdWlyZSgnc3RyaXAtYm9tLXN0cmluZycpO1xuY29uc3QgdHlwZU9mID0gcmVxdWlyZSgna2luZC1vZicpO1xuXG5leHBvcnRzLmRlZmluZSA9IGZ1bmN0aW9uKG9iaiwga2V5LCB2YWwpIHtcbiAgUmVmbGVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwge1xuICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZSxcbiAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICB2YWx1ZTogdmFsXG4gIH0pO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRydWUgaWYgYHZhbGAgaXMgYSBidWZmZXJcbiAqL1xuXG5leHBvcnRzLmlzQnVmZmVyID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiB0eXBlT2YodmFsKSA9PT0gJ2J1ZmZlcic7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiBgdmFsYCBpcyBhbiBvYmplY3RcbiAqL1xuXG5leHBvcnRzLmlzT2JqZWN0ID0gZnVuY3Rpb24odmFsKSB7XG4gIHJldHVybiB0eXBlT2YodmFsKSA9PT0gJ29iamVjdCc7XG59O1xuXG4vKipcbiAqIENhc3QgYGlucHV0YCB0byBhIGJ1ZmZlclxuICovXG5cbmV4cG9ydHMudG9CdWZmZXIgPSBmdW5jdGlvbihpbnB1dCkge1xuICByZXR1cm4gdHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyA/IEJ1ZmZlci5mcm9tKGlucHV0KSA6IGlucHV0O1xufTtcblxuLyoqXG4gKiBDYXN0IGB2YWxgIHRvIGEgc3RyaW5nLlxuICovXG5cbmV4cG9ydHMudG9TdHJpbmcgPSBmdW5jdGlvbihpbnB1dCkge1xuICBpZiAoZXhwb3J0cy5pc0J1ZmZlcihpbnB1dCkpIHJldHVybiBzdHJpcEJvbShTdHJpbmcoaW5wdXQpKTtcbiAgaWYgKHR5cGVvZiBpbnB1dCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleHBlY3RlZCBpbnB1dCB0byBiZSBhIHN0cmluZyBvciBidWZmZXInKTtcbiAgfVxuICByZXR1cm4gc3RyaXBCb20oaW5wdXQpO1xufTtcblxuLyoqXG4gKiBDYXN0IGB2YWxgIHRvIGFuIGFycmF5LlxuICovXG5cbmV4cG9ydHMuYXJyYXlpZnkgPSBmdW5jdGlvbih2YWwpIHtcbiAgcmV0dXJuIHZhbCA/IChBcnJheS5pc0FycmF5KHZhbCkgPyB2YWwgOiBbdmFsXSkgOiBbXTtcbn07XG5cbi8qKlxuICogUmV0dXJucyB0cnVlIGlmIGBzdHJgIHN0YXJ0cyB3aXRoIGBzdWJzdHJgLlxuICovXG5cbmV4cG9ydHMuc3RhcnRzV2l0aCA9IGZ1bmN0aW9uKHN0ciwgc3Vic3RyLCBsZW4pIHtcbiAgaWYgKHR5cGVvZiBsZW4gIT09ICdudW1iZXInKSBsZW4gPSBzdWJzdHIubGVuZ3RoO1xuICByZXR1cm4gc3RyLnNsaWNlKDAsIGxlbikgPT09IHN1YnN0cjtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGVuZ2luZXMgPSByZXF1aXJlKCcuL2VuZ2luZXMnKTtcbmNvbnN0IHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgY29uc3Qgb3B0cyA9IE9iamVjdC5hc3NpZ24oe30sIG9wdGlvbnMpO1xuXG4gIC8vIGVuc3VyZSB0aGF0IGRlbGltaXRlcnMgYXJlIGFuIGFycmF5XG4gIG9wdHMuZGVsaW1pdGVycyA9IHV0aWxzLmFycmF5aWZ5KG9wdHMuZGVsaW1zIHx8IG9wdHMuZGVsaW1pdGVycyB8fCAnLS0tJyk7XG4gIGlmIChvcHRzLmRlbGltaXRlcnMubGVuZ3RoID09PSAxKSB7XG4gICAgb3B0cy5kZWxpbWl0ZXJzLnB1c2gob3B0cy5kZWxpbWl0ZXJzWzBdKTtcbiAgfVxuXG4gIG9wdHMubGFuZ3VhZ2UgPSAob3B0cy5sYW5ndWFnZSB8fCBvcHRzLmxhbmcgfHwgJ3lhbWwnKS50b0xvd2VyQ2FzZSgpO1xuICBvcHRzLmVuZ2luZXMgPSBPYmplY3QuYXNzaWduKHt9LCBlbmdpbmVzLCBvcHRzLnBhcnNlcnMsIG9wdHMuZW5naW5lcyk7XG4gIHJldHVybiBvcHRzO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihuYW1lLCBvcHRpb25zKSB7XG4gIGxldCBlbmdpbmUgPSBvcHRpb25zLmVuZ2luZXNbbmFtZV0gfHwgb3B0aW9ucy5lbmdpbmVzW2FsaWFzZShuYW1lKV07XG4gIGlmICh0eXBlb2YgZW5naW5lID09PSAndW5kZWZpbmVkJykge1xuICAgIHRocm93IG5ldyBFcnJvcignZ3JheS1tYXR0ZXIgZW5naW5lIFwiJyArIG5hbWUgKyAnXCIgaXMgbm90IHJlZ2lzdGVyZWQnKTtcbiAgfVxuICBpZiAodHlwZW9mIGVuZ2luZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGVuZ2luZSA9IHsgcGFyc2U6IGVuZ2luZSB9O1xuICB9XG4gIHJldHVybiBlbmdpbmU7XG59O1xuXG5mdW5jdGlvbiBhbGlhc2UobmFtZSkge1xuICBzd2l0Y2ggKG5hbWUudG9Mb3dlckNhc2UoKSkge1xuICAgIGNhc2UgJ2pzJzpcbiAgICBjYXNlICdqYXZhc2NyaXB0JzpcbiAgICAgIHJldHVybiAnamF2YXNjcmlwdCc7XG4gICAgY2FzZSAnY29mZmVlJzpcbiAgICBjYXNlICdjb2ZmZWVzY3JpcHQnOlxuICAgIGNhc2UgJ2Nzb24nOlxuICAgICAgcmV0dXJuICdjb2ZmZWUnO1xuICAgIGNhc2UgJ3lhbWwnOlxuICAgIGNhc2UgJ3ltbCc6XG4gICAgICByZXR1cm4gJ3lhbWwnO1xuICAgIGRlZmF1bHQ6IHtcbiAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCB0eXBlT2YgPSByZXF1aXJlKCdraW5kLW9mJyk7XG5jb25zdCBnZXRFbmdpbmUgPSByZXF1aXJlKCcuL2VuZ2luZScpO1xuY29uc3QgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2RlZmF1bHRzJyk7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24oZmlsZSwgZGF0YSwgb3B0aW9ucykge1xuICBpZiAoZGF0YSA9PSBudWxsICYmIG9wdGlvbnMgPT0gbnVsbCkge1xuICAgIHN3aXRjaCAodHlwZU9mKGZpbGUpKSB7XG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICBkYXRhID0gZmlsZS5kYXRhO1xuICAgICAgICBvcHRpb25zID0ge307XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgcmV0dXJuIGZpbGU7XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2V4cGVjdGVkIGZpbGUgdG8gYmUgYSBzdHJpbmcgb3Igb2JqZWN0Jyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc3RyID0gZmlsZS5jb250ZW50O1xuICBjb25zdCBvcHRzID0gZGVmYXVsdHMob3B0aW9ucyk7XG4gIGlmIChkYXRhID09IG51bGwpIHtcbiAgICBpZiAoIW9wdHMuZGF0YSkgcmV0dXJuIGZpbGU7XG4gICAgZGF0YSA9IG9wdHMuZGF0YTtcbiAgfVxuXG4gIGNvbnN0IGxhbmd1YWdlID0gZmlsZS5sYW5ndWFnZSB8fCBvcHRzLmxhbmd1YWdlO1xuICBjb25zdCBlbmdpbmUgPSBnZXRFbmdpbmUobGFuZ3VhZ2UsIG9wdHMpO1xuICBpZiAodHlwZW9mIGVuZ2luZS5zdHJpbmdpZnkgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleHBlY3RlZCBcIicgKyBsYW5ndWFnZSArICcuc3RyaW5naWZ5XCIgdG8gYmUgYSBmdW5jdGlvbicpO1xuICB9XG5cbiAgZGF0YSA9IE9iamVjdC5hc3NpZ24oe30sIGZpbGUuZGF0YSwgZGF0YSk7XG4gIGNvbnN0IG9wZW4gPSBvcHRzLmRlbGltaXRlcnNbMF07XG4gIGNvbnN0IGNsb3NlID0gb3B0cy5kZWxpbWl0ZXJzWzFdO1xuICBjb25zdCBtYXR0ZXIgPSBlbmdpbmUuc3RyaW5naWZ5KGRhdGEsIG9wdGlvbnMpLnRyaW0oKTtcbiAgbGV0IGJ1ZiA9ICcnO1xuXG4gIGlmIChtYXR0ZXIgIT09ICd7fScpIHtcbiAgICBidWYgPSBuZXdsaW5lKG9wZW4pICsgbmV3bGluZShtYXR0ZXIpICsgbmV3bGluZShjbG9zZSk7XG4gIH1cblxuICBpZiAodHlwZW9mIGZpbGUuZXhjZXJwdCA9PT0gJ3N0cmluZycgJiYgZmlsZS5leGNlcnB0ICE9PSAnJykge1xuICAgIGlmIChzdHIuaW5kZXhPZihmaWxlLmV4Y2VycHQudHJpbSgpKSA9PT0gLTEpIHtcbiAgICAgIGJ1ZiArPSBuZXdsaW5lKGZpbGUuZXhjZXJwdCkgKyBuZXdsaW5lKGNsb3NlKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gYnVmICsgbmV3bGluZShzdHIpO1xufTtcblxuZnVuY3Rpb24gbmV3bGluZShzdHIpIHtcbiAgcmV0dXJuIHN0ci5zbGljZSgtMSkgIT09ICdcXG4nID8gc3RyICsgJ1xcbicgOiBzdHI7XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGRlZmF1bHRzID0gcmVxdWlyZSgnLi9kZWZhdWx0cycpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZpbGUsIG9wdGlvbnMpIHtcbiAgY29uc3Qgb3B0cyA9IGRlZmF1bHRzKG9wdGlvbnMpO1xuXG4gIGlmIChmaWxlLmRhdGEgPT0gbnVsbCkge1xuICAgIGZpbGUuZGF0YSA9IHt9O1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRzLmV4Y2VycHQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gb3B0cy5leGNlcnB0KGZpbGUsIG9wdHMpO1xuICB9XG5cbiAgY29uc3Qgc2VwID0gZmlsZS5kYXRhLmV4Y2VycHRfc2VwYXJhdG9yIHx8IG9wdHMuZXhjZXJwdF9zZXBhcmF0b3I7XG4gIGlmIChzZXAgPT0gbnVsbCAmJiAob3B0cy5leGNlcnB0ID09PSBmYWxzZSB8fCBvcHRzLmV4Y2VycHQgPT0gbnVsbCkpIHtcbiAgICByZXR1cm4gZmlsZTtcbiAgfVxuXG4gIGNvbnN0IGRlbGltaXRlciA9IHR5cGVvZiBvcHRzLmV4Y2VycHQgPT09ICdzdHJpbmcnXG4gICAgPyBvcHRzLmV4Y2VycHRcbiAgICA6IChzZXAgfHwgb3B0cy5kZWxpbWl0ZXJzWzBdKTtcblxuICAvLyBpZiBlbmFibGVkLCBnZXQgdGhlIGV4Y2VycHQgZGVmaW5lZCBhZnRlciBmcm9udC1tYXR0ZXJcbiAgY29uc3QgaWR4ID0gZmlsZS5jb250ZW50LmluZGV4T2YoZGVsaW1pdGVyKTtcbiAgaWYgKGlkeCAhPT0gLTEpIHtcbiAgICBmaWxlLmV4Y2VycHQgPSBmaWxlLmNvbnRlbnQuc2xpY2UoMCwgaWR4KTtcbiAgfVxuXG4gIHJldHVybiBmaWxlO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgdHlwZU9mID0gcmVxdWlyZSgna2luZC1vZicpO1xuY29uc3Qgc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9zdHJpbmdpZnknKTtcbmNvbnN0IHV0aWxzID0gcmVxdWlyZSgnLi91dGlscycpO1xuXG4vKipcbiAqIE5vcm1hbGl6ZSB0aGUgZ2l2ZW4gdmFsdWUgdG8gZW5zdXJlIGFuIG9iamVjdCBpcyByZXR1cm5lZFxuICogd2l0aCB0aGUgZXhwZWN0ZWQgcHJvcGVydGllcy5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKGZpbGUpIHtcbiAgaWYgKHR5cGVPZihmaWxlKSAhPT0gJ29iamVjdCcpIHtcbiAgICBmaWxlID0geyBjb250ZW50OiBmaWxlIH07XG4gIH1cblxuICBpZiAodHlwZU9mKGZpbGUuZGF0YSkgIT09ICdvYmplY3QnKSB7XG4gICAgZmlsZS5kYXRhID0ge307XG4gIH1cblxuICAvLyBpZiBmaWxlIHdhcyBwYXNzZWQgYXMgYW4gb2JqZWN0LCBlbnN1cmUgdGhhdFxuICAvLyBcImZpbGUuY29udGVudFwiIGlzIHNldFxuICBpZiAoZmlsZS5jb250ZW50cyAmJiBmaWxlLmNvbnRlbnQgPT0gbnVsbCkge1xuICAgIGZpbGUuY29udGVudCA9IGZpbGUuY29udGVudHM7XG4gIH1cblxuICAvLyBzZXQgbm9uLWVudW1lcmFibGUgcHJvcGVydGllcyBvbiB0aGUgZmlsZSBvYmplY3RcbiAgdXRpbHMuZGVmaW5lKGZpbGUsICdvcmlnJywgdXRpbHMudG9CdWZmZXIoZmlsZS5jb250ZW50KSk7XG4gIHV0aWxzLmRlZmluZShmaWxlLCAnbGFuZ3VhZ2UnLCBmaWxlLmxhbmd1YWdlIHx8ICcnKTtcbiAgdXRpbHMuZGVmaW5lKGZpbGUsICdtYXR0ZXInLCBmaWxlLm1hdHRlciB8fCAnJyk7XG4gIHV0aWxzLmRlZmluZShmaWxlLCAnc3RyaW5naWZ5JywgZnVuY3Rpb24oZGF0YSwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMubGFuZ3VhZ2UpIHtcbiAgICAgIGZpbGUubGFuZ3VhZ2UgPSBvcHRpb25zLmxhbmd1YWdlO1xuICAgIH1cbiAgICByZXR1cm4gc3RyaW5naWZ5KGZpbGUsIGRhdGEsIG9wdGlvbnMpO1xuICB9KTtcblxuICAvLyBzdHJpcCBCT00gYW5kIGVuc3VyZSB0aGF0IFwiZmlsZS5jb250ZW50XCIgaXMgYSBzdHJpbmdcbiAgZmlsZS5jb250ZW50ID0gdXRpbHMudG9TdHJpbmcoZmlsZS5jb250ZW50KTtcbiAgZmlsZS5pc0VtcHR5ID0gZmFsc2U7XG4gIGZpbGUuZXhjZXJwdCA9ICcnO1xuICByZXR1cm4gZmlsZTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG5cbmNvbnN0IGdldEVuZ2luZSA9IHJlcXVpcmUoJy4vZW5naW5lJyk7XG5jb25zdCBkZWZhdWx0cyA9IHJlcXVpcmUoJy4vZGVmYXVsdHMnKTtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihsYW5ndWFnZSwgc3RyLCBvcHRpb25zKSB7XG4gIGNvbnN0IG9wdHMgPSBkZWZhdWx0cyhvcHRpb25zKTtcbiAgY29uc3QgZW5naW5lID0gZ2V0RW5naW5lKGxhbmd1YWdlLCBvcHRzKTtcbiAgaWYgKHR5cGVvZiBlbmdpbmUucGFyc2UgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleHBlY3RlZCBcIicgKyBsYW5ndWFnZSArICcucGFyc2VcIiB0byBiZSBhIGZ1bmN0aW9uJyk7XG4gIH1cbiAgcmV0dXJuIGVuZ2luZS5wYXJzZShzdHIsIG9wdHMpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpO1xuY29uc3Qgc2VjdGlvbnMgPSByZXF1aXJlKCdzZWN0aW9uLW1hdHRlcicpO1xuY29uc3QgZGVmYXVsdHMgPSByZXF1aXJlKCcuL2xpYi9kZWZhdWx0cycpO1xuY29uc3Qgc3RyaW5naWZ5ID0gcmVxdWlyZSgnLi9saWIvc3RyaW5naWZ5Jyk7XG5jb25zdCBleGNlcnB0ID0gcmVxdWlyZSgnLi9saWIvZXhjZXJwdCcpO1xuY29uc3QgZW5naW5lcyA9IHJlcXVpcmUoJy4vbGliL2VuZ2luZXMnKTtcbmNvbnN0IHRvRmlsZSA9IHJlcXVpcmUoJy4vbGliL3RvLWZpbGUnKTtcbmNvbnN0IHBhcnNlID0gcmVxdWlyZSgnLi9saWIvcGFyc2UnKTtcbmNvbnN0IHV0aWxzID0gcmVxdWlyZSgnLi9saWIvdXRpbHMnKTtcblxuLyoqXG4gKiBUYWtlcyBhIHN0cmluZyBvciBvYmplY3Qgd2l0aCBgY29udGVudGAgcHJvcGVydHksIGV4dHJhY3RzXG4gKiBhbmQgcGFyc2VzIGZyb250LW1hdHRlciBmcm9tIHRoZSBzdHJpbmcsIHRoZW4gcmV0dXJucyBhbiBvYmplY3RcbiAqIHdpdGggYGRhdGFgLCBgY29udGVudGAgYW5kIG90aGVyIFt1c2VmdWwgcHJvcGVydGllc10oI3JldHVybmVkLW9iamVjdCkuXG4gKlxuICogYGBganNcbiAqIGNvbnN0IG1hdHRlciA9IHJlcXVpcmUoJ2dyYXktbWF0dGVyJyk7XG4gKiBjb25zb2xlLmxvZyhtYXR0ZXIoJy0tLVxcbnRpdGxlOiBIb21lXFxuLS0tXFxuT3RoZXIgc3R1ZmYnKSk7XG4gKiAvLz0+IHsgZGF0YTogeyB0aXRsZTogJ0hvbWUnfSwgY29udGVudDogJ090aGVyIHN0dWZmJyB9XG4gKiBgYGBcbiAqIEBwYXJhbSB7T2JqZWN0fFN0cmluZ30gYGlucHV0YCBTdHJpbmcsIG9yIG9iamVjdCB3aXRoIGBjb250ZW50YCBzdHJpbmdcbiAqIEBwYXJhbSB7T2JqZWN0fSBgb3B0aW9uc2BcbiAqIEByZXR1cm4ge09iamVjdH1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gbWF0dGVyKGlucHV0LCBvcHRpb25zKSB7XG4gIGlmIChpbnB1dCA9PT0gJycpIHtcbiAgICByZXR1cm4geyBkYXRhOiB7fSwgY29udGVudDogaW5wdXQsIGV4Y2VycHQ6ICcnLCBvcmlnOiBpbnB1dCB9O1xuICB9XG5cbiAgbGV0IGZpbGUgPSB0b0ZpbGUoaW5wdXQpO1xuICBjb25zdCBjYWNoZWQgPSBtYXR0ZXIuY2FjaGVbZmlsZS5jb250ZW50XTtcblxuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBpZiAoY2FjaGVkKSB7XG4gICAgICBmaWxlID0gT2JqZWN0LmFzc2lnbih7fSwgY2FjaGVkKTtcbiAgICAgIGZpbGUub3JpZyA9IGNhY2hlZC5vcmlnO1xuICAgICAgcmV0dXJuIGZpbGU7XG4gICAgfVxuXG4gICAgLy8gb25seSBjYWNoZSBpZiB0aGVyZSBhcmUgbm8gb3B0aW9ucyBwYXNzZWQuIGlmIHdlIGNhY2hlIHdoZW4gb3B0aW9uc1xuICAgIC8vIGFyZSBwYXNzZWQsIHdlIHdvdWxkIG5lZWQgdG8gYWxzbyBjYWNoZSBvcHRpb25zIHZhbHVlcywgd2hpY2ggd291bGRcbiAgICAvLyBuZWdhdGUgYW55IHBlcmZvcm1hbmNlIGJlbmVmaXRzIG9mIGNhY2hpbmdcbiAgICBtYXR0ZXIuY2FjaGVbZmlsZS5jb250ZW50XSA9IGZpbGU7XG4gIH1cblxuICByZXR1cm4gcGFyc2VNYXR0ZXIoZmlsZSwgb3B0aW9ucyk7XG59XG5cbi8qKlxuICogUGFyc2UgZnJvbnQgbWF0dGVyXG4gKi9cblxuZnVuY3Rpb24gcGFyc2VNYXR0ZXIoZmlsZSwgb3B0aW9ucykge1xuICBjb25zdCBvcHRzID0gZGVmYXVsdHMob3B0aW9ucyk7XG4gIGNvbnN0IG9wZW4gPSBvcHRzLmRlbGltaXRlcnNbMF07XG4gIGNvbnN0IGNsb3NlID0gJ1xcbicgKyBvcHRzLmRlbGltaXRlcnNbMV07XG4gIGxldCBzdHIgPSBmaWxlLmNvbnRlbnQ7XG5cbiAgaWYgKG9wdHMubGFuZ3VhZ2UpIHtcbiAgICBmaWxlLmxhbmd1YWdlID0gb3B0cy5sYW5ndWFnZTtcbiAgfVxuXG4gIC8vIGdldCB0aGUgbGVuZ3RoIG9mIHRoZSBvcGVuaW5nIGRlbGltaXRlclxuICBjb25zdCBvcGVuTGVuID0gb3Blbi5sZW5ndGg7XG4gIGlmICghdXRpbHMuc3RhcnRzV2l0aChzdHIsIG9wZW4sIG9wZW5MZW4pKSB7XG4gICAgZXhjZXJwdChmaWxlLCBvcHRzKTtcbiAgICByZXR1cm4gZmlsZTtcbiAgfVxuXG4gIC8vIGlmIHRoZSBuZXh0IGNoYXJhY3RlciBhZnRlciB0aGUgb3BlbmluZyBkZWxpbWl0ZXIgaXNcbiAgLy8gYSBjaGFyYWN0ZXIgZnJvbSB0aGUgZGVsaW1pdGVyLCB0aGVuIGl0J3Mgbm90IGEgZnJvbnQtXG4gIC8vIG1hdHRlciBkZWxpbWl0ZXJcbiAgaWYgKHN0ci5jaGFyQXQob3BlbkxlbikgPT09IG9wZW4uc2xpY2UoLTEpKSB7XG4gICAgcmV0dXJuIGZpbGU7XG4gIH1cblxuICAvLyBzdHJpcCB0aGUgb3BlbmluZyBkZWxpbWl0ZXJcbiAgc3RyID0gc3RyLnNsaWNlKG9wZW5MZW4pO1xuICBjb25zdCBsZW4gPSBzdHIubGVuZ3RoO1xuXG4gIC8vIHVzZSB0aGUgbGFuZ3VhZ2UgZGVmaW5lZCBhZnRlciBmaXJzdCBkZWxpbWl0ZXIsIGlmIGl0IGV4aXN0c1xuICBjb25zdCBsYW5ndWFnZSA9IG1hdHRlci5sYW5ndWFnZShzdHIsIG9wdHMpO1xuICBpZiAobGFuZ3VhZ2UubmFtZSkge1xuICAgIGZpbGUubGFuZ3VhZ2UgPSBsYW5ndWFnZS5uYW1lO1xuICAgIHN0ciA9IHN0ci5zbGljZShsYW5ndWFnZS5yYXcubGVuZ3RoKTtcbiAgfVxuXG4gIC8vIGdldCB0aGUgaW5kZXggb2YgdGhlIGNsb3NpbmcgZGVsaW1pdGVyXG4gIGxldCBjbG9zZUluZGV4ID0gc3RyLmluZGV4T2YoY2xvc2UpO1xuICBpZiAoY2xvc2VJbmRleCA9PT0gLTEpIHtcbiAgICBjbG9zZUluZGV4ID0gbGVuO1xuICB9XG5cbiAgLy8gZ2V0IHRoZSByYXcgZnJvbnQtbWF0dGVyIGJsb2NrXG4gIGZpbGUubWF0dGVyID0gc3RyLnNsaWNlKDAsIGNsb3NlSW5kZXgpO1xuXG4gIGNvbnN0IGJsb2NrID0gZmlsZS5tYXR0ZXIucmVwbGFjZSgvXlxccyojW15cXG5dKy9nbSwgJycpLnRyaW0oKTtcbiAgaWYgKGJsb2NrID09PSAnJykge1xuICAgIGZpbGUuaXNFbXB0eSA9IHRydWU7XG4gICAgZmlsZS5lbXB0eSA9IGZpbGUuY29udGVudDtcbiAgICBmaWxlLmRhdGEgPSB7fTtcbiAgfSBlbHNlIHtcblxuICAgIC8vIGNyZWF0ZSBmaWxlLmRhdGEgYnkgcGFyc2luZyB0aGUgcmF3IGZpbGUubWF0dGVyIGJsb2NrXG4gICAgZmlsZS5kYXRhID0gcGFyc2UoZmlsZS5sYW5ndWFnZSwgZmlsZS5tYXR0ZXIsIG9wdHMpO1xuICB9XG5cbiAgLy8gdXBkYXRlIGZpbGUuY29udGVudFxuICBpZiAoY2xvc2VJbmRleCA9PT0gbGVuKSB7XG4gICAgZmlsZS5jb250ZW50ID0gJyc7XG4gIH0gZWxzZSB7XG4gICAgZmlsZS5jb250ZW50ID0gc3RyLnNsaWNlKGNsb3NlSW5kZXggKyBjbG9zZS5sZW5ndGgpO1xuICAgIGlmIChmaWxlLmNvbnRlbnRbMF0gPT09ICdcXHInKSB7XG4gICAgICBmaWxlLmNvbnRlbnQgPSBmaWxlLmNvbnRlbnQuc2xpY2UoMSk7XG4gICAgfVxuICAgIGlmIChmaWxlLmNvbnRlbnRbMF0gPT09ICdcXG4nKSB7XG4gICAgICBmaWxlLmNvbnRlbnQgPSBmaWxlLmNvbnRlbnQuc2xpY2UoMSk7XG4gICAgfVxuICB9XG5cbiAgZXhjZXJwdChmaWxlLCBvcHRzKTtcblxuICBpZiAob3B0cy5zZWN0aW9ucyA9PT0gdHJ1ZSB8fCB0eXBlb2Ygb3B0cy5zZWN0aW9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgc2VjdGlvbnMoZmlsZSwgb3B0cy5zZWN0aW9uKTtcbiAgfVxuICByZXR1cm4gZmlsZTtcbn1cblxuLyoqXG4gKiBFeHBvc2UgZW5naW5lc1xuICovXG5cbm1hdHRlci5lbmdpbmVzID0gZW5naW5lcztcblxuLyoqXG4gKiBTdHJpbmdpZnkgYW4gb2JqZWN0IHRvIFlBTUwgb3IgdGhlIHNwZWNpZmllZCBsYW5ndWFnZSwgYW5kXG4gKiBhcHBlbmQgaXQgdG8gdGhlIGdpdmVuIHN0cmluZy4gQnkgZGVmYXVsdCwgb25seSBZQU1MIGFuZCBKU09OXG4gKiBjYW4gYmUgc3RyaW5naWZpZWQuIFNlZSB0aGUgW2VuZ2luZXNdKCNlbmdpbmVzKSBzZWN0aW9uIHRvIGxlYXJuXG4gKiBob3cgdG8gc3RyaW5naWZ5IG90aGVyIGxhbmd1YWdlcy5cbiAqXG4gKiBgYGBqc1xuICogY29uc29sZS5sb2cobWF0dGVyLnN0cmluZ2lmeSgnZm9vIGJhciBiYXonLCB7dGl0bGU6ICdIb21lJ30pKTtcbiAqIC8vIHJlc3VsdHMgaW46XG4gKiAvLyAtLS1cbiAqIC8vIHRpdGxlOiBIb21lXG4gKiAvLyAtLS1cbiAqIC8vIGZvbyBiYXIgYmF6XG4gKiBgYGBcbiAqIEBwYXJhbSB7U3RyaW5nfE9iamVjdH0gYGZpbGVgIFRoZSBjb250ZW50IHN0cmluZyB0byBhcHBlbmQgdG8gc3RyaW5naWZpZWQgZnJvbnQtbWF0dGVyLCBvciBhIGZpbGUgb2JqZWN0IHdpdGggYGZpbGUuY29udGVudGAgc3RyaW5nLlxuICogQHBhcmFtIHtPYmplY3R9IGBkYXRhYCBGcm9udCBtYXR0ZXIgdG8gc3RyaW5naWZ5LlxuICogQHBhcmFtIHtPYmplY3R9IGBvcHRpb25zYCBbT3B0aW9uc10oI29wdGlvbnMpIHRvIHBhc3MgdG8gZ3JheS1tYXR0ZXIgYW5kIFtqcy15YW1sXS5cbiAqIEByZXR1cm4ge1N0cmluZ30gUmV0dXJucyBhIHN0cmluZyBjcmVhdGVkIGJ5IHdyYXBwaW5nIHN0cmluZ2lmaWVkIHlhbWwgd2l0aCBkZWxpbWl0ZXJzLCBhbmQgYXBwZW5kaW5nIHRoYXQgdG8gdGhlIGdpdmVuIHN0cmluZy5cbiAqIEBhcGkgcHVibGljXG4gKi9cblxubWF0dGVyLnN0cmluZ2lmeSA9IGZ1bmN0aW9uKGZpbGUsIGRhdGEsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiBmaWxlID09PSAnc3RyaW5nJykgZmlsZSA9IG1hdHRlcihmaWxlLCBvcHRpb25zKTtcbiAgcmV0dXJuIHN0cmluZ2lmeShmaWxlLCBkYXRhLCBvcHRpb25zKTtcbn07XG5cbi8qKlxuICogU3luY2hyb25vdXNseSByZWFkIGEgZmlsZSBmcm9tIHRoZSBmaWxlIHN5c3RlbSBhbmQgcGFyc2VcbiAqIGZyb250IG1hdHRlci4gUmV0dXJucyB0aGUgc2FtZSBvYmplY3QgYXMgdGhlIFttYWluIGZ1bmN0aW9uXSgjbWF0dGVyKS5cbiAqXG4gKiBgYGBqc1xuICogY29uc3QgZmlsZSA9IG1hdHRlci5yZWFkKCcuL2NvbnRlbnQvYmxvZy1wb3N0Lm1kJyk7XG4gKiBgYGBcbiAqIEBwYXJhbSB7U3RyaW5nfSBgZmlsZXBhdGhgIGZpbGUgcGF0aCBvZiB0aGUgZmlsZSB0byByZWFkLlxuICogQHBhcmFtIHtPYmplY3R9IGBvcHRpb25zYCBbT3B0aW9uc10oI29wdGlvbnMpIHRvIHBhc3MgdG8gZ3JheS1tYXR0ZXIuXG4gKiBAcmV0dXJuIHtPYmplY3R9IFJldHVybnMgW2FuIG9iamVjdF0oI3JldHVybmVkLW9iamVjdCkgd2l0aCBgZGF0YWAgYW5kIGBjb250ZW50YFxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tYXR0ZXIucmVhZCA9IGZ1bmN0aW9uKGZpbGVwYXRoLCBvcHRpb25zKSB7XG4gIGNvbnN0IHN0ciA9IGZzLnJlYWRGaWxlU3luYyhmaWxlcGF0aCwgJ3V0ZjgnKTtcbiAgY29uc3QgZmlsZSA9IG1hdHRlcihzdHIsIG9wdGlvbnMpO1xuICBmaWxlLnBhdGggPSBmaWxlcGF0aDtcbiAgcmV0dXJuIGZpbGU7XG59O1xuXG4vKipcbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZ2l2ZW4gYHN0cmluZ2AgaGFzIGZyb250IG1hdHRlci5cbiAqIEBwYXJhbSAge1N0cmluZ30gYHN0cmluZ2BcbiAqIEBwYXJhbSAge09iamVjdH0gYG9wdGlvbnNgXG4gKiBAcmV0dXJuIHtCb29sZWFufSBUcnVlIGlmIGZyb250IG1hdHRlciBleGlzdHMuXG4gKiBAYXBpIHB1YmxpY1xuICovXG5cbm1hdHRlci50ZXN0ID0gZnVuY3Rpb24oc3RyLCBvcHRpb25zKSB7XG4gIHJldHVybiB1dGlscy5zdGFydHNXaXRoKHN0ciwgZGVmYXVsdHMob3B0aW9ucykuZGVsaW1pdGVyc1swXSk7XG59O1xuXG4vKipcbiAqIERldGVjdCB0aGUgbGFuZ3VhZ2UgdG8gdXNlLCBpZiBvbmUgaXMgZGVmaW5lZCBhZnRlciB0aGVcbiAqIGZpcnN0IGZyb250LW1hdHRlciBkZWxpbWl0ZXIuXG4gKiBAcGFyYW0gIHtTdHJpbmd9IGBzdHJpbmdgXG4gKiBAcGFyYW0gIHtPYmplY3R9IGBvcHRpb25zYFxuICogQHJldHVybiB7T2JqZWN0fSBPYmplY3Qgd2l0aCBgcmF3YCAoYWN0dWFsIGxhbmd1YWdlIHN0cmluZyksIGFuZCBgbmFtZWAsIHRoZSBsYW5ndWFnZSB3aXRoIHdoaXRlc3BhY2UgdHJpbW1lZFxuICovXG5cbm1hdHRlci5sYW5ndWFnZSA9IGZ1bmN0aW9uKHN0ciwgb3B0aW9ucykge1xuICBjb25zdCBvcHRzID0gZGVmYXVsdHMob3B0aW9ucyk7XG4gIGNvbnN0IG9wZW4gPSBvcHRzLmRlbGltaXRlcnNbMF07XG5cbiAgaWYgKG1hdHRlci50ZXN0KHN0cikpIHtcbiAgICBzdHIgPSBzdHIuc2xpY2Uob3Blbi5sZW5ndGgpO1xuICB9XG5cbiAgY29uc3QgbGFuZ3VhZ2UgPSBzdHIuc2xpY2UoMCwgc3RyLnNlYXJjaCgvXFxyP1xcbi8pKTtcbiAgcmV0dXJuIHtcbiAgICByYXc6IGxhbmd1YWdlLFxuICAgIG5hbWU6IGxhbmd1YWdlID8gbGFuZ3VhZ2UudHJpbSgpIDogJydcbiAgfTtcbn07XG5cbi8qKlxuICogRXhwb3NlIGBtYXR0ZXJgXG4gKi9cblxubWF0dGVyLmNhY2hlID0ge307XG5tYXR0ZXIuY2xlYXJDYWNoZSA9IGZ1bmN0aW9uKCkge1xuICBtYXR0ZXIuY2FjaGUgPSB7fTtcbn07XG5tb2R1bGUuZXhwb3J0cyA9IG1hdHRlcjtcbiIsImltcG9ydCBMZWdhY3lMYXlvdXRDb21wb25lbnQgZnJvbSBcIi4uL2NvbXBvbmVudHMvTGVnYWN5SW1hZ2VMYXlvdXQuc3ZlbHRlXCI7XG5pbXBvcnQgQ2Fyb3VzZWxDb21wb25lbnQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2Fyb3VzZWwuc3ZlbHRlXCI7XG5pbXBvcnQgTGF5b3V0UGlja2VyQ29tcG9uZW50IGZyb20gXCIuLi9jb21wb25lbnRzL0xheW91dFBpY2tlci5zdmVsdGVcIjtcblxuaW1wb3J0IG1hdHRlciBmcm9tIFwiZ3JheS1tYXR0ZXJcIjtcblxuaW1wb3J0IHtcbiAgTWFya2Rvd25WaWV3LFxuICBQbHVnaW4sXG4gIHR5cGUgTWFya2Rvd25Qb3N0UHJvY2Vzc29yQ29udGV4dCxcbn0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgeyBnZXRJbWFnZXMgfSBmcm9tIFwiLi4vdXRpbHMvaW1hZ2VzXCI7XG5pbXBvcnQgeyBsYXlvdXRJbWFnZXMsIHR5cGUgTGF5b3V0VHlwZSB9IGZyb20gXCIuLi9pbnRlcmZhY2VzXCI7XG5pbXBvcnQgeyByZXNvbHZlTG9jYWxJbWFnZXMgfSBmcm9tIFwiLi4vdXRpbHMvaW1hZ2UtcmVzb2x2ZXJcIjtcbmltcG9ydCB7IHBhcnNlRnJvbnRNYXR0ZXJCbG9jayB9IGZyb20gXCIuLi91dGlscy9mcm9udC1tYXR0ZXJcIjtcbmltcG9ydCB0eXBlIEltYWdlTGF5b3V0c1BsdWdpbiBmcm9tIFwiLi4vbWFpblwiO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkSW1hZ2VMYXlvdXRNYXJrZG93blByb2Nlc3NvcihwbHVnaW46IEltYWdlTGF5b3V0c1BsdWdpbikge1xuICBwbHVnaW4ucmVnaXN0ZXJNYXJrZG93bkNvZGVCbG9ja1Byb2Nlc3NvcihcbiAgICBcImltYWdlLWxheW91dFwiLFxuICAgIChzb3VyY2UsIGVsLCBjdHgpID0+IHtcbiAgICAgIC8vIGNvbnN0IGltYWdlcyA9IGdldEltYWdlcyhzb3VyY2UpO1xuICAgICAgLy8gcmVuZGVyTGF5b3V0KGltYWdlcywgbGF5b3V0LCBjdHguc291cmNlUGF0aCwgZWwsIHRoaXMpO1xuICAgICAgcmVuZGVySW1hZ2VMYXlvdXRDb21wb25lbnQoc291cmNlLCBlbCwgY3R4LCBwbHVnaW4pO1xuICAgIH1cbiAgKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlckltYWdlTGF5b3V0Q29tcG9uZW50KFxuICBzb3VyY2U6IHN0cmluZyxcbiAgcGFyZW50OiBIVE1MRWxlbWVudCxcbiAgY3R4OiBNYXJrZG93blBvc3RQcm9jZXNzb3JDb250ZXh0LFxuICBwbHVnaW46IEltYWdlTGF5b3V0c1BsdWdpblxuKSB7XG4gIGNvbnN0IG0gPSBwYXJzZUZyb250TWF0dGVyQmxvY2s8e1xuICAgIGxheW91dD86IExheW91dFR5cGUgfCBcImNhcm91c2VsXCI7XG4gICAgY2Fyb3VzZWxTaG93VGh1bWJuYWlscz86IGJvb2xlYW47XG4gICAgY2FwdGlvbj86IHN0cmluZztcbiAgICBkZXNjcmlwdGlvbnM/OiBzdHJpbmdbXTtcbiAgICBwZXJtYW5lbnRPdmVybGF5PzogYm9vbGVhbjtcbiAgfT4oc291cmNlKTtcbiAgY29uc3QgaW1hZ2VzID0gZ2V0SW1hZ2VzKG0uYm9keSk7XG4gIGNvbnN0IHJlYWR5SW1hZ2VzID0gcmVzb2x2ZUxvY2FsSW1hZ2VzKGltYWdlcywgY3R4LCBwbHVnaW4pO1xuXG4gIC8vIGNvbnN0IGxheW91dCA9IFwiYlwiIGFzIExheW91dFR5cGU7IC8vIFNvb24gd2Ugd2lsbCBzaG93IGEgcGlja2VyIGlmIGl0IGlzbid0IGluIHRoZSB5YW1sXG5cbiAgLy8gY29uc3QgX2NvbXBvbmVudCA9IG5ldyBMZWdhY3lMYXlvdXRDb21wb25lbnQoe1xuICAvLyAgIHRhcmdldDogcGFyZW50LFxuICAvLyAgIHByb3BzOiB7XG4gIC8vICAgICAvLyBsYXlvdXQsXG4gIC8vICAgICBjYXB0aW9uOiBtLmRhdGEuY2FwdGlvbiA/PyBcIlwiLFxuICAvLyAgICAgZGVzY3JpcHRpb25zOiBtLmRhdGEuZGVzY3JpcHRpb25zLFxuICAvLyAgICAgbGF5b3V0OiBsYXlvdXQsXG4gIC8vICAgICByZXF1aXJlZEltYWdlczogbGF5b3V0SW1hZ2VzW2xheW91dF0sXG4gIC8vICAgICBpbWFnZVVybHM6IHJlYWR5SW1hZ2VzLm1hcCgoaSkgPT4gaS5saW5rKSxcbiAgLy8gICB9LFxuICAvLyB9KTtcbiAgaWYgKCFtLmRhdGE/LmxheW91dCkge1xuICAgIGNvbnN0IHBpY2tlciA9IG5ldyBMYXlvdXRQaWNrZXJDb21wb25lbnQoe1xuICAgICAgdGFyZ2V0OiBwYXJlbnQsXG4gICAgICBwcm9wczoge1xuICAgICAgICAvLyBsYXlvdXRzOiBsYXlvdXRJbWFnZXMsXG4gICAgICB9LFxuICAgIH0pO1xuICAgIHBpY2tlci4kb24oXG4gICAgICBcImxheW91dC1zZWxlY3RlZFwiLFxuICAgICAgKGV2ZW50OiBDdXN0b21FdmVudDx7IHR5cGU6IExheW91dFR5cGUgfCBcImNhcm91c2VsXCI7IHBhcmFtcz86IGFueSB9PikgPT4ge1xuICAgICAgICBjb25zdCBuZXdEYXRhID0gbS5kYXRhID8/IHt9O1xuICAgICAgICBjb25zb2xlLmxvZyhldmVudC5kZXRhaWwudHlwZSk7XG4gICAgICAgIG5ld0RhdGEubGF5b3V0ID0gZXZlbnQuZGV0YWlsLnR5cGU7XG4gICAgICAgIGlmIChldmVudC5kZXRhaWwucGFyYW1zPy5zaG93VGh1bWJuYWlscykge1xuICAgICAgICAgIG5ld0RhdGEuY2Fyb3VzZWxTaG93VGh1bWJuYWlscyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gdmlldyBjb250YWlucyB0aGUgZWRpdG9yIHRvIGNoYW5nZSB0aGUgbWFya2Rvd25cbiAgICAgICAgY29uc3QgdmlldyA9IHBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoTWFya2Rvd25WaWV3KTtcbiAgICAgICAgLy8gdGhlIGNvbnRleHQgY29udGFpbnMgdGhlIGJlZ2luIGFuZCBlbmQgb2YgdGhlIGJsb2NrIGluIHRoZSBtYXJrZG93biBmaWxlXG4gICAgICAgIGNvbnN0IGluZm8gPSBjdHguZ2V0U2VjdGlvbkluZm8ocGFyZW50KTtcblxuICAgICAgICBpZiAoaW5mbykge1xuICAgICAgICAgIHZpZXc/LmVkaXRvci5zZXRTZWxlY3Rpb24oXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGxpbmU6IGluZm8ubGluZUVuZCxcbiAgICAgICAgICAgICAgY2g6IDAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBsaW5lOiBpbmZvLmxpbmVTdGFydCArIDEsXG4gICAgICAgICAgICAgIGNoOiAwLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgICAgdmlldz8uZWRpdG9yLnJlcGxhY2VTZWxlY3Rpb24obWF0dGVyLnN0cmluZ2lmeShtLmJvZHksIG5ld0RhdGEpKTtcbiAgICAgICAgICAvLyBEZXNlbGVjdD9cbiAgICAgICAgfVxuICAgICAgICByZW5kZXJJbWFnZUxheW91dENvbXBvbmVudChzb3VyY2UsIHBhcmVudCwgY3R4LCBwbHVnaW4pO1xuICAgICAgfVxuICAgICk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChtLmRhdGEubGF5b3V0ID09PSBcImNhcm91c2VsXCIpIHtcbiAgICBjb25zdCBfY2Fyb3VzZWwgPSBuZXcgQ2Fyb3VzZWxDb21wb25lbnQoe1xuICAgICAgdGFyZ2V0OiBwYXJlbnQsXG4gICAgICBwcm9wczoge1xuICAgICAgICBpbWFnZVVybHM6XG4gICAgICAgICAgcmVhZHlJbWFnZXMubGVuZ3RoID4gMFxuICAgICAgICAgICAgPyByZWFkeUltYWdlcy5tYXAoKGkpID0+IGkubGluaylcbiAgICAgICAgICAgIDogW1wiaHR0cHM6Ly92aWEucGxhY2Vob2xkZXIuY29tLzY0MHg0ODBcIl0sXG4gICAgICAgIHNob3dUaHVtYm5haWxzOiAhIW0uZGF0YS5jYXJvdXNlbFNob3dUaHVtYm5haWxzLFxuICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKG0uZGF0YS5sYXlvdXQuc3RhcnRzV2l0aChcImxlZ2FjeS1sYXlvdXQtXCIpKSB7XG4gICAgY29uc3QgbGF5b3V0VHlwZSA9IG0uZGF0YS5sYXlvdXQuY2hhckF0KFxuICAgICAgbS5kYXRhLmxheW91dC5sZW5ndGggLSAxXG4gICAgKSBhcyBMYXlvdXRUeXBlO1xuICAgIGlmICghbGF5b3V0SW1hZ2VzW2xheW91dFR5cGVdKSB7XG4gICAgICByZXR1cm47IC8vIFRPRE8gaGFuZGxlIGJhZCBsYXlvdXRcbiAgICB9XG4gICAgY29uc3QgX2NvbXBvbmVudCA9IG5ldyBMZWdhY3lMYXlvdXRDb21wb25lbnQoe1xuICAgICAgdGFyZ2V0OiBwYXJlbnQsXG4gICAgICBwcm9wczoge1xuICAgICAgICBjYXB0aW9uOiBtLmRhdGEuY2FwdGlvbiA/PyBcIlwiLFxuICAgICAgICBkZXNjcmlwdGlvbnM6IG0uZGF0YS5kZXNjcmlwdGlvbnMsXG4gICAgICAgIGxheW91dDogbGF5b3V0VHlwZSxcbiAgICAgICAgcmVxdWlyZWRJbWFnZXM6IGxheW91dEltYWdlc1tsYXlvdXRUeXBlXSxcbiAgICAgICAgaW1hZ2VzOiByZWFkeUltYWdlcyxcbiAgICAgICAgcGVybWFuZW50T3ZlcmxheTpcbiAgICAgICAgICBtLmRhdGE/LnBlcm1hbmVudE92ZXJsYXkgPz8gcGx1Z2luLnNldHRpbmdzLnNob3VsZE92ZXJsYXlQZXJtYW5lbnRseSxcbiAgICAgIH0sXG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7XG5cdHJ1bl9hbGwsXG5cdHN1YnNjcmliZSxcblx0bm9vcCxcblx0c2FmZV9ub3RfZXF1YWwsXG5cdGlzX2Z1bmN0aW9uLFxuXHRnZXRfc3RvcmVfdmFsdWVcbn0gZnJvbSAnLi4vaW50ZXJuYWwvaW5kZXguanMnO1xuXG5jb25zdCBzdWJzY3JpYmVyX3F1ZXVlID0gW107XG5cbi8qKlxuICogQ3JlYXRlcyBhIGBSZWFkYWJsZWAgc3RvcmUgdGhhdCBhbGxvd3MgcmVhZGluZyBieSBzdWJzY3JpcHRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI3JlYWRhYmxlXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtUfSBbdmFsdWVdIGluaXRpYWwgdmFsdWVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlN0YXJ0U3RvcE5vdGlmaWVyPFQ+fSBbc3RhcnRdXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlJlYWRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gcmVhZGFibGUodmFsdWUsIHN0YXJ0KSB7XG5cdHJldHVybiB7XG5cdFx0c3Vic2NyaWJlOiB3cml0YWJsZSh2YWx1ZSwgc3RhcnQpLnN1YnNjcmliZVxuXHR9O1xufVxuXG4vKipcbiAqIENyZWF0ZSBhIGBXcml0YWJsZWAgc3RvcmUgdGhhdCBhbGxvd3MgYm90aCB1cGRhdGluZyBhbmQgcmVhZGluZyBieSBzdWJzY3JpcHRpb24uXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI3dyaXRhYmxlXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtUfSBbdmFsdWVdIGluaXRpYWwgdmFsdWVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlN0YXJ0U3RvcE5vdGlmaWVyPFQ+fSBbc3RhcnRdXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLldyaXRhYmxlPFQ+fVxuICovXG5leHBvcnQgZnVuY3Rpb24gd3JpdGFibGUodmFsdWUsIHN0YXJ0ID0gbm9vcCkge1xuXHQvKiogQHR5cGUge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5VbnN1YnNjcmliZXJ9ICovXG5cdGxldCBzdG9wO1xuXHQvKiogQHR5cGUge1NldDxpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN1YnNjcmliZUludmFsaWRhdGVUdXBsZTxUPj59ICovXG5cdGNvbnN0IHN1YnNjcmliZXJzID0gbmV3IFNldCgpO1xuXHQvKiogQHBhcmFtIHtUfSBuZXdfdmFsdWVcblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRmdW5jdGlvbiBzZXQobmV3X3ZhbHVlKSB7XG5cdFx0aWYgKHNhZmVfbm90X2VxdWFsKHZhbHVlLCBuZXdfdmFsdWUpKSB7XG5cdFx0XHR2YWx1ZSA9IG5ld192YWx1ZTtcblx0XHRcdGlmIChzdG9wKSB7XG5cdFx0XHRcdC8vIHN0b3JlIGlzIHJlYWR5XG5cdFx0XHRcdGNvbnN0IHJ1bl9xdWV1ZSA9ICFzdWJzY3JpYmVyX3F1ZXVlLmxlbmd0aDtcblx0XHRcdFx0Zm9yIChjb25zdCBzdWJzY3JpYmVyIG9mIHN1YnNjcmliZXJzKSB7XG5cdFx0XHRcdFx0c3Vic2NyaWJlclsxXSgpO1xuXHRcdFx0XHRcdHN1YnNjcmliZXJfcXVldWUucHVzaChzdWJzY3JpYmVyLCB2YWx1ZSk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKHJ1bl9xdWV1ZSkge1xuXHRcdFx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgc3Vic2NyaWJlcl9xdWV1ZS5sZW5ndGg7IGkgKz0gMikge1xuXHRcdFx0XHRcdFx0c3Vic2NyaWJlcl9xdWV1ZVtpXVswXShzdWJzY3JpYmVyX3F1ZXVlW2kgKyAxXSk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHN1YnNjcmliZXJfcXVldWUubGVuZ3RoID0gMDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBAcGFyYW0ge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5VcGRhdGVyPFQ+fSBmblxuXHQgKiBAcmV0dXJucyB7dm9pZH1cblx0ICovXG5cdGZ1bmN0aW9uIHVwZGF0ZShmbikge1xuXHRcdHNldChmbih2YWx1ZSkpO1xuXHR9XG5cblx0LyoqXG5cdCAqIEBwYXJhbSB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlN1YnNjcmliZXI8VD59IHJ1blxuXHQgKiBAcGFyYW0ge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuSW52YWxpZGF0b3I8VD59IFtpbnZhbGlkYXRlXVxuXHQgKiBAcmV0dXJucyB7aW1wb3J0KCcuL3B1YmxpYy5qcycpLlVuc3Vic2NyaWJlcn1cblx0ICovXG5cdGZ1bmN0aW9uIHN1YnNjcmliZShydW4sIGludmFsaWRhdGUgPSBub29wKSB7XG5cdFx0LyoqIEB0eXBlIHtpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN1YnNjcmliZUludmFsaWRhdGVUdXBsZTxUPn0gKi9cblx0XHRjb25zdCBzdWJzY3JpYmVyID0gW3J1biwgaW52YWxpZGF0ZV07XG5cdFx0c3Vic2NyaWJlcnMuYWRkKHN1YnNjcmliZXIpO1xuXHRcdGlmIChzdWJzY3JpYmVycy5zaXplID09PSAxKSB7XG5cdFx0XHRzdG9wID0gc3RhcnQoc2V0LCB1cGRhdGUpIHx8IG5vb3A7XG5cdFx0fVxuXHRcdHJ1bih2YWx1ZSk7XG5cdFx0cmV0dXJuICgpID0+IHtcblx0XHRcdHN1YnNjcmliZXJzLmRlbGV0ZShzdWJzY3JpYmVyKTtcblx0XHRcdGlmIChzdWJzY3JpYmVycy5zaXplID09PSAwICYmIHN0b3ApIHtcblx0XHRcdFx0c3RvcCgpO1xuXHRcdFx0XHRzdG9wID0gbnVsbDtcblx0XHRcdH1cblx0XHR9O1xuXHR9XG5cdHJldHVybiB7IHNldCwgdXBkYXRlLCBzdWJzY3JpYmUgfTtcbn1cblxuLyoqXG4gKiBEZXJpdmVkIHZhbHVlIHN0b3JlIGJ5IHN5bmNocm9uaXppbmcgb25lIG9yIG1vcmUgcmVhZGFibGUgc3RvcmVzIGFuZFxuICogYXBwbHlpbmcgYW4gYWdncmVnYXRpb24gZnVuY3Rpb24gb3ZlciBpdHMgaW5wdXQgdmFsdWVzLlxuICpcbiAqIGh0dHBzOi8vc3ZlbHRlLmRldi9kb2NzL3N2ZWx0ZS1zdG9yZSNkZXJpdmVkXG4gKiBAdGVtcGxhdGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuU3RvcmVzfSBTXG4gKiBAdGVtcGxhdGUgVFxuICogQG92ZXJsb2FkXG4gKiBAcGFyYW0ge1N9IHN0b3JlcyAtIGlucHV0IHN0b3Jlc1xuICogQHBhcmFtIHsodmFsdWVzOiBpbXBvcnQoJy4vcHJpdmF0ZS5qcycpLlN0b3Jlc1ZhbHVlczxTPiwgc2V0OiAodmFsdWU6IFQpID0+IHZvaWQsIHVwZGF0ZTogKGZuOiBpbXBvcnQoJy4vcHVibGljLmpzJykuVXBkYXRlcjxUPikgPT4gdm9pZCkgPT4gaW1wb3J0KCcuL3B1YmxpYy5qcycpLlVuc3Vic2NyaWJlciB8IHZvaWR9IGZuIC0gZnVuY3Rpb24gY2FsbGJhY2sgdGhhdCBhZ2dyZWdhdGVzIHRoZSB2YWx1ZXNcbiAqIEBwYXJhbSB7VH0gW2luaXRpYWxfdmFsdWVdIC0gaW5pdGlhbCB2YWx1ZVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuXG4vKipcbiAqIERlcml2ZWQgdmFsdWUgc3RvcmUgYnkgc3luY2hyb25pemluZyBvbmUgb3IgbW9yZSByZWFkYWJsZSBzdG9yZXMgYW5kXG4gKiBhcHBseWluZyBhbiBhZ2dyZWdhdGlvbiBmdW5jdGlvbiBvdmVyIGl0cyBpbnB1dCB2YWx1ZXMuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI2Rlcml2ZWRcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KCcuL3ByaXZhdGUuanMnKS5TdG9yZXN9IFNcbiAqIEB0ZW1wbGF0ZSBUXG4gKiBAb3ZlcmxvYWRcbiAqIEBwYXJhbSB7U30gc3RvcmVzIC0gaW5wdXQgc3RvcmVzXG4gKiBAcGFyYW0geyh2YWx1ZXM6IGltcG9ydCgnLi9wcml2YXRlLmpzJykuU3RvcmVzVmFsdWVzPFM+KSA9PiBUfSBmbiAtIGZ1bmN0aW9uIGNhbGxiYWNrIHRoYXQgYWdncmVnYXRlcyB0aGUgdmFsdWVzXG4gKiBAcGFyYW0ge1R9IFtpbml0aWFsX3ZhbHVlXSAtIGluaXRpYWwgdmFsdWVcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59XG4gKi9cblxuLyoqXG4gKiBAdGVtcGxhdGUge2ltcG9ydCgnLi9wcml2YXRlLmpzJykuU3RvcmVzfSBTXG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtTfSBzdG9yZXNcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcGFyYW0ge1R9IFtpbml0aWFsX3ZhbHVlXVxuICogQHJldHVybnMge2ltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxUPn1cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlcml2ZWQoc3RvcmVzLCBmbiwgaW5pdGlhbF92YWx1ZSkge1xuXHRjb25zdCBzaW5nbGUgPSAhQXJyYXkuaXNBcnJheShzdG9yZXMpO1xuXHQvKiogQHR5cGUge0FycmF5PGltcG9ydCgnLi9wdWJsaWMuanMnKS5SZWFkYWJsZTxhbnk+Pn0gKi9cblx0Y29uc3Qgc3RvcmVzX2FycmF5ID0gc2luZ2xlID8gW3N0b3Jlc10gOiBzdG9yZXM7XG5cdGlmICghc3RvcmVzX2FycmF5LmV2ZXJ5KEJvb2xlYW4pKSB7XG5cdFx0dGhyb3cgbmV3IEVycm9yKCdkZXJpdmVkKCkgZXhwZWN0cyBzdG9yZXMgYXMgaW5wdXQsIGdvdCBhIGZhbHN5IHZhbHVlJyk7XG5cdH1cblx0Y29uc3QgYXV0byA9IGZuLmxlbmd0aCA8IDI7XG5cdHJldHVybiByZWFkYWJsZShpbml0aWFsX3ZhbHVlLCAoc2V0LCB1cGRhdGUpID0+IHtcblx0XHRsZXQgc3RhcnRlZCA9IGZhbHNlO1xuXHRcdGNvbnN0IHZhbHVlcyA9IFtdO1xuXHRcdGxldCBwZW5kaW5nID0gMDtcblx0XHRsZXQgY2xlYW51cCA9IG5vb3A7XG5cdFx0Y29uc3Qgc3luYyA9ICgpID0+IHtcblx0XHRcdGlmIChwZW5kaW5nKSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdGNsZWFudXAoKTtcblx0XHRcdGNvbnN0IHJlc3VsdCA9IGZuKHNpbmdsZSA/IHZhbHVlc1swXSA6IHZhbHVlcywgc2V0LCB1cGRhdGUpO1xuXHRcdFx0aWYgKGF1dG8pIHtcblx0XHRcdFx0c2V0KHJlc3VsdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjbGVhbnVwID0gaXNfZnVuY3Rpb24ocmVzdWx0KSA/IHJlc3VsdCA6IG5vb3A7XG5cdFx0XHR9XG5cdFx0fTtcblx0XHRjb25zdCB1bnN1YnNjcmliZXJzID0gc3RvcmVzX2FycmF5Lm1hcCgoc3RvcmUsIGkpID0+XG5cdFx0XHRzdWJzY3JpYmUoXG5cdFx0XHRcdHN0b3JlLFxuXHRcdFx0XHQodmFsdWUpID0+IHtcblx0XHRcdFx0XHR2YWx1ZXNbaV0gPSB2YWx1ZTtcblx0XHRcdFx0XHRwZW5kaW5nICY9IH4oMSA8PCBpKTtcblx0XHRcdFx0XHRpZiAoc3RhcnRlZCkge1xuXHRcdFx0XHRcdFx0c3luYygpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSxcblx0XHRcdFx0KCkgPT4ge1xuXHRcdFx0XHRcdHBlbmRpbmcgfD0gMSA8PCBpO1xuXHRcdFx0XHR9XG5cdFx0XHQpXG5cdFx0KTtcblx0XHRzdGFydGVkID0gdHJ1ZTtcblx0XHRzeW5jKCk7XG5cdFx0cmV0dXJuIGZ1bmN0aW9uIHN0b3AoKSB7XG5cdFx0XHRydW5fYWxsKHVuc3Vic2NyaWJlcnMpO1xuXHRcdFx0Y2xlYW51cCgpO1xuXHRcdFx0Ly8gV2UgbmVlZCB0byBzZXQgdGhpcyB0byBmYWxzZSBiZWNhdXNlIGNhbGxiYWNrcyBjYW4gc3RpbGwgaGFwcGVuIGRlc3BpdGUgaGF2aW5nIHVuc3Vic2NyaWJlZDpcblx0XHRcdC8vIENhbGxiYWNrcyBtaWdodCBhbHJlYWR5IGJlIHBsYWNlZCBpbiB0aGUgcXVldWUgd2hpY2ggZG9lc24ndCBrbm93IGl0IHNob3VsZCBubyBsb25nZXJcblx0XHRcdC8vIGludm9rZSB0aGlzIGRlcml2ZWQgc3RvcmUuXG5cdFx0XHRzdGFydGVkID0gZmFsc2U7XG5cdFx0fTtcblx0fSk7XG59XG5cbi8qKlxuICogVGFrZXMgYSBzdG9yZSBhbmQgcmV0dXJucyBhIG5ldyBvbmUgZGVyaXZlZCBmcm9tIHRoZSBvbGQgb25lIHRoYXQgaXMgcmVhZGFibGUuXG4gKlxuICogaHR0cHM6Ly9zdmVsdGUuZGV2L2RvY3Mvc3ZlbHRlLXN0b3JlI3JlYWRvbmx5XG4gKiBAdGVtcGxhdGUgVFxuICogQHBhcmFtIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59IHN0b3JlICAtIHN0b3JlIHRvIG1ha2UgcmVhZG9ubHlcbiAqIEByZXR1cm5zIHtpbXBvcnQoJy4vcHVibGljLmpzJykuUmVhZGFibGU8VD59XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWFkb25seShzdG9yZSkge1xuXHRyZXR1cm4ge1xuXHRcdHN1YnNjcmliZTogc3RvcmUuc3Vic2NyaWJlLmJpbmQoc3RvcmUpXG5cdH07XG59XG5cbmV4cG9ydCB7IGdldF9zdG9yZV92YWx1ZSBhcyBnZXQgfTtcbiIsImltcG9ydCB7IHdyaXRhYmxlIH0gZnJvbSBcInN2ZWx0ZS9zdG9yZVwiO1xuaW1wb3J0IHR5cGUgeyBJbWFnZUxheW91dHNTZXR0aW5ncyB9IGZyb20gXCIuL3R5cGVzXCI7XG5cbmV4cG9ydCBjb25zdCBzZXR0aW5ncyA9IHdyaXRhYmxlPEltYWdlTGF5b3V0c1NldHRpbmdzPih7XG4gIHNob3VsZE92ZXJsYXlQZXJtYW5lbnRseTogZmFsc2UsXG59KTtcbiIsImltcG9ydCBJbWFnZUxheW91dHNQbHVnaW4gZnJvbSBcIi4uL21haW5cIjtcbmltcG9ydCB7IEFwcCwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xuXG5leHBvcnQgY2xhc3MgSW1hZ2VMYXlvdXRzU2V0dGluZ3NUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcbiAgcGx1Z2luOiBJbWFnZUxheW91dHNQbHVnaW47XG5cbiAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHBsdWdpbjogSW1hZ2VMYXlvdXRzUGx1Z2luKSB7XG4gICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xuICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICB9XG5cbiAgZGlzcGxheSgpOiB2b2lkIHtcbiAgICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuXG4gICAgY29udGFpbmVyRWwuZW1wdHkoKTtcblxuICAgIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuICAgICAgLnNldE5hbWUoXCJTaG91bGQgT3ZlcmxheSBQZXJtYW5lbnRseVwiKVxuICAgICAgLnNldERlc2MoXCJJbWFnZSBvdmVybGF5cyBkb24ndCByZXF1aXJlIGhvdmVyaW5nXCIpXG4gICAgICAuYWRkVG9nZ2xlKCh0b2dnbGUpID0+IHtcbiAgICAgICAgdG9nZ2xlXG4gICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3VsZE92ZXJsYXlQZXJtYW5lbnRseSlcbiAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG91bGRPdmVybGF5UGVybWFuZW50bHkgPSB2YWx1ZTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IFBsdWdpbiB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IFwidmlydHVhbDp1bm8uY3NzXCI7XG5pbXBvcnQgeyBhZGRMZWdhY3lJbWFnZUxheW91dE1hcmtkb3duUHJvY2Vzc29ycyB9IGZyb20gXCIuL3Byb2Nlc3NvcnMvbGVnYWN5LWltYWdlLWxheW91dHNcIjtcbmltcG9ydCB7IGFkZExlZ2FjeU1hc29ucnlNYXJrZG93blByb2Nlc3NvcnMgfSBmcm9tIFwiLi9wcm9jZXNzb3JzL2xlZ2FjeS1tYXNvcnktbGF5b3V0c1wiO1xuaW1wb3J0IHsgYWRkSW1hZ2VMYXlvdXRNYXJrZG93blByb2Nlc3NvciB9IGZyb20gXCIuL3Byb2Nlc3NvcnMvaW1hZ2UtbGF5b3V0XCI7XG5pbXBvcnQgeyBzZXR0aW5ncyBhcyBzIH0gZnJvbSBcIi4vc3RvcmVzXCI7XG5pbXBvcnQgdHlwZSB7IEltYWdlTGF5b3V0c1NldHRpbmdzIH0gZnJvbSBcIi4vdHlwZXNcIjtcbmltcG9ydCB7IEltYWdlTGF5b3V0c1NldHRpbmdzVGFiIH0gZnJvbSBcIi4vdmlld3Mvc2V0dGluZ3NcIjtcblxuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogSW1hZ2VMYXlvdXRzU2V0dGluZ3MgPSB7XG4gIHNob3VsZE92ZXJsYXlQZXJtYW5lbnRseTogZmFsc2UsXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZUxheW91dHNQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICBzZXR0aW5ncyE6IEltYWdlTGF5b3V0c1NldHRpbmdzO1xuICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IE9iamVjdC5hc3NpZ24oe30sIERFRkFVTFRfU0VUVElOR1MsIGF3YWl0IHRoaXMubG9hZERhdGEoKSk7XG4gICAgcy5zZXQodGhpcy5zZXR0aW5ncyk7XG4gIH1cblxuICBhc3luYyBzYXZlU2V0dGluZ3MoKSB7XG4gICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcbiAgICBzLnNldCh0aGlzLnNldHRpbmdzKTtcbiAgfVxuXG4gIGFzeW5jIG9ubG9hZCgpIHtcbiAgICBhd2FpdCB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG4gICAgdGhpcy5hZGRTZXR0aW5nVGFiKG5ldyBJbWFnZUxheW91dHNTZXR0aW5nc1RhYih0aGlzLmFwcCwgdGhpcykpO1xuXG4gICAgYWRkSW1hZ2VMYXlvdXRNYXJrZG93blByb2Nlc3Nvcih0aGlzKTtcbiAgICBhZGRMZWdhY3lJbWFnZUxheW91dE1hcmtkb3duUHJvY2Vzc29ycyh0aGlzKTtcbiAgICBhZGRMZWdhY3lNYXNvbnJ5TWFya2Rvd25Qcm9jZXNzb3JzKHRoaXMpO1xuICB9XG5cbiAgb251bmxvYWQoKSB7XG4gICAgY29uc29sZS5sb2coXCJ1bmxvYWRpbmcgcGx1Z2luXCIpO1xuICB9XG59XG4iXSwibmFtZXMiOlsiYXNzaWduIiwidGFyIiwic3JjIiwiayIsImZuIiwiZm5zIiwidGhpbmciLCJhIiwiYiIsImVsZW1lbnRfc3JjIiwidXJsIiwib2JqIiwiZGVmaW5pdGlvbiIsImN0eCIsIiQkc2NvcGUiLCJzbG90X2N0eCIsImRpcnR5IiwibGV0cyIsIm1lcmdlZCIsImxlbiIsImkiLCJzbG90Iiwic2xvdF9kZWZpbml0aW9uIiwic2xvdF9jaGFuZ2VzIiwiZ2V0X3Nsb3RfY29udGV4dF9mbiIsInNsb3RfY29udGV4dCIsImxlbmd0aCIsInZhbHVlIiwidGFyZ2V0Iiwibm9kZSIsImFuY2hvciIsIml0ZXJhdGlvbnMiLCJkZXRhY2hpbmciLCJuYW1lIiwiZGF0YSIsImV2ZW50IiwiaGFuZGxlciIsIm9wdGlvbnMiLCJhdHRyaWJ1dGUiLCJlbGVtZW50IiwidGV4dCIsInRvZ2dsZSIsInR5cGUiLCJkZXRhaWwiLCJidWJibGVzIiwiY2FuY2VsYWJsZSIsImNvbXBvbmVudCIsImNhbGxiYWNrcyIsInNhdmVkX2NvbXBvbmVudCIsImUiLCJjYWxsYmFjayIsIiQkIiwiZmlsdGVyZWQiLCJ0YXJnZXRzIiwiYyIsImJsb2NrIiwibG9jYWwiLCJkZXRhY2giLCJhcnJheV9saWtlX29yX2l0ZXJhdG9yIiwibG9va3VwIiwib2xkX2Jsb2NrcyIsImdldF9rZXkiLCJkeW5hbWljIiwibGlzdCIsImRlc3Ryb3kiLCJjcmVhdGVfZWFjaF9ibG9jayIsIm5leHQiLCJnZXRfY29udGV4dCIsIm8iLCJuIiwib2xkX2luZGV4ZXMiLCJuZXdfYmxvY2tzIiwibmV3X2xvb2t1cCIsImRlbHRhcyIsInVwZGF0ZXMiLCJjaGlsZF9jdHgiLCJrZXkiLCJ3aWxsX21vdmUiLCJkaWRfbW92ZSIsImluc2VydCIsIm5ld19ibG9jayIsIm9sZF9ibG9jayIsIm5ld19rZXkiLCJvbGRfa2V5IiwiZnJhZ21lbnQiLCJhZnRlcl91cGRhdGUiLCJuZXdfb25fZGVzdHJveSIsImluc3RhbmNlIiwiY3JlYXRlX2ZyYWdtZW50Iiwibm90X2VxdWFsIiwicHJvcHMiLCJhcHBlbmRfc3R5bGVzIiwicGFyZW50X2NvbXBvbmVudCIsInJlYWR5IiwicmV0IiwicmVzdCIsIm5vZGVzIiwiX19wdWJsaWNGaWVsZCIsImluZGV4IiwiZGl2MSIsImRpdjAiLCJjcmVhdGVfaWZfYmxvY2siLCJkaXYiLCJpbWciLCIkJHByb3BzIiwiZGVzY3JpcHRpb24iLCJwZXJtYW5lbnRPdmVybGF5IiwiY2FwdGlvbiIsImxlZ2FjeWdyaWRpbWFnZV9jaGFuZ2VzIiwibGF5b3V0IiwiaW1hZ2VzIiwicmVxdWlyZWRJbWFnZXMiLCJkZXNjcmlwdGlvbnMiLCJkaXNwbGF5SW1hZ2VzIiwibGluZSIsImxpbmsiLCJfYSIsImFsdCIsIl9iIiwiX2MiLCJzb3VyY2UiLCJyb3ciLCJpbWFnZSIsInBsdWdpbiIsImRlc3RGaWxlIiwic3ViamVjdCIsImlzT2JqZWN0Iiwic2VxdWVuY2UiLCJleHRlbmQiLCJzb3VyY2VLZXlzIiwic3RyaW5nIiwiY291bnQiLCJyZXN1bHQiLCJjeWNsZSIsIm51bWJlciIsImNvbW1vbiIsIllBTUxFeGNlcHRpb24iLCJyZWFzb24iLCJtYXJrIiwiY29tcGFjdCIsInJlcXVpcmUkJDAiLCJNYXJrIiwiYnVmZmVyIiwicG9zaXRpb24iLCJjb2x1bW4iLCJpbmRlbnQiLCJtYXhMZW5ndGgiLCJoZWFkIiwic3RhcnQiLCJ0YWlsIiwiZW5kIiwic25pcHBldCIsIndoZXJlIiwibWFwIiwic3R5bGUiLCJhbGlhcyIsIlR5cGUiLCJ0YWciLCJyZXF1aXJlJCQxIiwicmVxdWlyZSQkMiIsInNjaGVtYSIsImV4Y2x1ZGUiLCJpbmNsdWRlZFNjaGVtYSIsImN1cnJlbnRUeXBlIiwicHJldmlvdXNUeXBlIiwicHJldmlvdXNJbmRleCIsImNvbGxlY3RUeXBlIiwiU2NoZW1hIiwic2NoZW1hcyIsInR5cGVzIiwicmVxdWlyZSQkMyIsIm1heCIsIm9iamVjdCIsImhhc0RpZ2l0cyIsImNoIiwic2lnbiIsImJhc2UiLCJkaWdpdHMiLCJ2IiwiZCIsInJlcyIsInJlcXVpcmUkJDQiLCJyZXF1aXJlJCQ1IiwibWF0Y2giLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJob3VyIiwibWludXRlIiwic2Vjb25kIiwiZnJhY3Rpb24iLCJkZWx0YSIsInR6X2hvdXIiLCJ0el9taW51dGUiLCJkYXRlIiwiX3JlcXVpcmUiLCJyZXF1aXJlIiwiY29kZSIsImlkeCIsImJpdGxlbiIsInRhaWxiaXRzIiwiaW5wdXQiLCJiaXRzIiwiX2hhc093blByb3BlcnR5IiwiX3RvU3RyaW5nIiwib2JqZWN0S2V5cyIsInBhaXIiLCJwYWlyS2V5IiwicGFpckhhc0tleSIsImtleXMiLCJyZXF1aXJlJCQ2IiwicmVxdWlyZSQkNyIsInJlZ2V4cCIsIm1vZGlmaWVycyIsImFzdCIsInBhcmFtcyIsImJvZHkiLCJwYXJhbSIsIkRFRkFVTFRfU0FGRV9TQ0hFTUEiLCJERUZBVUxUX0ZVTExfU0NIRU1BIiwibGMiLCJTdGF0ZSIsInN0YXRlIiwibWVzc2FnZSIsImFyZ3MiLCJtYWpvciIsIm1pbm9yIiwiaGFuZGxlIiwicHJlZml4IiwiY2hlY2tKc29uIiwiX3Bvc2l0aW9uIiwiX2xlbmd0aCIsIl9jaGFyYWN0ZXIiLCJfcmVzdWx0IiwiZGVzdGluYXRpb24iLCJvdmVycmlkYWJsZUtleXMiLCJxdWFudGl0eSIsImtleVRhZyIsImtleU5vZGUiLCJ2YWx1ZU5vZGUiLCJzdGFydExpbmUiLCJzdGFydFBvcyIsImFsbG93Q29tbWVudHMiLCJjaGVja0luZGVudCIsImxpbmVCcmVha3MiLCJub2RlSW5kZW50Iiwid2l0aGluRmxvd0NvbGxlY3Rpb24iLCJwcmVjZWRpbmciLCJmb2xsb3dpbmciLCJjYXB0dXJlU3RhcnQiLCJjYXB0dXJlRW5kIiwiaGFzUGVuZGluZ0NvbnRlbnQiLCJfbGluZSIsIl9saW5lU3RhcnQiLCJfbGluZUluZGVudCIsIl9raW5kIiwiaGV4TGVuZ3RoIiwiaGV4UmVzdWx0IiwidG1wIiwicmVhZE5leHQiLCJfdGFnIiwiX2FuY2hvciIsInRlcm1pbmF0b3IiLCJpc1BhaXIiLCJpc0V4cGxpY2l0UGFpciIsImlzTWFwcGluZyIsImZvbGRpbmciLCJjaG9tcGluZyIsImRpZFJlYWRDb250ZW50IiwiZGV0ZWN0ZWRJbmRlbnQiLCJ0ZXh0SW5kZW50IiwiZW1wdHlMaW5lcyIsImF0TW9yZUluZGVudGVkIiwiZGV0ZWN0ZWQiLCJmbG93SW5kZW50IiwiYWxsb3dDb21wYWN0IiwiX3BvcyIsImF0RXhwbGljaXRLZXkiLCJpc1ZlcmJhdGltIiwiaXNOYW1lZCIsInRhZ0hhbmRsZSIsInRhZ05hbWUiLCJwYXJlbnRJbmRlbnQiLCJub2RlQ29udGV4dCIsImFsbG93VG9TZWVrIiwiYWxsb3dCbG9ja1N0eWxlcyIsImFsbG93QmxvY2tTY2FsYXJzIiwiYWxsb3dCbG9ja0NvbGxlY3Rpb25zIiwiaW5kZW50U3RhdHVzIiwiYXROZXdMaW5lIiwiaGFzQ29udGVudCIsInR5cGVJbmRleCIsInR5cGVRdWFudGl0eSIsImJsb2NrSW5kZW50IiwiZG9jdW1lbnRTdGFydCIsImRpcmVjdGl2ZU5hbWUiLCJkaXJlY3RpdmVBcmdzIiwiaGFzRGlyZWN0aXZlcyIsIm51bGxwb3MiLCJpdGVyYXRvciIsImRvY3VtZW50cyIsImxvYWRlciIsImNoYXJhY3RlciIsInNwYWNlcyIsImluZCIsImxldmVsIiwic3RyIiwicHJldiIsImxlYWRpbmdTcGFjZVJlIiwic2luZ2xlTGluZU9ubHkiLCJpbmRlbnRQZXJMZXZlbCIsImxpbmVXaWR0aCIsInRlc3RBbWJpZ3VvdXNUeXBlIiwiY2hhciIsInByZXZfY2hhciIsImhhc0xpbmVCcmVhayIsImhhc0ZvbGRhYmxlTGluZSIsInNob3VsZFRyYWNrV2lkdGgiLCJwcmV2aW91c0xpbmVCcmVhayIsInBsYWluIiwiaXNrZXkiLCJ0ZXN0QW1iaWd1aXR5IiwiaW5kZW50SW5kaWNhdG9yIiwiY2xpcCIsImtlZXAiLCJjaG9tcCIsIndpZHRoIiwibGluZVJlIiwibmV4dExGIiwicHJldk1vcmVJbmRlbnRlZCIsIm1vcmVJbmRlbnRlZCIsImJyZWFrUmUiLCJjdXJyIiwibmV4dENoYXIiLCJlc2NhcGVTZXEiLCJvYmplY3RLZXlMaXN0Iiwib2JqZWN0S2V5Iiwib2JqZWN0VmFsdWUiLCJwYWlyQnVmZmVyIiwiZXhwbGljaXRQYWlyIiwiZXhwbGljaXQiLCJ0eXBlTGlzdCIsIm9iamVjdE9yQXJyYXkiLCJkdXBsaWNhdGVJbmRleCIsImR1cGxpY2F0ZSIsImFycmF5TGV2ZWwiLCJvYmplY3RzIiwiZHVwbGljYXRlc0luZGV4ZXMiLCJkdW1wZXIiLCJqc1lhbWwiLCJyZXF1aXJlJCQ4IiwicmVxdWlyZSQkOSIsImZyb250TWF0dGVyTW9kdWxlIiwiZGVmYXVsdE9wdGlvbnMiLCJsaW5lcyIsInBhcnNlIiwicG9zIiwib2Zmc2V0IiwiYWxsb3dVbnNhZmUiLCJ5YW1sIiwiYXR0cmlidXRlcyIsImNvbnRlbnQiLCJlcnJvciIsImVsIiwicGFyZW50IiwibSIsInJlYWR5SW1hZ2VzIiwiTGF5b3V0Q29tcG9uZW50IiwiaW1nX2FsdF92YWx1ZSIsImxlZ2FjeW1hc29ucnlpbWFnZV9jaGFuZ2VzIiwiZWFjaF92YWx1ZSIsImVhY2hfYmxvY2tzIiwiY29sdW1ucyIsImJ1dHRvbiIsInN2ZyIsInBhdGgiLCJidXR0b25fY2xhc3NfdmFsdWUiLCJjdXJyZW50IiwicGlsbGJ1dHRvbl9jaGFuZ2VzIiwiaW1nX3NyY192YWx1ZSIsImRpdjMiLCJkaXYyIiwic2xpZGUiLCJpbWFnZVVybHMiLCJzaG93VGh1bWJuYWlscyIsIiQkaW52YWxpZGF0ZSIsImNsaWNrX2hhbmRsZXIiLCJjbGlja19oYW5kbGVyXzEiLCJsYWJlbDAiLCJsYWJlbDEiLCJkaXNwYXRjaCIsInNlbGVjdExheW91dCIsInZhbCIsImlzQnVmZmVyIiwiZXJyIiwidHlwZU9mIiwiZmlsZSIsImRlZmF1bHRzIiwib3B0cyIsImRlbGltIiwic2VjdGlvbnMiLCJzZWN0aW9uIiwic3RhY2siLCJpbml0U2VjdGlvbnMiLCJjbG9zZVNlY3Rpb24iLCJsbiIsInN0cmlwQm9tIiwiZXhwb3J0cyIsInN1YnN0ciIsImVuZ2luZXMiLCJ1dGlscyIsImVuZ2luZSIsImdldEVuZ2luZSIsInN0cmluZ2lmeSIsImxhbmd1YWdlIiwib3BlbiIsImNsb3NlIiwibWF0dGVyIiwiYnVmIiwiZXhjZXJwdCIsInNlcCIsImRlbGltaXRlciIsInRvRmlsZSIsImNhY2hlZCIsIm9wZW5MZW4iLCJjbG9zZUluZGV4IiwiZmlsZXBhdGgiLCJMYXlvdXRQaWNrZXJDb21wb25lbnQiLCJuZXdEYXRhIiwidmlldyIsIk1hcmtkb3duVmlldyIsImluZm8iLCJDYXJvdXNlbENvbXBvbmVudCIsImxheW91dFR5cGUiLCJMZWdhY3lMYXlvdXRDb21wb25lbnQiLCJzdG9wIiwic3Vic2NyaWJlcnMiLCJzZXQiLCJuZXdfdmFsdWUiLCJydW5fcXVldWUiLCJzdWJzY3JpYmVyIiwidXBkYXRlIiwic3Vic2NyaWJlIiwicnVuIiwiaW52YWxpZGF0ZSIsIlBsdWdpblNldHRpbmdUYWIiLCJhcHAiLCJjb250YWluZXJFbCIsIlNldHRpbmciLCJQbHVnaW4iLCJzIl0sIm1hcHBpbmdzIjoiMFBBQ08sU0FBUyxNQUFPLENBQUUsQ0FXbEIsU0FBU0EsU0FBT0MsRUFBS0MsRUFBSyxDQUVoQyxVQUFXQyxLQUFLRCxFQUFLRCxFQUFJRSxDQUFDLEVBQUlELEVBQUlDLENBQUMsRUFDbkMsT0FBNkJGLENBQzlCLENBdUJPLFNBQVMsSUFBSUcsRUFBSSxDQUN2QixPQUFPQSxFQUFFLENBQ1YsQ0FFTyxTQUFTLGNBQWUsQ0FDOUIsT0FBTyxPQUFPLE9BQU8sSUFBSSxDQUMxQixDQU1PLFNBQVMsUUFBUUMsRUFBSyxDQUM1QkEsRUFBSSxRQUFRLEdBQUcsQ0FDaEIsQ0FNTyxTQUFTLFlBQVlDLEVBQU8sQ0FDbEMsT0FBTyxPQUFPQSxHQUFVLFVBQ3pCLENBR08sU0FBUyxlQUFlQyxFQUFHQyxFQUFHLENBQ3BDLE9BQU9ELEdBQUtBLEVBQUlDLEdBQUtBLEVBQUlELElBQU1DLEdBQU1ELEdBQUssT0FBT0EsR0FBTSxVQUFhLE9BQU9BLEdBQU0sVUFDbEYsQ0FFQSxJQUFJLHFCQU9HLFNBQVMsY0FBY0UsRUFBYUMsRUFBSyxDQUMvQyxPQUFJRCxJQUFnQkMsRUFBWSxJQUMzQix1QkFDSixxQkFBdUIsU0FBUyxjQUFjLEdBQUcsR0FHbEQscUJBQXFCLEtBQU9BLEVBQ3JCRCxJQUFnQixxQkFBcUIsS0FDN0MsQ0FxQ08sU0FBUyxTQUFTRSxFQUFL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QUEsQ0FBRSxZQUFBb1UsQ0FBZ0IsRUFBQSxLQUV4QkEsRUFBWSxNQUFNLEVBRWQsSUFBQUMsaUJBQVFELENBQVcsRUFDcEIsUUFBUSw0QkFBNEIsRUFDcEMsUUFBUSx1Q0FBdUMsRUFDL0MsVUFBV3RaLEdBQVcsQ0FFbEJBLEVBQUEsU0FBUyxLQUFLLE9BQU8sU0FBUyx3QkFBd0IsRUFDdEQsU0FBUyxNQUFPZCxHQUFVLENBQ3BCLEtBQUEsT0FBTyxTQUFTLHlCQUEyQkEsRUFDMUMsTUFBQSxLQUFLLE9BQU8sY0FBYSxDQUNoQyxDQUFBLENBQ0osQ0FDTCxDQUNGLENDbkJBLE1BQU0saUJBQXlDLENBQzdDLHlCQUEwQixFQUM1QixFQUVBLE1BQXFCLDJCQUEyQnNhLFNBQUFBLE1BQU8sQ0FFckQsTUFBTSxjQUFlLENBQ2QsS0FBQSxTQUFXLE9BQU8sT0FBTyxDQUFBLEVBQUksaUJBQWtCLE1BQU0sS0FBSyxTQUFBLENBQVUsRUFDdkVDLFNBQUEsSUFBSSxLQUFLLFFBQVEsQ0FDckIsQ0FFQSxNQUFNLGNBQWUsQ0FDYixNQUFBLEtBQUssU0FBUyxLQUFLLFFBQVEsRUFDL0JBLFNBQUEsSUFBSSxLQUFLLFFBQVEsQ0FDckIsQ0FFQSxNQUFNLFFBQVMsQ0FDYixNQUFNLEtBQUssZUFFWCxLQUFLLGNBQWMsSUFBSSx3QkFBd0IsS0FBSyxJQUFLLElBQUksQ0FBQyxFQUU5RCxnQ0FBZ0MsSUFBSSxFQUNwQyx1Q0FBdUMsSUFBSSxFQUMzQyxtQ0FBbUMsSUFBSSxDQUN6QyxDQUVBLFVBQVcsQ0FDVCxRQUFRLElBQUksa0JBQWtCLENBQ2hDLENBQ0YiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDUsNiw3LDgsMTUsMTYsMTcsMTgsMTksMjAsMjEsMjIsMjMsMjQsMjUsMjYsMjcsMjgsMjksMzAsMzEsMzIsMzMsMzQsMzUsMzYsMzcsMzgsMzksNDAsNDEsNDIsNDMsNDQsNDUsNTgsNTksNjAsNjEsNjIsNjMsNjQsNjUsNjYsNjcsNjgsNjksNzAsNzEsNzNdfQ==
