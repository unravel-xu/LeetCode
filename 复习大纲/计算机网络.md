# 绪论
层次间接口定义了下层向上层提供哪些原语操作和服务
协议的组成：语法、语义、定时关系
服务：某一层向它上一层提供的一组原语(操作)
服务对用户可见，协议对用户不可见
服务访问点 SAP：
	任何层间服务是在接口的 SAP 上进行
	每个 SAP 有唯一的识别地址
	每个层间接口可以有多个 SAP
接口数据单元 IDU：
	IDU 是通过 SAP 进行传送的层间信息单元
	IDU 由上层的服务单元 SDU 和接口控制信息 ICI 组成
协议数据单元 PDU：
	第 N 层实体通过网络传送给它的对等实体的信息单元
	PDU 由上层服务数据单元 SDU 或其分段和协议控制信息 PCI 组成
	分段和重组
面向连接的服务：连接建立时，发送方、接收方和子网一起协商
	变体：消息序列（会保持消息的边界 2\*1024B 不会变成 2048B）、字节流（没有消息边界）
无连接的服务(数据报服务)：每条报文携带目标地址，可以被系统独立路由，但无法保证到达时序
点到点：网络中直接连接两个终端设备
端到端：从数据产生(信息的源头，端口)到数据接收(信息的目的地)
## OSI 参考模型
![|400](Images/Pasted%20image%2020241211134759.png)
表示层：处理两个通信系统中信息交换的表示问题，包括
	数据格式化
	数据加密和压缩
	数据转换
	异常处理
会话层：管理和控制两个通信系统之间的会话，确保数据交换按预定的会话流程进行
	会话的建立、维护和终止
	数据的同步和排序
	会话数据的分割和管理
	多个同时进行会话管理
OSI 的网络层同时支持无连接和面向连接的通信
OSI 的传输层只支持面向连接的通信
## TCP/IP 模型
![|400](Images/Pasted%20image%2020241211135204.png)
将物理层和数据链路层合并为：Host-to-Network
	物理层：物理线路上传输原始的二进制数据位
	数据链路层：在有差错的物理线路上提供无差错的数据传输
网络层：控制通信子网提供源点到目的点 IP 包传送，实现异构网络互联
传输层：端到端(端口)的数据传送服务，TCP 和 UDP
应用层：提供各种 Internet 管理和应用服务功能
TCP/IP 的网路层只支持无连接通信
TCP/IP 的传输层同时支持两种通信（和 OSI 相反）
## 5 层模型
![](Images/Pasted%20image%2020241211140117.jpg)
- 物理层：确保原始的数据在各种物理媒介上传输
- 数据链路层(加)：将源自网络层来的数据可靠地传输到相邻节点的目标机网络层
	  主要的协议：以太网协议
	  设备：网桥和交换机
- 网络层：负责对子网间的数据包进行路由选择、拥塞控制……
	  主要的协议：IP、ICMP、ARP、RARP
	  设备：路由器
- 传输层：网络层点对点，传输层将点对点数据传送到对应端口
	  主要的协议：TCP、UDP
	  设备：网关
- 应用层：
## 习题
1. ISO/OSI 模型中的（数据链路）层会在处理协议元数据的时候在数据首尾添加信息
2. 在 TCP/IP 模型中，由传输层相邻的下一层实现的主要功能
   （A）对话管理
   （B）路由选择
   （C）端到端报文段传输
   （D）结点到结点流量控制